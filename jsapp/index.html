<!doctype html>
<html lang="pt-br">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="Description" content="Put your description here.">
  <base href=".">

  <script data-shoelace="."></script>

  <style>
    html,
    body {
      margin: 0;
      padding: 0;
      font-family: sans-serif;
      /* background-color: #ededed; */
    }
    .hidden {
      visibility: hidden;
      opacity: 0;
      pointer-events: none;
    }
    .overlay-carregando {
      width: 80px;
      height: 80px;
      position: absolute;
      top:-50px;
      bottom: 0;
      left: 0;
      right: 0;
      margin: auto;

      background-color: rgb(255, 255, 255);
      display: flex;
      flex-direction: row;
      justify-content: center;
      align-items: center;
      z-index: 100;

      transition: visibility 0.3s ease-out, opacity 0.3s ease-out;
      box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.2);
      border-radius: 10px;
      border: 2px solid #ccc;
    }
    edt-app {
      transition: filter 0.3s ease-out;
    }
    .blured {
      /* -webkit-filter: blur(4px);
      -moz-filter: blur(4px);
      -ms-filter: blur(4px);
      -o-filter: blur(4px); */
      filter: opacity(0.5) blur(3px);
    }
    .sl-toast-stack {
      left: 50%;
      transform: translate(-50%);
      z-index: 9999;
    }
  </style>
  <title>Editor de Emendas</title>
  <script src="./assets/js/lexml-eta/index.min.js" type="module"></script>

</head>

<body>
  <script type="text/javascript">
    // HACK(keanulee): The Redux package assumes `process` exists - mock it here before
    // the module is loaded.
    window.process = {
      env: {
        NODE_ENV: 'production',
      },
    };

    window.addEventListener("orientationchange", function(event) {
      var orientation = (screen.orientation || {}).type || screen.mozOrientation || screen.msOrientation;
      if ( ["landscape-primary","landscape-secondary"].indexOf(orientation)!=-1) {
        if (screen.height < 480) {
          var toast = document.querySelector("edt-app").emitirAlerta(
          'Sua tela é pequena para usar o editor na horizontal '
          + '(' + screen.width + 'x' + screen.height + '). Gire-a para vertical.',
          'danger', 'arrow-clockwise', 10000
          );
        }
      } else if ( ["portrait-primary","portrait-secondary"].indexOf(orientation)!=-1 && document.querySelector("sl-alert"))  {
        document.querySelector("sl-alert").shadowRoot.querySelector("sl-icon-button").click()
      }
      else if (orientation === undefined) {
        console.log("A API de orientação não é suportada nesse navegador :(");
      }
    });
  </script>
  <script type="module" src="./out-tsc/src/index.js"></script>
  <div class="overlay-carregando hidden">
    <sl-spinner style="font-size: 40px; --track-width: 8px;"></sl-spinner>
    <!-- <a href="#" onclick="document.querySelector('edt-app').toggleCarregando()">Carregando...</a> -->
  </div>
  <edt-app></edt-app>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-D73DFWRF3G"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-D73DFWRF3G');
  </script>
</body>

</html>
