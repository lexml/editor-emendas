const t=Symbol("defaultState"),e=Symbol("delegatesFocus"),o=Symbol("firstRender"),i=Symbol("focusTarget"),r=Symbol("hasDynamicTemplate"),n=Symbol("ids"),a=Symbol("nativeInternals"),s=Symbol("raiseChangeEvents"),l=Symbol("render"),c=Symbol("renderChanges"),u=Symbol("rendered"),d=Symbol("rendering"),p=Symbol("setState"),h=Symbol("shadowRoot"),f=Symbol("shadowRootMode"),m=Symbol("state"),v=Symbol("stateEffects"),g=Symbol("template");function b(t,e){return"boolean"==typeof e?e:"string"==typeof e&&(""===e||t.toLowerCase()===e.toLowerCase())}function y(t,e){let o=e;for(;o;){const e=o.assignedSlot||o.parentNode||o.host;if(e===t)return!0;o=e}return!1}function x(t){const e=I(t,(t=>t instanceof HTMLElement&&t.matches('a[href],area[href],button:not([disabled]),details,iframe,input:not([disabled]),select:not([disabled]),textarea:not([disabled]),[contentEditable="true"],[tabindex]')&&t.tabIndex>=0)),{value:o}=e.next();return o instanceof HTMLElement?o:null}function _(t,e){return Array.prototype.findIndex.call(t,(t=>t===e||y(t,e)))}function w(t,e){const o=e.composedPath()[0];return t===o||y(t,o)}function*A(t){t&&(yield t,yield*function*(t){let e=t;for(;e=e instanceof HTMLElement&&e.assignedSlot?e.assignedSlot:e instanceof ShadowRoot?e.host:e.parentNode,e;)yield e}(t))}function E(t,e,o){t.toggleAttribute(e,o),t[a]&&t[a].states&&t[a].states.toggle(e,o)}const O={checked:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,multiple:!0,noresize:!0,readonly:!0,selected:!0};function*I(t,e){let o;if(e(t)&&(yield t),t instanceof HTMLElement&&t.shadowRoot)o=t.shadowRoot.children;else{const e=t instanceof HTMLSlotElement?t.assignedNodes({flatten:!0}):[];o=e.length>0?e:t.childNodes}if(o)for(let t=0;t<o.length;t++)yield*I(o[t],e)}const S={html:(t,...e)=>C.html(t,...e).content},C={html(t,...e){const o=document.createElement("template");return o.innerHTML=String.raw(t,...e),o}},k=new Map;function N(t){if("function"==typeof t){let e;try{e=new t}catch(o){if("TypeError"!==o.name)throw o;!function(t){let e;const o=/^[A-Za-z][A-Za-z0-9_$]*$/,i=t.name&&t.name.match(o);if(i){const t=/([A-Z])/g,o=i[0].replace(t,((t,e,o)=>o>0?`-${e}`:e));e=o.toLowerCase()}else e="custom-element";let r,n=k.get(e)||0;for(;r=`${e}-${n}`,customElements.get(r);n++);customElements.define(r,t),k.set(e,n+1)}(t),e=new t}return e}return document.createElement(t)}function T(t,e){const o=t.parentNode;if(!o)throw"An element must have a parent before it can be substituted.";return(t instanceof HTMLElement||t instanceof SVGElement)&&(e instanceof HTMLElement||e instanceof SVGElement)&&(Array.prototype.forEach.call(t.attributes,(t=>{e.getAttribute(t.name)||"class"===t.name||"style"===t.name||e.setAttribute(t.name,t.value)})),Array.prototype.forEach.call(t.classList,(t=>{e.classList.add(t)})),Array.prototype.forEach.call(t.style,(o=>{e.style[o]||(e.style[o]=t.style[o])}))),e.append(...t.childNodes),o.replaceChild(e,t),e}function q(t,e){if("function"==typeof e&&t.constructor===e||"string"==typeof e&&t instanceof Element&&t.localName===e)return t;{const o=N(e);return T(t,o),o}}const P={tabindex:"tabIndex"},D={tabIndex:"tabindex"};function R(t){if(t===HTMLElement)return[];const e=Object.getPrototypeOf(t.prototype).constructor;let o=e.observedAttributes;o||(o=R(e));const i=Object.getOwnPropertyNames(t.prototype).filter((e=>{const o=Object.getOwnPropertyDescriptor(t.prototype,e);return o&&"function"==typeof o.set})).map((t=>function(t){let e=D[t];if(!e){const o=/([A-Z])/g;e=t.replace(o,"-$1").toLowerCase(),D[t]=e}return e}(t))).filter((t=>o.indexOf(t)<0));return o.concat(i)}const L=Symbol("state"),M=Symbol("raiseChangeEventsInNextRender"),$=Symbol("changedSinceLastRender");function j(t,e){const o={};for(const n in e)i=e[n],r=t[n],(i instanceof Date&&r instanceof Date?i.getTime()===r.getTime():i===r)||(o[n]=!0);var i,r;return o}const z=new Map,F=Symbol("shadowIdProxy"),U=Symbol("proxyElement"),B={get(t,e){const o=t[U][h];return o&&"string"==typeof e?o.getElementById(e):null}};const V=function(t){return class extends t{attributeChangedCallback(t,e,o){if(super.attributeChangedCallback&&super.attributeChangedCallback(t,e,o),o!==e&&!this[d]){const e=function(t){let e=P[t];if(!e){const o=/-([a-z])/g;e=t.replace(o,(t=>t[1].toUpperCase())),P[t]=e}return e}(t);if(e in this){const i=O[t]?b(t,o):o;this[e]=i}}}static get observedAttributes(){return R(this)}}}(function(e){class i extends e{constructor(){super(),this[o]=void 0,this[s]=!1,this[$]=null,this[p](this[t])}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this[c]()}get[t](){return super[t]||{}}[l](t){super[l]&&super[l](t)}[c](){void 0===this[o]&&(this[o]=!0);const t=this[$];if(this[o]||t){const e=this[s];this[s]=this[M],this[d]=!0,this[l](t),this[d]=!1,this[$]=null,this[u](t),this[o]=!1,this[s]=e,this[M]=e}}[u](t){super[u]&&super[u](t)}async[p](t){this[d]&&console.warn(`${this.constructor.name} called [setState] during rendering, which you should avoid.\nSee https://elix.org/documentation/ReactiveMixin.`);const{state:e,changed:i}=function(t,e){const o=Object.assign({},t[L]),i={};let r=e;for(;;){const e=j(o,r);if(0===Object.keys(e).length)break;Object.assign(o,r),Object.assign(i,e),r=t[v](o,e)}return{state:o,changed:i}}(this,t);if(this[L]&&0===Object.keys(i).length)return;Object.freeze(e),this[L]=e,this[s]&&(this[M]=!0);const r=void 0===this[o]||null!==this[$];this[$]=Object.assign(this[$]||{},i);this.isConnected&&!r&&(await Promise.resolve(),this[c]())}get[m](){return this[L]}[v](t,e){return super[v]?super[v](t,e):{}}}return"true"===new URLSearchParams(location.search).get("elixdebug")&&Object.defineProperty(i.prototype,"state",{get(){return this[m]}}),i}(function(t){return class extends t{get[n](){if(!this[F]){const t={[U]:this};this[F]=new Proxy(t,B)}return this[F]}[l](t){if(super[l]&&super[l](t),!this[h]){const t=function(t){let e=t[r]?void 0:z.get(t.constructor);if(void 0===e){if(e=t[g],e&&!(e instanceof HTMLTemplateElement))throw`Warning: the [template] property for ${t.constructor.name} must return an HTMLTemplateElement.`;t[r]||z.set(t.constructor,e||null)}return e}(this);if(t){const o=this.attachShadow({delegatesFocus:this[e],mode:this[f]}),i=document.importNode(t.content,!0);o.append(i),this[h]=o}else this[h]=null}}get[f](){return"open"}}}(HTMLElement))),H=Symbol("checkSize"),G=Symbol("closestAvailableItemIndex"),K=Symbol("contentSlot"),W=t,Q=Symbol("defaultTabIndex"),X=e,Z=Symbol("effectEndTarget"),Y=o,J=i,tt=Symbol("getItemText"),et=Symbol("goDown"),ot=Symbol("goEnd"),it=Symbol("goFirst"),rt=Symbol("goLast"),nt=Symbol("goLeft"),at=Symbol("goNext"),st=Symbol("goPrevious"),lt=Symbol("goRight"),ct=Symbol("goStart"),ut=Symbol("goToItemWithPrefix"),dt=Symbol("goUp"),pt=r,ht=n,ft=Symbol("inputDelegate"),mt=Symbol("itemsDelegate"),vt=Symbol("keydown"),gt=Symbol("mouseenter"),bt=Symbol("mouseleave"),yt=a,xt=s,_t=l,wt=c,At=Symbol("renderDataToElement"),Et=u,Ot=d,It=Symbol("scrollTarget"),St=p,Ct=h,kt=f,Nt=Symbol("startEffect"),Tt=m,qt=v,Pt=Symbol("swipeDown"),Dt=Symbol("swipeDownComplete"),Rt=Symbol("swipeLeft"),Lt=Symbol("swipeLeftTransitionEnd"),Mt=Symbol("swipeRight"),$t=Symbol("swipeRightTransitionEnd"),jt=Symbol("swipeUp"),zt=Symbol("swipeUpComplete"),Ft=Symbol("swipeStart"),Ut=Symbol("swipeTarget"),Bt=Symbol("tap"),Vt=g,Ht=Symbol("toggleSelectedFlag");"true"===new URLSearchParams(location.search).get("elixdebug")&&(window.elix={internal:{checkSize:H,closestAvailableItemIndex:G,contentSlot:K,defaultState:W,defaultTabIndex:Q,delegatesFocus:X,effectEndTarget:Z,firstRender:Y,focusTarget:J,getItemText:tt,goDown:et,goEnd:ot,goFirst:it,goLast:rt,goLeft:nt,goNext:at,goPrevious:st,goRight:lt,goStart:ct,goToItemWithPrefix:ut,goUp:dt,hasDynamicTemplate:pt,ids:ht,inputDelegate:ft,itemsDelegate:mt,keydown:vt,mouseenter:gt,mouseleave:bt,nativeInternals:yt,event:event,raiseChangeEvents:xt,render:_t,renderChanges:wt,renderDataToElement:At,rendered:Et,rendering:Ot,scrollTarget:It,setState:St,shadowRoot:Ct,shadowRootMode:kt,startEffect:Nt,state:Tt,stateEffects:qt,swipeDown:Pt,swipeDownComplete:Dt,swipeLeft:Rt,swipeLeftTransitionEnd:Lt,swipeRight:Mt,swipeRightTransitionEnd:$t,swipeUp:jt,swipeUpComplete:zt,swipeStart:Ft,swipeTarget:Ut,tap:Bt,template:Vt,toggleSelectedFlag:Ht}});const Gt=Symbol("previousBodyStyleOverflow"),Kt=Symbol("previousDocumentMarginRight");const Wt=Symbol("wrap"),Qt=Symbol("wrappingFocus");function Xt(t){return class extends t{[vt](t){const e=x(this[Ct]);if(e){const o=document.activeElement&&(document.activeElement===e||document.activeElement.contains(e)),i=this[Ct].activeElement,r=i&&(i===e||y(i,e));(o||r)&&"Tab"===t.key&&t.shiftKey&&(this[Qt]=!0,this[ht].focusCatcher.focus(),this[Qt]=!1)}return super[vt]&&super[vt](t)||!1}[_t](t){super[_t]&&super[_t](t),this[Y]&&this[ht].focusCatcher.addEventListener("focus",(()=>{if(!this[Qt]){const t=x(this[Ct]);t&&t.focus()}}))}[Wt](t){const e=S.html`
        <style>
          #focusCapture {
            display: flex;
            height: 100%;
            overflow: hidden;
            width: 100%;
          }

          #focusCaptureContainer {
            align-items: center;
            display: flex;
            flex: 1;
            flex-direction: column;
            justify-content: center;
            position: relative;
          }
        </style>
        <div id="focusCapture">
          <div id="focusCaptureContainer"></div>
          <div id="focusCatcher" tabindex="0"></div>
        </div>
      `,o=e.getElementById("focusCaptureContainer");o&&(t.replaceWith(e),o.append(t))}}}function Zt(t){return class extends t{constructor(){super(),this.addEventListener("keydown",(async t=>{this[xt]=!0,this[Tt].focusVisible||this[St]({focusVisible:!0});this[vt](t)&&(t.preventDefault(),t.stopImmediatePropagation()),await Promise.resolve(),this[xt]=!1}))}attributeChangedCallback(t,e,o){if("tabindex"===t){let t;null===o?t=-1:(t=Number(o),isNaN(t)&&(t=this[Q]?this[Q]:0)),this.tabIndex=t}else super.attributeChangedCallback(t,e,o)}get[W](){const t=this[X]?-1:0;return Object.assign(super[W]||{},{tabIndex:t})}[vt](t){return!!super[vt]&&super[vt](t)}[_t](t){super[_t]&&super[_t](t),t.tabIndex&&(this.tabIndex=this[Tt].tabIndex)}get tabIndex(){return super.tabIndex}set tabIndex(t){super.tabIndex!==t&&(super.tabIndex=t),this[Ot]||this[St]({tabIndex:t})}}}Xt.wrap=Wt;const Yt=function(t){return class extends t{get[W](){return Object.assign(super[W]||{},{role:null})}[_t](t){if(super[_t]&&super[_t](t),t.role){const{role:t}=this[Tt];t?this.setAttribute("role",t):this.removeAttribute("role")}}get role(){return super.role}set role(t){const e=String(t);super.role=e,this[Ot]||this[St]({s:e})}}}(V);class Jt extends Yt{get[W](){return Object.assign(super[W],{role:"none"})}get[Vt](){return C.html`
      <style>
        :host {
          display: inline-block;
          height: 100%;
          left: 0;
          position: fixed;
          top: 0;
          touch-action: manipulation;
          width: 100%;
        }
      </style>
      <slot></slot>
    `}}class te extends Jt{constructor(){super(),"PointerEvent"in window||this.addEventListener("touchmove",(t=>{1===t.touches.length&&t.preventDefault()}))}}const ee=Symbol("closePromise"),oe=Symbol("closeResolve");function ie(t){return class extends t{attributeChangedCallback(t,e,o){if("opened"===t){const e=b(t,o);this.opened!==e&&(this.opened=e)}else super.attributeChangedCallback(t,e,o)}async close(t){super.close&&await super.close(),this[St]({closeResult:t}),await this.toggle(!1)}get closed(){return this[Tt]&&!this[Tt].opened}get closeFinished(){return this[Tt].closeFinished}get closeResult(){return this[Tt].closeResult}get[W](){const t={closeResult:null,opened:!1};return this[Nt]&&Object.assign(t,{closeFinished:!0,effect:"close",effectPhase:"after",openCloseEffects:!0}),Object.assign(super[W]||{},t)}async open(){super.open&&await super.open(),this[St]({closeResult:void 0}),await this.toggle(!0)}get opened(){return this[Tt]&&this[Tt].opened}set opened(t){this[St]({closeResult:void 0}),this.toggle(t)}[_t](t){if(super[_t](t),t.opened){const{opened:t}=this[Tt];E(this,"opened",t)}if(t.closeFinished){const{closeFinished:t}=this[Tt];E(this,"closed",t)}}[Et](t){if(super[Et]&&super[Et](t),t.opened&&this[xt]){const t=new CustomEvent("opened-changed",{bubbles:!0,detail:{closeResult:this[Tt].closeResult,opened:this[Tt].opened}});this.dispatchEvent(t);const e=new CustomEvent("openedchange",{bubbles:!0,detail:{closeResult:this[Tt].closeResult,opened:this[Tt].opened}});if(this.dispatchEvent(e),this[Tt].opened){const t=new CustomEvent("opened",{bubbles:!0});this.dispatchEvent(t);const e=new CustomEvent("open",{bubbles:!0});this.dispatchEvent(e)}else{const t=new CustomEvent("closed",{bubbles:!0,detail:{closeResult:this[Tt].closeResult}});this.dispatchEvent(t);const e=new CustomEvent("close",{bubbles:!0,detail:{closeResult:this[Tt].closeResult}});this.dispatchEvent(e)}}const e=this[oe];this.closeFinished&&e&&(this[oe]=null,this[ee]=null,e(this[Tt].closeResult))}[qt](t,e){const o=super[qt]?super[qt](t,e):{};if(e.openCloseEffects||e.effect||e.effectPhase||e.opened){const{effect:e,effectPhase:i,openCloseEffects:r,opened:n}=t,a=r?"close"===e&&"after"===i:!n;Object.assign(o,{closeFinished:a})}return o}async toggle(t=!this.opened){super.toggle&&await super.toggle(t);if(t!==this[Tt].opened){const e={opened:t};this[Tt].openCloseEffects&&(e.effect=t?"open":"close","after"===this[Tt].effectPhase&&(e.effectPhase="before")),await this[St](e)}}whenClosed(){return this[ee]||(this[ee]=new Promise((t=>{this[oe]=t}))),this[ee]}}}class re extends V{get[Vt](){return C.html`
      <style>
        :host {
          display: inline-block;
          position: relative;
        }
      </style>
      <slot></slot>
    `}}const ne=Symbol("appendedToDocument"),ae=Symbol("assignedZIndex"),se=Symbol("restoreFocusToElement");function le(t){const e=function(){const t=document.body.querySelectorAll("*"),e=Array.from(t,(t=>{const e=getComputedStyle(t);let o=0;if("static"!==e.position&&"auto"!==e.zIndex){const t=e.zIndex?parseInt(e.zIndex):0;o=isNaN(t)?0:t}return o}));return Math.max(...e)}()+1;t[ae]=e,t.style.zIndex=e.toString()}function ce(t){const e=getComputedStyle(t).zIndex,o=t.style.zIndex,i=!isNaN(parseInt(o));if("auto"===e)return i;if("0"===e&&!i){const e=t.assignedSlot||(t instanceof ShadowRoot?t.host:t.parentNode);if(!(e instanceof HTMLElement))return!0;if(!ce(e))return!1}return!0}function ue(t){return class extends t{get[K](){const t=this[Ct]&&this[Ct].querySelector("slot:not([name])");return this[Ct]&&t||console.warn(`SlotContentMixin expects ${this.constructor.name} to define a shadow tree that includes a default (unnamed) slot.\nSee https://elix.org/documentation/SlotContentMixin.`),t}get[W](){return Object.assign(super[W]||{},{content:null})}[Et](t){if(super[Et]&&super[Et](t),this[Y]){const t=this[K];t&&t.addEventListener("slotchange",(async()=>{this[xt]=!0;const e=t.assignedNodes({flatten:!0});Object.freeze(e),this[St]({content:e}),await Promise.resolve(),this[xt]=!1}))}}}}const de=ie(function(t){return class extends t{get autoFocus(){return this[Tt].autoFocus}set autoFocus(t){this[St]({autoFocus:t})}get[W](){return Object.assign(super[W]||{},{autoFocus:!0,persistent:!1})}async open(){this[Tt].persistent||this.isConnected||(this[ne]=!0,document.body.append(this)),super.open&&await super.open()}[_t](t){if(super[_t]&&super[_t](t),this[Y]&&this.addEventListener("blur",(t=>{const e=t.relatedTarget||document.activeElement;if(e instanceof HTMLElement){y(this,e)||(this.opened?this[se]=e:(e.focus(),this[se]=null))}})),(t.effectPhase||t.opened||t.persistent)&&!this[Tt].persistent){(void 0===this.closeFinished?this.closed:this.closeFinished)?this[ae]&&(this.style.zIndex="",this[ae]=null):this[ae]?this.style.zIndex=this[ae]:ce(this)||le(this)}}[Et](t){if(super[Et]&&super[Et](t),this[Y]&&this[Tt].persistent&&!ce(this)&&le(this),t.opened&&this[Tt].autoFocus)if(this[Tt].opened){this[se]||document.activeElement===document.body||(this[se]=document.activeElement);const t=x(this);t&&t.focus()}else this[se]&&(this[se].focus(),this[se]=null);!this[Y]&&!this[Tt].persistent&&this.closeFinished&&this[ne]&&(this[ne]=!1,this.parentNode&&this.parentNode.removeChild(this))}get[Vt](){const t=super[Vt]||C.html``;return t.content.append(S.html`
        <style>
          :host([closed]) {
            display: none;
          }
        </style>
      `),t}}}(ue(V)));class pe extends de{get backdrop(){return this[ht]&&this[ht].backdrop}get backdropPartType(){return this[Tt].backdropPartType}set backdropPartType(t){this[St]({backdropPartType:t})}get[W](){return Object.assign(super[W],{backdropPartType:Jt,framePartType:re})}get frame(){return this[ht].frame}get framePartType(){return this[Tt].framePartType}set framePartType(t){this[St]({framePartType:t})}[_t](t){super[_t](t),he(this[Ct],this[Tt],t)}[Et](t){super[Et](t),t.opened&&this[Tt].content&&this[Tt].content.forEach((t=>{t[H]&&t[H]()}))}get[Vt](){const t=super[Vt];return t.content.append(S.html`
      <style>
        :host {
          display: inline-grid;
          /* Constrain content if overlay's height is constrained. */
          grid-template: minmax(0, 1fr) / minmax(0, 1fr);
          max-height: 100vh;
          max-width: 100vw;
          outline: none;
          position: fixed;
          -webkit-tap-highlight-color: transparent;
        }

        [part~="frame"] {
          box-sizing: border-box;
          display: grid;
          overscroll-behavior: contain;
          pointer-events: initial;
          position: relative;
        }

        #frameContent {
          display: grid;
          grid-template: minmax(0, 1fr) / minmax(0, 1fr);
          overflow: hidden;
        }
      </style>
      <div id="backdrop" part="backdrop" tabindex="-1"></div>
      <div id="frame" part="frame" role="none">
        <div id="frameContent">
          <slot></slot>
        </div>
      </div>
    `),he(t.content,this[Tt]),t}}function he(t,e,o){if(!o||o.backdropPartType){const{backdropPartType:o}=e,i=t.getElementById("backdrop");i&&q(i,o)}if(!o||o.framePartType){const{framePartType:o}=e,i=t.getElementById("frame");i&&q(i,o)}}const fe=function(t){return class extends t{get[W](){return Object.assign(super[W]||{},{role:"dialog"})}[vt](t){let e=!1;if("Escape"===t.key)this.close({canceled:"Escape"}),e=!0;return e||super[vt]&&super[vt](t)||!1}[_t](t){if(super[_t]&&super[_t](t),t.opened)if(this[Tt].opened&&document.documentElement){const t=document.documentElement.clientWidth,e=window.innerWidth-t;this[Gt]=document.body.style.overflow,this[Kt]=e>0?document.documentElement.style.marginRight:null,document.body.style.overflow="hidden",e>0&&(document.documentElement.style.marginRight=`${e}px`)}else null!=this[Gt]&&(document.body.style.overflow=this[Gt],this[Gt]=null),null!=this[Kt]&&(document.documentElement.style.marginRight=this[Kt],this[Kt]=null);if(t.role){const{role:t}=this[Tt];this.setAttribute("role",t)}}get role(){return super.role}set role(t){super.role=t,this[Ot]||this[St]({role:t})}}}(Xt(Zt(pe)));class me extends fe{get[W](){return Object.assign(super[W],{backdropPartType:te,tabIndex:-1})}get[Vt](){const t=super[Vt],e=t.content.querySelector("#frame");return this[Xt.wrap](e),t.content.append(S.html`
        <style>
          :host {
            height: 100%;
            left: 0;
            pointer-events: initial;
            top: 0;
            width: 100%;
          }
        </style>
      `),t}}class ve extends me{get choiceButtons(){return this[Tt].choiceButtons}get choiceButtonPartType(){return this[Tt].choiceButtonPartType}set choiceButtonPartType(t){this[St]({choiceButtonPartType:t})}get choices(){return this[Tt].choices}set choices(t){this[St]({choices:t})}get[W](){return Object.assign(super[W],{choiceButtonPartType:"button",choiceButtons:[],choices:["OK"]})}[vt](t){let e=!1;const o=1===t.key.length&&t.key.toLowerCase();if(o){const t=this.choices.find((t=>t[0].toLowerCase()===o));t&&(this.close({choice:t}),e=!0)}return e||super[vt]&&super[vt](t)||!1}[_t](t){super[_t](t),this[Y]&&this[ht].choiceButtonContainer.addEventListener("click",(async t=>{const e=t.target;if(e instanceof HTMLElement){const t=e.textContent;this[xt]=!0,await this.close({choice:t}),this[xt]=!1}})),t.choiceButtons&&function(t,e){const o=[...e],i=t.childNodes.length,r=o.length,n=Math.max(i,r);for(let e=0;e<n;e++){const n=t.childNodes[e],a=o[e];e>=i?t.append(a):e>=r?t.removeChild(t.childNodes[r]):n!==a&&(o.indexOf(n,e)>=e?t.insertBefore(a,n):t.replaceChild(a,n))}}(this[ht].choiceButtonContainer,this[Tt].choiceButtons)}[qt](t,e){const o=super[qt](t,e);if(e.choiceButtonPartType||e.choices){const e=t.choices.map((e=>{const o=N(t.choiceButtonPartType);return"part"in o&&(o.part="choice-button"),o.textContent=e,o}));Object.freeze(e),Object.assign(o,{choiceButtons:e})}return o}get[Vt](){const t=super[Vt],e=t.content.querySelector("slot:not([name])");return e&&e.replaceWith(S.html`
        <div id="alertDialogContent">
          <slot></slot>
          <div id="choiceButtonContainer" part="choice-button-container"></div>
        </div>
      `),t}}const ge=document.createElement("div");ge.attachShadow({mode:"open",delegatesFocus:!0});const be=ge.shadowRoot.delegatesFocus;function ye(t){if("selectedText"in t)return t.selectedText;if("value"in t&&"options"in t){const e=t.value,o=t.options.find((t=>t.value===e));return o?o.innerText:""}return"value"in t?t.value:t.innerText}function xe(t,e){const{ariaLabel:o,ariaLabelledby:i}=e,r=t.isConnected?t.getRootNode():null;let n=null;if(i&&r){const o=i.split(" ").map((o=>{const i=r.getElementById(o);return i?i===t&&null!==e.value?e.selectedText:ye(i):""}));n=o.join(" ")}else if(o)n=o;else if(r){const e=t.id;if(e){const t=r.querySelector(`[for="${e}"]`);t instanceof HTMLElement&&(n=ye(t))}if(null===n){const e=t.closest("label");e&&(n=ye(e))}}return n&&(n=n.trim()),n}let _e=!1;const we=Symbol("focusVisibleChangedListener");function Ae(t){return class extends t{constructor(){super(),this.addEventListener("focusout",(t=>{Promise.resolve().then((()=>{const e=t.relatedTarget||document.activeElement,o=this===e,i=y(this,e);!o&&!i&&(this[St]({focusVisible:!1}),document.removeEventListener("focusvisiblechange",this[we]),this[we]=null)}))})),this.addEventListener("focusin",(()=>{Promise.resolve().then((()=>{this[Tt].focusVisible!==_e&&this[St]({focusVisible:_e}),this[we]||(this[we]=()=>{this[St]({focusVisible:_e})},document.addEventListener("focusvisiblechange",this[we]))}))}))}get[W](){return Object.assign(super[W]||{},{focusVisible:!1})}[_t](t){if(super[_t]&&super[_t](t),t.focusVisible){const{focusVisible:t}=this[Tt];this.toggleAttribute("focus-visible",t)}}get[Vt](){const t=super[Vt]||C.html``;return t.content.append(S.html`
        <style>
          :host {
            outline: none;
          }

          :host([focus-visible]:focus-within) {
            outline-color: Highlight; /* Firefox */
            outline-color: -webkit-focus-ring-color; /* All other browsers */
            outline-style: auto;
          }
        </style>
      `),t}}}function Ee(t){if(_e!==t){_e=t;const e=new CustomEvent("focus-visible-changed",{detail:{focusVisible:_e}});document.dispatchEvent(e);const o=new CustomEvent("focusvisiblechange",{detail:{focusVisible:_e}});document.dispatchEvent(o)}}function Oe(t){return class extends t{get[X](){return!0}focus(t){const e=this[J];e&&e.focus(t)}get[J](){return x(this[Ct])}}}window.addEventListener("keydown",(()=>{Ee(!0)}),{capture:!0}),window.addEventListener("mousedown",(()=>{Ee(!1)}),{capture:!0});const Ie=Symbol("extends"),Se=Symbol("delegatedPropertySetters"),Ce={a:!0,area:!0,button:!0,details:!0,iframe:!0,input:!0,select:!0,textarea:!0},ke={address:["scroll"],blockquote:["scroll"],caption:["scroll"],center:["scroll"],dd:["scroll"],dir:["scroll"],div:["scroll"],dl:["scroll"],dt:["scroll"],fieldset:["scroll"],form:["reset","scroll"],frame:["load"],h1:["scroll"],h2:["scroll"],h3:["scroll"],h4:["scroll"],h5:["scroll"],h6:["scroll"],iframe:["load"],img:["abort","error","load"],input:["abort","change","error","select","load"],li:["scroll"],link:["load"],menu:["scroll"],object:["error","scroll"],ol:["scroll"],p:["scroll"],script:["error","load"],select:["change","scroll"],tbody:["scroll"],tfoot:["scroll"],thead:["scroll"],textarea:["change","select","scroll"]},Ne=["click","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","wheel"],Te={abort:!0,change:!0,reset:!0},qe=["address","article","aside","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"],Pe=["accept-charset","autoplay","buffered","challenge","codebase","colspan","contenteditable","controls","crossorigin","datetime","dirname","for","formaction","http-equiv","icon","ismap","itemprop","keytype","language","loop","manifest","maxlength","minlength","muted","novalidate","preload","radiogroup","readonly","referrerpolicy","rowspan","scoped","usemap"],De=Oe(V);class Re extends De{constructor(){super();const t=this;!this[yt]&&t.attachInternals&&(this[yt]=t.attachInternals())}attributeChangedCallback(t,e,o){if(Pe.indexOf(t)>=0){const e=Object.assign({},this[Tt].innerAttributes,{[t]:o});this[St]({innerAttributes:e})}else super.attributeChangedCallback(t,e,o)}blur(){this.inner.blur()}get[W](){return Object.assign(super[W],{innerAttributes:{}})}get[Q](){return Ce[this.extends]?0:-1}get extends(){return this.constructor[Ie]}get inner(){const t=this[ht]&&this[ht].inner;return t||console.warn("Attempted to get an inner standard element before it was instantiated."),t}static get observedAttributes(){return[...super.observedAttributes,...Pe]}[_t](t){super[_t](t);const e=this.inner;if(this[Y]){(ke[this.extends]||[]).forEach((t=>{e.addEventListener(t,(()=>{const e=new Event(t,{bubbles:Te[t]||!1});this.dispatchEvent(e)}))})),"disabled"in e&&Ne.forEach((t=>{this.addEventListener(t,(t=>{e.disabled&&t.stopImmediatePropagation()}))}))}if(t.tabIndex&&(e.tabIndex=this[Tt].tabIndex),t.innerAttributes){const{innerAttributes:t}=this[Tt];for(const o in t)Le(e,o,t[o])}this.constructor[Se].forEach((o=>{if(t[o]){const t=this[Tt][o];("selectionEnd"===o||"selectionStart"===o)&&null===t||(e[o]=t)}}))}[Et](t){if(super[Et](t),t.disabled){const{disabled:t}=this[Tt];void 0!==t&&E(this,"disabled",t)}}get[Vt](){const t=qe.includes(this.extends)?"block":"inline-block",e=this.extends;return C.html`
      <style>
        :host {
          display: ${t}
        }
        
        [part~="inner"] {
          box-sizing: border-box;
          height: 100%;
          width: 100%;
        }
      </style>
      <${e} id="inner" part="inner ${e}">
        <slot></slot>
      </${e}>
    `}static wrap(t){class e extends Re{}e[Ie]=t;const o=document.createElement(t);return function(t,e){const o=Object.getOwnPropertyNames(e);t[Se]=[],o.forEach((o=>{const i=Object.getOwnPropertyDescriptor(e,o);if(!i)return;const r=function(t,e){if("function"==typeof e.value){if("constructor"!==t)return function(t,e){const o=function(...e){this.inner[t](...e)};return{configurable:e.configurable,enumerable:e.enumerable,value:o,writable:e.writable}}(t,e)}else if("function"==typeof e.get||"function"==typeof e.set)return function(t,e){const o={configurable:e.configurable,enumerable:e.enumerable};e.get&&(o.get=function(){return function(t,e){return t[Tt][e]||t[Ct]&&t.inner[e]}(this,t)});e.set&&(o.set=function(e){!function(t,e,o){t[Tt][e]!==o&&t[St]({[e]:o})}(this,t,e)});e.writable&&(o.writable=e.writable);return o}(t,e);return null}(o,i);r&&(Object.defineProperty(t.prototype,o,r),r.set&&t[Se].push(o))}))}(e,Object.getPrototypeOf(o)),e}}function Le(t,e,o){O[e]?"string"==typeof o?t.setAttribute(e,""):null===o&&t.removeAttribute(e):null!=o?t.setAttribute(e,o.toString()):t.removeAttribute(e)}const Me=function(t){return class extends t{get[W](){return Object.assign(super[W]||{},{composeFocus:!be})}[_t](t){super[_t]&&super[_t](t),this[Y]&&this.addEventListener("mousedown",(t=>{if(this[Tt].composeFocus&&0===t.button&&t.target instanceof Element){const e=function(t){for(const e of A(t)){const t=e[i]||e,o=t;if(t instanceof HTMLElement&&t.tabIndex>=0&&!o.disabled&&!(t instanceof HTMLSlotElement))return t}return null}(t.target);e&&(e.focus(),t.preventDefault())}}))}}}(function(t){return class extends t{get ariaLabel(){return this[Tt].ariaLabel}set ariaLabel(t){this[Tt].removingAriaAttribute||this[St]({ariaLabel:String(t)})}get ariaLabelledby(){return this[Tt].ariaLabelledby}set ariaLabelledby(t){this[Tt].removingAriaAttribute||this[St]({ariaLabelledby:String(t)})}get[W](){return Object.assign(super[W]||{},{ariaLabel:null,ariaLabelledby:null,inputLabel:null,removingAriaAttribute:!1})}[_t](t){if(super[_t]&&super[_t](t),this[Y]&&this.addEventListener("focus",(()=>{this[xt]=!0;const t=xe(this,this[Tt]);this[St]({inputLabel:t}),this[xt]=!1})),t.inputLabel){const{inputLabel:t}=this[Tt];t?this[ft].setAttribute("aria-label",t):this[ft].removeAttribute("aria-label")}}[Et](t){if(super[Et]&&super[Et](t),this[Y]){(window.requestIdleCallback||setTimeout)((()=>{const t=xe(this,this[Tt]);this[St]({inputLabel:t})}))}const{ariaLabel:e,ariaLabelledby:o}=this[Tt];t.ariaLabel&&!this[Tt].removingAriaAttribute&&this.getAttribute("aria-label")&&(this.setAttribute("delegated-label",e),this[St]({removingAriaAttribute:!0}),this.removeAttribute("aria-label")),t.ariaLabelledby&&!this[Tt].removingAriaAttribute&&this.getAttribute("aria-labelledby")&&(this.setAttribute("delegated-labelledby",o),this[St]({removingAriaAttribute:!0}),this.removeAttribute("aria-labelledby")),t.removingAriaAttribute&&this[Tt].removingAriaAttribute&&this[St]({removingAriaAttribute:!1})}[qt](t,e){const o=super[qt]?super[qt](t,e):{};if(e.ariaLabel&&t.ariaLabel||e.selectedText&&t.ariaLabelledby&&this.matches(":focus-within")){const e=xe(this,t);Object.assign(o,{inputLabel:e})}return o}}}(Ae(Re.wrap("button"))));class $e extends Me{get[W](){return Object.assign(super[W],{role:"button"})}get[ft](){return this[ht].inner}[Bt](){const t=new MouseEvent("click",{bubbles:!0,cancelable:!0});this.dispatchEvent(t)}get[Vt](){const t=super[Vt];return t.content.append(S.html`
        <style>
          :host {
            display: inline-flex;
            outline: none;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
          }

          [part~="button"] {
            align-items: center;
            background: none;
            border: none;
            color: inherit;
            flex: 1;
            font: inherit;
            outline: none;
            padding: 0;
          }
        </style>
      `),t}}class je extends(function(t){return class extends t{get[Vt](){const t=super[Vt];return t.content.append(S.html`
        <style>
          :host([disabled]) ::slotted(*) {
            opacity: 0.5;
          }

          [part~="button"] {
            display: inline-flex;
            justify-content: center;
            margin: 0;
            position: relative;
          }
        </style>
      `),t}}}($e)){}class ze extends je{get[Vt](){const t=super[Vt];return t.content.append(S.html`
        <style>
          [part~="button"] {
            background: #eee;
            border: 1px solid #ccc;
            padding: 0.25em 0.5em;
          }
        </style>
      `),t}}class Fe extends te{get[Vt](){const t=super[Vt];return t.content.append(S.html`
        <style>
          :host {
            background: rgba(0, 0, 0, 0.2);
          }
        </style>
      `),t}}class Ue extends re{get[Vt](){const t=super[Vt];return t.content.append(S.html`
        <style>
          :host {
            background: white;
            border: 1px solid rgba(0, 0, 0, 0.2);
            box-shadow: 0 0px 10px rgba(0, 0, 0, 0.5);
            box-sizing: border-box;
          }
        </style>
      `),t}}function Be(t){return class extends t{get[W](){return Object.assign(super[W]||{},{backdropPartType:Fe,framePartType:Ue})}}}class Ve extends(Be(ve)){get[W](){return Object.assign(super[W],{choiceButtonPartType:ze})}get[Vt](){const t=super[Vt];return t.content.append(S.html`
        <style>
          [part~="frame"] {
            padding: 1em;
          }

          [part~="choice-button-container"] {
            margin-top: 1em;
          }

          [part~="choice-button"]:not(:first-child) {
            margin-left: 0.5em;
          }
        </style>
      `),t}}customElements.define("elix-alert-dialog",class extends Ve{});class He extends(Be(me)){}customElements.define("elix-dialog",class extends He{});const Ge={a:"link",article:"region",button:"button",h1:"sectionhead",h2:"sectionhead",h3:"sectionhead",h4:"sectionhead",h5:"sectionhead",h6:"sectionhead",hr:"sectionhead",iframe:"region",link:"link",menu:"menu",ol:"list",option:"option",output:"liveregion",progress:"progressbar",select:"select",table:"table",td:"td",textarea:"textbox",th:"th",ul:"list"};function Ke(t){const e=t[Ct],o=e&&e.querySelector("slot:not([name])");return o&&o.parentNode instanceof Element&&function(t){for(const e of A(t))if(e instanceof HTMLElement&&We(e))return e;return null}(o.parentNode)||t}function We(t){const e=getComputedStyle(t),o=e.overflowX,i=e.overflowY;return"scroll"===o||"auto"===o||"scroll"===i||"auto"===i}function Qe(t,e,o){const i=t[G](t[Tt],{direction:o,index:e});if(i<0)return!1;const r=t[Tt].currentIndex!==i;return r&&t[St]({currentIndex:i}),r}const Xe=["applet","basefont","embed","font","frame","frameset","isindex","keygen","link","multicol","nextid","noscript","object","param","script","style","template","noembed"];function Ze(t,e,o){const i=t[Tt].items,r=o?0:i.length-1,n=o?i.length:0,a=o?1:-1;let s,l,c=null;const{availableItemFlags:u}=t[Tt];for(s=r;s!==n;s+=a){if((!u||u[s])&&(l=i[s].getBoundingClientRect(),l.top<=e&&e<=l.bottom)){c=i[s];break}}if(!c||!l)return null;const d=getComputedStyle(c),p=d.paddingTop?parseFloat(d.paddingTop):0,h=d.paddingBottom?parseFloat(d.paddingBottom):0,f=l.top+p,m=f+c.clientHeight-p-h;return o&&f<=e||!o&&m>=e?s:s-a}function Ye(t,e){const o=t[Tt].items,i=t[Tt].currentIndex,r=t[It].getBoundingClientRect(),n=Ze(t,e?r.bottom:r.top,e);let a;if(n&&i===n){const r=o[i].getBoundingClientRect(),n=t[It].clientHeight;a=Ze(t,e?r.bottom+n:r.top-n,e)}else a=n;if(!a){const i=e?o.length-1:0;a=t[G]?t[G](t[Tt],{direction:e?-1:1,index:i}):i}const s=a!==i;if(s){const e=t[xt];t[xt]=!0,t[St]({currentIndex:a}),t[xt]=e}return s}const Je=Symbol("typedPrefix"),to=Symbol("prefixTimeout");function eo(t){const e=t;e[to]&&(clearTimeout(e[to]),e[to]=!1)}function oo(t){t[Je]="",eo(t)}function io(t){eo(t),t[to]=setTimeout((()=>{oo(t)}),1e3)}function ro(t){return class extends t{connectedCallback(){const t="rtl"===getComputedStyle(this).direction;this[St]({rightToLeft:t}),super.connectedCallback()}}}function no(t){return class extends t{get[W](){return Object.assign(super[W]||{},{items:null})}[qt](t,e){const o=super[qt]?super[qt](t,e):{};if(e.content){const e=t.content,i=e?Array.prototype.filter.call(e,(t=>{return(e=t)instanceof Element&&(!e.localName||Xe.indexOf(e.localName)<0);var e})):null;i&&Object.freeze(i),Object.assign(o,{items:i})}return o}}}const ao=function(t){return class extends t{get[W](){const t=super[W];return Object.assign(t,{itemRole:t.itemRole||"menuitem",role:t.role||"menu"})}get itemRole(){return this[Tt].itemRole}set itemRole(t){this[St]({itemRole:t})}[_t](t){super[_t]&&super[_t](t);const e=this[Tt].items;if((t.items||t.itemRole)&&e){const{itemRole:t}=this[Tt];e.forEach((e=>{t===Ge[e.localName]?e.removeAttribute("role"):e.setAttribute("role",t)}))}if(t.role){const{role:t}=this[Tt];this.setAttribute("role",t)}}get role(){return super.role}set role(t){super.role=t,this[Ot]||this[St]({role:t})}}}(function(t){return class extends t{attributeChangedCallback(t,e,o){if("current-index"===t)this.currentIndex=Number(o);else if("current-item-required"===t){const e=b(t,o);this.currentItemRequired!==e&&(this.currentItemRequired=e)}else if("cursor-operations-wrap"===t){const e=b(t,o);this.cursorOperationsWrap!==e&&(this.cursorOperationsWrap=e)}else super.attributeChangedCallback(t,e,o)}get currentIndex(){const{items:t,currentIndex:e}=this[Tt];return t&&t.length>0?e:-1}set currentIndex(t){isNaN(t)||this[St]({currentIndex:t})}get currentItem(){const{items:t,currentIndex:e}=this[Tt];return t&&t[e]}set currentItem(t){const{items:e}=this[Tt];if(!e)return;const o=e.indexOf(t);this[St]({currentIndex:o})}get currentItemRequired(){return this[Tt].currentItemRequired}set currentItemRequired(t){this[St]({currentItemRequired:t})}get cursorOperationsWrap(){return this[Tt].cursorOperationsWrap}set cursorOperationsWrap(t){this[St]({cursorOperationsWrap:t})}goFirst(){return super.goFirst&&super.goFirst(),this[it]()}goLast(){return super.goLast&&super.goLast(),this[rt]()}goNext(){return super.goNext&&super.goNext(),this[at]()}goPrevious(){return super.goPrevious&&super.goPrevious(),this[st]()}[Et](t){if(super[Et]&&super[Et](t),t.currentIndex&&this[xt]){const{currentIndex:t}=this[Tt],e=new CustomEvent("current-index-changed",{bubbles:!0,detail:{currentIndex:t}});this.dispatchEvent(e);const o=new CustomEvent("currentindexchange",{bubbles:!0,detail:{currentIndex:t}});this.dispatchEvent(o)}}}}(function(t){return class extends t{[Et](t){super[Et]&&super[Et](t),t.currentItem&&this.scrollCurrentItemIntoView()}scrollCurrentItemIntoView(){super.scrollCurrentItemIntoView&&super.scrollCurrentItemIntoView();const{currentItem:t,items:e}=this[Tt];if(!t||!e)return;const o=this[It].getBoundingClientRect(),i=t.getBoundingClientRect(),r=i.bottom-o.bottom,n=i.left-o.left,a=i.right-o.right,s=i.top-o.top,l=this[Tt].orientation||"both";"horizontal"!==l&&"both"!==l||(a>0?this[It].scrollLeft+=a:n<0&&(this[It].scrollLeft+=Math.ceil(n))),"vertical"!==l&&"both"!==l||(r>0?this[It].scrollTop+=r:s<0&&(this[It].scrollTop+=Math.ceil(s)))}get[It](){return super[It]||Ke(this)}}}(Oe(function(t){return class extends t{get[W](){return Object.assign(super[W]||{},{canGoDown:null,canGoLeft:null,canGoRight:null,canGoUp:null})}[et](){return super[et]&&super[et](),this[at]()}[ot](){return super[ot]&&super[ot](),this[rt]()}[nt](){return super[nt]&&super[nt](),this[Tt]&&this[Tt].rightToLeft?this[at]():this[st]()}[lt](){return super[lt]&&super[lt](),this[Tt]&&this[Tt].rightToLeft?this[st]():this[at]()}[ct](){return super[ct]&&super[ct](),this[it]()}[dt](){return super[dt]&&super[dt](),this[st]()}[qt](t,e){const o=super[qt]?super[qt](t,e):{};if(e.canGoNext||e.canGoPrevious||e.languageDirection||e.orientation||e.rightToLeft){const{canGoNext:e,canGoPrevious:i,orientation:r,rightToLeft:n}=t,a="horizontal"===r||"both"===r,s="vertical"===r||"both"===r,l=s&&e,c=!!a&&(n?e:i),u=!!a&&(n?i:e),d=s&&i;Object.assign(o,{canGoDown:l,canGoLeft:c,canGoRight:u,canGoUp:d})}return o}}}(function(t){return class extends t{get items(){return this[Tt]?this[Tt].items:null}[Et](t){if(super[Et]&&super[Et](t),!this[Y]&&t.items&&this[xt]){const t=new CustomEvent("items-changed",{bubbles:!0});this.dispatchEvent(t);const e=new CustomEvent("itemschange",{bubbles:!0});this.dispatchEvent(e)}}}}(function(t){return class extends t{[G](t,e={}){const o=void 0!==e.direction?e.direction:1,i=void 0!==e.index?e.index:t.currentIndex,r=void 0!==e.wrap?e.wrap:t.cursorOperationsWrap,{items:n}=t,a=n?n.length:0;if(0===a)return-1;if(r){let e=(i%a+a)%a;const r=((e-o)%a+a)%a;for(;e!==r;){if(!t.availableItemFlags||t.availableItemFlags[e])return e;e=((e+o)%a+a)%a}}else for(let e=i;e>=0&&e<a;e+=o){if(!t.availableItemFlags||t.availableItemFlags[e])return e}return-1}get[W](){return Object.assign(super[W]||{},{currentIndex:-1,desiredCurrentIndex:null,currentItem:null,currentItemRequired:!1,cursorOperationsWrap:!1})}[it](){return super[it]&&super[it](),Qe(this,0,1)}[rt](){return super[rt]&&super[rt](),Qe(this,this[Tt].items.length-1,-1)}[at](){super[at]&&super[at]();const{currentIndex:t,items:e}=this[Tt];return Qe(this,t<0&&e?0:t+1,1)}[st](){super[st]&&super[st]();const{currentIndex:t,items:e}=this[Tt];return Qe(this,t<0&&e?e.length-1:t-1,-1)}[qt](t,e){const o=super[qt]?super[qt](t,e):{};if(e.availableItemFlags||e.items||e.currentIndex||e.currentItemRequired){const{currentIndex:i,desiredCurrentIndex:r,currentItem:n,currentItemRequired:a,items:s}=t,l=s?s.length:0;let c,u=r;if(e.items&&!e.currentIndex&&n&&l>0&&s[i]!==n){const t=s.indexOf(n);t>=0&&(u=t)}else e.currentIndex&&(i<0&&null!==n||i>=0&&(0===l||s[i]!==n)||null===r)&&(u=i);a&&u<0&&(u=0),u<0?(u=-1,c=-1):0===l?c=-1:(c=Math.max(Math.min(l-1,u),0),c=this[G](t,{direction:1,index:c,wrap:!1}),c<0&&(c=this[G](t,{direction:-1,index:c-1,wrap:!1})));const d=s&&s[c]||null;Object.assign(o,{currentIndex:c,desiredCurrentIndex:u,currentItem:d})}return o}}}(function(t){return class extends t{get[W](){return Object.assign(super[W]||{},{texts:null})}[tt](t){return super[tt]?super[tt](t):(e=t).getAttribute("aria-label")||e.getAttribute("alt")||e.innerText||e.textContent||"";var e}[qt](t,e){const o=super[qt]?super[qt](t,e):{};if(e.items){const{items:e}=t,i=function(t,e){return t?Array.from(t,(t=>e(t))):null}(e,this[tt]);i&&(Object.freeze(i),Object.assign(o,{texts:i}))}return o}}}(function(t){return class extends t{[et](){if(super[et])return super[et]()}[ot](){if(super[ot])return super[ot]()}[nt](){if(super[nt])return super[nt]()}[lt](){if(super[lt])return super[lt]()}[ct](){if(super[ct])return super[ct]()}[dt](){if(super[dt])return super[dt]()}[vt](t){let e=!1;if(t.target===this){const o=this[Tt].orientation||"both",i="horizontal"===o||"both"===o,r="vertical"===o||"both"===o;switch(t.key){case"ArrowDown":r&&(e=t.altKey?this[ot]():this[et]());break;case"ArrowLeft":!i||t.metaKey||t.altKey||(e=this[nt]());break;case"ArrowRight":!i||t.metaKey||t.altKey||(e=this[lt]());break;case"ArrowUp":r&&(e=t.altKey?this[ct]():this[dt]());break;case"End":e=this[ot]();break;case"Home":e=this[ct]()}}return e||super[vt]&&super[vt](t)||!1}}}(Zt(function(t){return class extends t{[vt](t){let e=!1;if("horizontal"!==this.orientation)switch(t.key){case"PageDown":e=this.pageDown();break;case"PageUp":e=this.pageUp()}return e||super[vt]&&super[vt](t)}get orientation(){return super.orientation||this[Tt]&&this[Tt].orientation||"both"}pageDown(){return super.pageDown&&super.pageDown(),Ye(this,!0)}pageUp(){return super.pageUp&&super.pageUp(),Ye(this,!1)}get[It](){return super[It]||Ke(this)}}}(function(t){return class extends t{constructor(){super(),oo(this)}[ut](t){if(super[ut]&&super[ut](t),null==t||0===t.length)return!1;const e=t.toLowerCase(),o=this[Tt].texts.findIndex((o=>o.substr(0,t.length).toLowerCase()===e));if(o>=0){const t=this[Tt].currentIndex;return this[St]({currentIndex:o}),this[Tt].currentIndex!==t}return!1}[vt](t){let e;switch(t.key){case"Backspace":!function(t){const e=t,o=e[Je]?e[Je].length:0;o>0&&(e[Je]=e[Je].substr(0,o-1));t[ut](e[Je]),io(t)}(this),e=!0;break;case"Escape":oo(this);break;default:t.ctrlKey||t.metaKey||t.altKey||1!==t.key.length||function(t,e){const o=t,i=o[Je]||"";o[Je]=i+e,t[ut](o[Je]),io(t)}(this,t.key)}return e||super[vt]&&super[vt](t)}}}(ro(function(t){return no(ue(t))}(function(t){return class extends t{constructor(){super(),this.addEventListener("mousedown",(t=>{0===t.button&&(this[xt]=!0,this[Bt](t),this[xt]=!1)}))}[_t](t){super[_t]&&super[_t](t),this[Y]&&Object.assign(this.style,{touchAction:"manipulation",mozUserSelect:"none",msUserSelect:"none",webkitUserSelect:"none",userSelect:"none"})}[Bt](t){const e=t.composedPath?t.composedPath()[0]:t.target,{items:o,currentItemRequired:i}=this[Tt];if(o&&e instanceof Node){const r=_(o,e),n=r>=0?o[r]:null;(n&&!n.disabled||!n&&!i)&&(this[St]({currentIndex:r}),t.stopPropagation())}}}}(V)))))))))))))));class so extends ao{get[W](){return Object.assign(super[W],{availableItemFlags:null,highlightCurrentItem:!0,orientation:"vertical",currentItemFocused:!1})}async flashCurrentItem(){const t=this[Tt].focusVisible,e=matchMedia("(pointer: fine)").matches;if(t||e){const t=75;this[St]({highlightCurrentItem:!1}),await new Promise((e=>setTimeout(e,t))),this[St]({highlightCurrentItem:!0}),await new Promise((e=>setTimeout(e,t)))}}[_t](t){super[_t](t),this[Y]&&(this.addEventListener("disabledchange",(t=>{this[xt]=!0;const e=t.target,{items:o}=this[Tt],i=null===o?-1:o.indexOf(e);if(i>=0){const t=this[Tt].availableItemFlags.slice();t[i]=!e.disabled,this[St]({availableItemFlags:t})}this[xt]=!1})),"PointerEvent"in window?this.addEventListener("pointerdown",(t=>this[Bt](t))):this.addEventListener("touchstart",(t=>this[Bt](t))),this.removeAttribute("tabindex"));const{currentIndex:e,items:o}=this[Tt];if((t.items||t.currentIndex||t.highlightCurrentItem)&&o){const{highlightCurrentItem:t}=this[Tt];o.forEach(((o,i)=>{o.toggleAttribute("current",t&&i===e)}))}(t.items||t.currentIndex||t.currentItemFocused||t.focusVisible)&&o&&o.forEach(((t,o)=>{const i=o===e,r=e<0&&0===o;this[Tt].currentItemFocused?i||r||t.removeAttribute("tabindex"):(i||r)&&(t.tabIndex=0)}))}[Et](t){if(super[Et](t),!this[Y]&&t.currentIndex&&!this[Tt].currentItemFocused){const{currentItem:t}=this[Tt];(t instanceof HTMLElement?t:this).focus(),this[St]({currentItemFocused:!0})}}get[It](){return this[ht].content}[qt](t,e){const o=super[qt](t,e);if(e.currentIndex&&Object.assign(o,{currentItemFocused:!1}),e.items){const{items:e}=t,i=null===e?null:e.map((t=>!t.disabled));Object.assign(o,{availableItemFlags:i})}return o}get[Vt](){return C.html`
      <style>
        :host {
          box-sizing: border-box;
          cursor: default;
          display: inline-flex;
          -webkit-tap-highlight-color: transparent;
          touch-action: manipulation;
        }

        #content {
          display: flex;
          flex: 1;
          flex-direction: column;
          max-height: 100%;
          overflow-x: hidden;
          overflow-y: auto;
          -webkit-overflow-scrolling: touch; /* for momentum scrolling */
        }
        
        ::slotted(*) {
          flex-shrink: 0;
          outline: none;
          touch-action: manipulation;
        }

        ::slotted(option) {
          font: inherit;
          min-height: inherit;
        }
      </style>
      <div id="content" role="none">
        <slot></slot>
      </div>
    `}}const lo=Symbol("documentMouseupListener");async function co(t){const e=this,o=e[Ct].elementsFromPoint(t.clientX,t.clientY);if(e.opened){const t=o.indexOf(e[ht].source)>=0,i=e[ht].popup,r=o.indexOf(i)>=0,n=i.frame&&o.indexOf(i.frame)>=0;t?e[Tt].dragSelect&&(e[xt]=!0,e[St]({dragSelect:!1}),e[xt]=!1):r||n||(e[xt]=!0,await e.close(),e[xt]=!1)}}function uo(t){t[Tt].opened&&t.isConnected?t[lo]||(t[lo]=co.bind(t),document.addEventListener("mouseup",t[lo])):t[lo]&&(document.removeEventListener("mouseup",t[lo]),t[lo]=null)}function po(t){return class extends t{get[W](){return Object.assign(super[W]||{},{disabled:!1})}get disabled(){return this[Tt].disabled}set disabled(t){this[St]({disabled:t})}[Et](t){if(super[Et]&&super[Et](t),t.disabled&&(this.toggleAttribute("disabled",this.disabled),this[xt])){const t=new CustomEvent("disabled-changed",{bubbles:!0});this.dispatchEvent(t);const e=new CustomEvent("disabledchange",{bubbles:!0});this.dispatchEvent(e)}}}}function ho(t,e,o,i){const r=fo(t,o,i);let n=0,a=0;const s="above"===o||"below"===o;switch(o){case"above":n=r.y-e.top;break;case"below":n=e.bottom-r.y;break;case"left":a=r.x-e.left;break;case"right":a=e.right-r.x}switch(i){case"bottom":n=r.y-e.top;break;case"center":s?a=e.width:n=e.height;break;case"stretch":s?a=t.width:n=t.height;break;case"left":a=e.right-r.x;break;case"right":a=r.x-e.left;break;case"top":n=e.bottom-r.y}return n=Math.max(0,n),a=Math.max(0,a),{height:n,width:a}}function fo(t,e,o){let i=0,r=0;const n="above"===e||"below"===e;switch(e){case"above":r=t.top;break;case"below":r=t.bottom;break;case"left":case"right":i=t[e]}switch(o){case"bottom":case"top":r=t[o];break;case"left":case"right":i=t[o];break;case"center":n?i=t.left+t.width/2:r=t.top+t.height/2;break;case"stretch":n?i=t.left:r=t.top}return{x:i,y:r}}function mo(t,e,o,i){const r=function(t){const{align:e,direction:o,rightToLeft:i}=t,r="below",n={above:"above",below:"below",column:"below","column-reverse":"above",left:"left",right:"right",row:i?"left":"right","row-reverse":i?"right":"left"}[o]||r,a={above:"horizontal",below:"horizontal",left:"vertical",right:"vertical"}[n],s={horizontal:"left",vertical:"top"}[a];return{align:{horizontal:{center:"center",end:i?"left":"right",left:"left",right:"right",start:i?"right":"left",stretch:"stretch"},vertical:{bottom:"bottom",center:"center",end:"bottom",start:"top",stretch:"stretch",top:"top"}}[a][e]||s,direction:n,rightToLeft:i}}(i),n=function(t,e){const o={above:"below",below:"above",left:"right",right:"left"},i={top:"bottom",bottom:"top",left:"right",right:"left"},r=[{align:e,direction:t}];"center"===e||"stretch"===e?r.push({align:e,direction:o[t]}):(r.push({align:i[e],direction:t}),r.push({align:e,direction:o[t]}),r.push({align:i[e],direction:o[t]}));return r}(r.direction,r.align);n.sort(((i,r)=>function(t,e,o,i,r){const n=ho(o,r,t.direction,t.align),a=ho(o,r,e.direction,e.align),s=i.width<=n.width,l=i.height<=n.height,c=s||l,u=s&&l,d=i.width<=a.width,p=i.height<=a.height,h=d||p,f=d&&p,m=n.width*n.height,v=a.width*a.height;return u&&f?0:u?-1:f?1:c&&!h?-1:h&&!c?1:c&&m>v?-1:h&&v>m?1:m>v?-1:v>m?1:0}(i,r,t,e,o)));const a=n[0];return a.rect=function(t,e,o,i,r){const n=fo(t,i,r);let{x:a,y:s,bottom:l,right:c}=o,u=0,d=0,p=e.height,h=e.width;const f="above"===i||"below"===i;switch(i){case"above":d=n.y-e.height,l=n.y;break;case"below":d=n.y,s=n.y;break;case"left":u=n.x-e.width,c=n.x;break;case"right":u=n.x,a=n.x}switch(r){case"bottom":d=n.y-e.height,l=n.y;break;case"left":u=n.x,a=n.x;break;case"center":f?u=n.x-e.width/2:d=n.y-e.height/2;break;case"right":u=n.x-e.width,c=n.x;break;case"stretch":f?(u=n.x,h=t.width):(d=n.y,p=t.height);break;case"top":d=n.y,s=n.y}return u=Math.max(u,a),d=Math.max(d,s),h=Math.min(h,c-u),p=Math.min(p,l-d),new DOMRect(u,d,h,p)}(t,e,o,a.direction,a.align),a}const vo=Symbol("implicitCloseListener");async function go(t){const e=this,o=t.relatedTarget||document.activeElement;o instanceof Element&&!y(e,o)&&(e[xt]=!0,await e.close({canceled:"window blur"}),e[xt]=!1)}async function bo(t){const e=this,o="resize"!==t.type||e[Tt].closeOnWindowResize;!w(e,t)&&o&&(e[xt]=!0,await e.close({canceled:`window ${t.type}`}),e[xt]=!1)}const yo=Zt(function(t){return class extends t{get closeOnWindowResize(){return this[Tt].closeOnWindowResize}set closeOnWindowResize(t){this[St]({closeOnWindowResize:t})}get[W](){return Object.assign(super[W]||{},{closeOnWindowResize:!0,role:"alert"})}[vt](t){let e=!1;if("Escape"===t.key)this.close({canceled:"Escape"}),e=!0;return e||super.keydown&&super.keydown(t)||!1}[_t](t){if(super[_t]&&super[_t](t),this[Y]&&this.addEventListener("blur",go.bind(this)),t.role){const{role:t}=this[Tt];this.setAttribute("role",t)}}[Et](t){if(super[Et]&&super[Et](t),t.opened)if(this.opened){("requestIdleCallback"in window?window.requestIdleCallback:setTimeout)((()=>{var t;this.opened&&((t=this)[vo]=bo.bind(t),window.addEventListener("blur",t[vo]),window.addEventListener("resize",t[vo]),window.addEventListener("scroll",t[vo]))}))}else(e=this)[vo]&&(window.removeEventListener("blur",e[vo]),window.removeEventListener("resize",e[vo]),window.removeEventListener("scroll",e[vo]),e[vo]=null);var e}get role(){return super.role}set role(t){super.role=t,this[Ot]||this[St]({role:t})}}}(pe));class xo extends yo{[_t](t){super[_t](t),t.backdropPartType&&(this[ht].backdrop.addEventListener("mousedown",_o.bind(this)),"PointerEvent"in window||this[ht].backdrop.addEventListener("touchend",_o))}}async function _o(t){const e=this;e[xt]=!0,await e.close({canceled:"mousedown outside"}),e[xt]=!1,t.preventDefault(),t.stopPropagation()}const wo=Symbol("resizeListener"),Ao=po(Ae(ro(ie(V))));function Eo(t){const{popupAlign:e,popupDirection:o,rightToLeft:i}=t[Tt],r=mo(t[ht].source.getBoundingClientRect(),t[ht].popup.getBoundingClientRect(),Io(),{align:e,direction:o,rightToLeft:i});t[St]({popupLayout:r})}function Oo(t,e,o){if(!o||o.popupPartType){const{popupPartType:o}=e,i=t.getElementById("popup");i&&q(i,o)}if(!o||o.sourcePartType){const{sourcePartType:o}=e,i=t.getElementById("source");i&&q(i,o)}}function Io(){const t=window.visualViewport;return t?new DOMRect(t.offsetLeft,t.offsetTop,t.width,t.height):new DOMRect(0,0,window.innerWidth,window.innerHeight)}const So=Oe(Zt(function(t){return class extends t{connectedCallback(){super.connectedCallback(),uo(this)}get[W](){return Object.assign(super[W]||{},{dragSelect:!0})}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),uo(this)}[Et](t){super[Et](t),t.opened&&uo(this)}[qt](t,e){const o=super[qt](t,e);return e.opened&&t.opened&&Object.assign(o,{dragSelect:!0}),o}}}(class extends Ao{get[W](){return Object.assign(super[W],{ariaHasPopup:"true",popupAlign:"start",popupDirection:"column",popupLayout:null,popupPartType:xo,sourcePartType:"div"})}get[ft](){return this[ht].source}get frame(){return this[ht].popup.frame}get horizontalAlign(){return this[Tt].popupAlign}set horizontalAlign(t){console.warn('The "horizontalAlign" property has been renamed to "popupAlign"; the "horizontal-align" attribute is now "popup-align".'),this[St]({popupAlign:t})}get popupAlign(){return this[Tt].popupAlign}set popupAlign(t){this[St]({popupAlign:t})}get popupDirection(){return this[Tt].popupDirection}set popupDirection(t){this[St]({popupDirection:t})}get popupPosition(){return this[Tt].popupPosition}set popupPosition(t){console.warn('The "popupPosition" property has been renamed to "popupDirection"; the "popup-position" attribute is now "popup-direction".'),this[St]({popupPosition:t})}get popupPartType(){return this[Tt].popupPartType}set popupPartType(t){this[St]({popupPartType:t})}[_t](t){if(super[_t](t),Oo(this[Ct],this[Tt],t),this[Y]||t.ariaHasPopup){const{ariaHasPopup:t}=this[Tt];null===t?this[ft].removeAttribute("aria-haspopup"):this[ft].setAttribute("aria-haspopup",this[Tt].ariaHasPopup)}if(t.popupPartType&&(this[ht].popup.addEventListener("open",(()=>{this.opened||(this[xt]=!0,this.open(),this[xt]=!1)})),this[ht].popup.addEventListener("close",(t=>{if(!this.closed){this[xt]=!0;const e=t.detail.closeResult;this.close(e),this[xt]=!1}}))),t.opened||t.popupLayout){const{opened:t,popupLayout:e}=this[Tt];if(t)if(e){const t=this[ht].popup,o=function(t){const{align:e,direction:o,rect:i}=t,r=Io(),n={},a="above"===o||"below"===o;switch(o){case"above":n.bottom=r.bottom-i.bottom+"px";break;case"below":n.top=`${i.top}px`;break;case"left":n.right=r.right-i.right+"px";break;case"right":n.left=`${i.left}px`}switch(e){case"bottom":n.bottom=r.bottom-i.bottom+"px";break;case"center":case"stretch":a?(n.left=`${i.left}px`,n.right=r.right-i.right+"px"):(n.bottom=r.bottom-i.bottom+"px",n.top=`${i.top}px`);break;case"left":n.left=`${i.left}px`;break;case"right":n.right=r.right-i.right+"px";break;case"top":n.top=`${i.top}px`}return n}(e);Object.assign(t.style,o,{opacity:""})}else Object.assign(this[ht].popup.style,{bottom:"",left:"",opacity:0,right:"",top:""});else Object.assign(this[ht].popup.style,{bottom:"",left:"",opacity:"",right:"",top:""})}if(t.opened){const{opened:t}=this[Tt];this[ht].popup.opened=t}if(t.disabled&&"disabled"in this[ht].source){const{disabled:t}=this[Tt];this[ht].source.disabled=t}if(t.popupLayout){const{popupLayout:t}=this[Tt];if(t){const{align:e,direction:o}=t,i=this[ht].popup;"position"in i&&(i.position=o),"align"in i&&(i.align=e)}}}[Et](t){super[Et](t);const{opened:e}=this[Tt];var o;t.opened?e?(o=this,setTimeout((()=>{o[Tt].opened&&(Eo(o),function(t){const e=t;e[wo]=()=>{Eo(t)},(window.visualViewport||window).addEventListener("resize",e[wo])}(o))}))):function(t){const e=t;if(e[wo]){(window.visualViewport||window).removeEventListener("resize",e[wo]),e[wo]=null}}(this):t.popupLayout&&this[Tt].opened&&!this[Tt].popupLayout&&Eo(this)}get sourcePartType(){return this[Tt].sourcePartType}set sourcePartType(t){this[St]({sourcePartType:t})}[qt](t,e){const o=super[qt](t,e);return(e.opened&&!t.opened||t.opened&&(e.popupAlign||e.popupDirection||e.rightToLeft))&&Object.assign(o,{popupLayout:null}),o}get[Vt](){const t=super[Vt];return t.content.append(S.html`
      <style>
        :host {
          display: inline-block;
          position: relative;
        }

        [part~="source"] {
          height: 100%;
          -webkit-tap-highlight-color: transparent;
          touch-action: manipulation;
          width: 100%;
        }

        [part~="popup"] {
          max-height: 100%;
          max-width: 100%;
          outline: none;
          position: fixed;
        }
      </style>
      <div id="source" part="source">
        <slot name="source"></slot>
      </div>
      <div id="popup" part="popup" exportparts="backdrop, frame" role="none">
        <slot></slot>
      </div>
    `),Oo(t.content,this[Tt]),t}})));async function Co(t){const e=this,o=t.relatedTarget||document.activeElement;o instanceof Element&&!y(e,o)&&(e[xt]=!0,await e.close({canceled:"blur"}),e[xt]=!1)}const ko=Symbol("documentMousemoveListener");function No(t){const e=this,{hasHoveredOverItemSinceOpened:o,opened:i}=e[Tt];if(i){const i=t.composedPath?t.composedPath()[0]:t.target,r=e.items;if(i&&i instanceof Node&&r){const t=_(r,i),n=r[t],a=n&&!n.disabled?t:-1;(o||a>=0)&&a!==e[Tt].currentIndex&&(e[xt]=!0,e[St]({currentIndex:a}),a>=0&&!o&&e[St]({hasHoveredOverItemSinceOpened:!0}),e[xt]=!1)}}}function To(t){t[Tt].opened&&t.isConnected?t[ko]||(t[ko]=No.bind(t),document.addEventListener("mousemove",t[ko])):t[ko]&&(document.removeEventListener("mousemove",t[ko]),t[ko]=null)}async function qo(t){const e=t[xt],o=t[Tt].currentIndex>=0,i=t.items;if(i){const r=o?i[t[Tt].currentIndex]:void 0,n=t[Tt].popupList;o&&"flashCurrentItem"in n&&await n.flashCurrentItem();const a=t[xt];t[xt]=e,await t.close(r),t[xt]=a}}const Po=function(t){return class extends t{connectedCallback(){super.connectedCallback(),To(this)}get[W](){return Object.assign(super[W]||{},{currentIndex:-1,hasHoveredOverItemSinceOpened:!1,popupList:null})}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),To(this)}[vt](t){let e=!1;if("Enter"===t.key)this.opened&&(qo(this),e=!0);return e||super[vt]&&super[vt](t)||!1}[_t](t){if(super[_t]&&super[_t](t),t.popupList){const{popupList:t}=this[Tt];t&&(t.addEventListener("mouseup",(async t=>{const e=this[Tt].currentIndex;this[Tt].dragSelect||e>=0?(t.stopPropagation(),this[xt]=!0,await qo(this),this[xt]=!1):t.stopPropagation()})),t.addEventListener("currentindexchange",(t=>{this[xt]=!0;const e=t;this[St]({currentIndex:e.detail.currentIndex}),this[xt]=!1})))}if(t.currentIndex||t.popupList){const{currentIndex:t,popupList:e}=this[Tt];e&&"currentIndex"in e&&(e.currentIndex=t)}}[Et](t){if(super[Et]&&super[Et](t),t.opened){if(this[Tt].opened){const{popupList:t}=this[Tt];t.scrollCurrentItemIntoView&&setTimeout((()=>{t.scrollCurrentItemIntoView()}))}To(this)}}[qt](t,e){const o=super[qt]?super[qt](t,e):{};return e.opened&&t.opened&&Object.assign(o,{hasHoveredOverItemSinceOpened:!1}),o}}}(class extends So{get[W](){return Object.assign(super[W],{sourcePartType:"button"})}[vt](t){let e;switch(t.key){case" ":case"ArrowDown":case"ArrowUp":this.closed&&(this.open(),e=!0);break;case"Enter":this.opened||(this.open(),e=!0);break;case"Escape":this.opened&&(this.close({canceled:"Escape"}),e=!0)}if(e=super[vt]&&super[vt](t),!e&&this.opened&&!t.metaKey&&!t.altKey)switch(t.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":case"PageDown":case"PageUp":case" ":e=!0}return e}[_t](t){if(super[_t](t),this[Y]&&(this.addEventListener("blur",Co.bind(this)),this[ht].source.addEventListener("focus",(async t=>{const e=w(this[ht].popup,t),o=null!==this[Tt].popupHeight;!e&&this.opened&&o&&(this[xt]=!0,await this.close(),this[xt]=!1)}))),t.opened){const{opened:t}=this[Tt];this.toggleAttribute("opened",t)}if(t.sourcePartType){this[ht].source.addEventListener("mousedown",(t=>{if(this.disabled)return void t.preventDefault();const e=t;e.button&&0!==e.button||(setTimeout((()=>{this.opened||(this[xt]=!0,this.open(),this[xt]=!1)})),t.stopPropagation())}))}t.popupPartType&&this[ht].popup.removeAttribute("tabindex")}get[Vt](){const t=super[Vt];return t.content.append(S.html`
        <style>
          [part~="source"] {
            cursor: default;
            outline: none;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
            -moz-user-select: none;
            -ms-user-select: none;
            -webkit-user-select: none;
            user-select: none;
          }

          :host([opened][focus-visible]) {
            outline: none;
          }
        </style>
      `),t}});class Do extends Po{get[W](){return Object.assign(super[W],{menuPartType:so})}get items(){const t=this[ht]&&this[ht].menu;return t?t.items:null}get menuPartType(){return this[Tt].menuPartType}set menuPartType(t){this[St]({menuPartType:t})}[_t](t){if(super[_t](t),Ro(this[Ct],this[Tt],t),t.menuPartType&&(this[ht].menu.addEventListener("blur",(async t=>{const e=t.relatedTarget||document.activeElement;this.opened&&!y(this[ht].menu,e)&&(this[xt]=!0,await this.close(),this[xt]=!1)})),this[ht].menu.addEventListener("mousedown",(t=>{0===t.button&&this.opened&&(t.stopPropagation(),t.preventDefault())}))),t.opened){const{opened:t}=this[Tt];this[ht].source.setAttribute("aria-expanded",t.toString())}}[Et](t){super[Et](t),t.menuPartType&&this[St]({popupList:this[ht].menu})}[qt](t,e){const o=super[qt](t,e);return e.opened&&!t.opened&&Object.assign(o,{currentIndex:-1}),o}get[Vt](){const t=super[Vt],e=t.content.querySelector("slot:not([name])");return e&&e.replaceWith(S.html`
        <div id="menu" part="menu">
          <slot></slot>
        </div>
      `),Ro(t.content,this[Tt]),t.content.append(S.html`
      <style>
        [part~="menu"] {
          max-height: 100%;
        }
      </style>
    `),t}}function Ro(t,e,o){if(!o||o.menuPartType){const{menuPartType:o}=e,i=t.getElementById("menu");i&&q(i,o)}}const Lo=po(V);class Mo extends Lo{get[W](){return Object.assign(super[W],{direction:"down"})}get direction(){return this[Tt].direction}set direction(t){this[St]({direction:t})}[_t](t){if(super[_t](t),t.direction){const{direction:t}=this[Tt];this[ht].downIcon.style.display="down"===t?"block":"none",this[ht].upIcon.style.display="up"===t?"block":"none"}}get[Vt](){return C.html`
      <style>
        :host {
          display: inline-block;
        }
      </style>
      <div id="downIcon" part="toggle-icon down-icon">
        <slot name="down-icon"></slot>
      </div>
      <div id="upIcon" part="toggle-icon up-icon">
        <slot name="up-icon"></slot>
      </div>
    `}}function $o(t,e,o){if(!o||o.popupTogglePartType){const{popupTogglePartType:o}=e,i=t.getElementById("popupToggle");i&&q(i,o)}}class jo extends so{get[Vt](){const t=super[Vt];return t.content.append(S.html`
        <style>
          :host ::slotted(*) {
            padding: 0.25em 1em;
          }
          
          :host ::slotted([current]) {
            background: highlight;
            color: highlighttext;
          }

          @media (pointer: coarse) {
            ::slotted(*) {
              padding: 1em;
            }
          }
        </style>
      `),t}}class zo extends Mo{get[Vt](){const t=super[Vt],e=t.content.getElementById("downIcon"),o=S.html`
      <svg
        id="downIcon"
        part="toggle-icon down-icon"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 10 5"
      >
        <path d="M 0 0 l5 5 5 -5 z" />
      </svg>
    `.firstElementChild;e&&o&&T(e,o);const i=t.content.getElementById("upIcon"),r=S.html`
      <svg
        id="upIcon"
        part="toggle-icon up-icon"
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 10 5"
      >
        <path d="M 0 5 l5 -5 5 5 z" />
      </svg>
    `.firstElementChild;return i&&r&&T(i,r),t.content.append(S.html`
        <style>
          :host {
            align-items: center;
            display: inline-flex;
            padding: 2px;
          }

          :host(:not([disabled])):hover {
            background: #eee;
          }

          [part~="toggle-icon"] {
            fill: currentColor;
            height: 10px;
            margin: 0.25em;
            width: 10px;
          }
        </style>
      `),t}}class Fo extends Jt{}class Uo extends xo{get[W](){return Object.assign(super[W],{backdropPartType:Fo,framePartType:Ue})}}class Bo extends(function(t){return class extends t{get[W](){return Object.assign(super[W]||{},{popupTogglePartType:Mo})}get popupTogglePartType(){return this[Tt].popupTogglePartType}set popupTogglePartType(t){this[St]({popupTogglePartType:t})}[_t](t){if(super[_t](t),$o(this[Ct],this[Tt],t),t.popupDirection||t.popupTogglePartType){const{popupDirection:t}=this[Tt],e="above"===t||"column-reverse"===t?"up":"down",o=this[ht].popupToggle;"direction"in o&&(o.direction=e)}if(t.disabled){const{disabled:t}=this[Tt];this[ht].popupToggle.disabled=t}}get[Vt](){const t=super[Vt],e=t.content.querySelector('[part~="source"]');return e&&e.append(S.html`
          <div
            id="popupToggle"
            part="popup-toggle"
            exportparts="toggle-icon, down-icon, up-icon"
            tabindex="-1"
          ></div>
      `),$o(t.content,this[Tt]),t.content.append(S.html`
      <style>
        [part~="popup-toggle"] {
          outline: none;
        }

        [part~="source"] {
          align-items: center;
          display: flex;
        }
      </style>
    `),t}}}(Do)){get[W](){return Object.assign(super[W],{menuPartType:jo,popupPartType:Uo,popupTogglePartType:zo,sourcePartType:ze})}get[Vt](){const t=super[Vt];return t.content.append(S.html`
        <style>
          [part~="menu"] {
            background: window;
            border: none;
            padding: 0.5em 0;
          }
        </style>
      `),t}}customElements.define("elix-menu-button",class extends Bo{});class Vo extends(function(t){return class extends t{constructor(){super();const t=this;!this[yt]&&t.attachInternals&&(this[yt]=t.attachInternals())}attributeChangedCallback(t,e,o){if("current"===t){const e=b(t,o);this.current!==e&&(this.current=e)}else super.attributeChangedCallback(t,e,o)}get[W](){return Object.assign(super[W]||{},{current:!1})}[_t](t){if(super[_t](t),t.current){const{current:t}=this[Tt];E(this,"current",t)}}[Et](t){if(super[Et]&&super[Et](t),t.current){const{current:t}=this[Tt],e=new CustomEvent("current-changed",{bubbles:!0,detail:{current:t}});this.dispatchEvent(e);const o=new CustomEvent("currentchange",{bubbles:!0,detail:{current:t}});this.dispatchEvent(o)}}get current(){return this[Tt].current}set current(t){this[St]({current:t})}}}(po(function(t){return class extends t{constructor(){super();const t=this;!this[yt]&&t.attachInternals&&(this[yt]=t.attachInternals())}get[W](){return Object.assign(super[W]||{},{selected:!1})}[_t](t){if(super[_t](t),t.selected){const{selected:t}=this[Tt];E(this,"selected",t)}}[Et](t){if(super[Et]&&super[Et](t),t.selected){const{selected:t}=this[Tt],e=new CustomEvent("selected-changed",{bubbles:!0,detail:{selected:t}});this.dispatchEvent(e);const o=new CustomEvent("selectedchange",{bubbles:!0,detail:{selected:t}});this.dispatchEvent(o)}}get selected(){return this[Tt].selected}set selected(t){this[St]({selected:t})}}}(V)))){}class Ho extends Vo{get[Vt](){return C.html`
      <style>
        :host {
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
          font-size: 10pt;
          white-space: nowrap;
        }

        :host([disabled]) {
          opacity: 0.5;
        }

        #checkmark {
          height: 1em;
          visibility: hidden;
          width: 1em;
        }

        :host([selected]) #checkmark {
          visibility: visible;
        }
      </style>
      <svg id="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="4 6 18 12">
        <path d="M0 0h24v24H0V0z" fill="none"/>
        <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/>
      </svg>
      <slot></slot>
    `}}customElements.define("elix-menu-item",class extends Ho{});class Go extends V{get disabled(){return!0}[_t](t){super[_t](t),this[Y]&&this.setAttribute("aria-hidden","true")}}class Ko extends Go{get[Vt](){return C.html`
      <style>
        :host {
          padding: 0 !important;
        }

        hr {
          border-bottom-width: 0px;
          border-color: #fff; /* Ends up as light gray */
          border-top-width: 1px;
          margin: 0.25em 0;
        }
      </style>
      <hr>
    `}}customElements.define("elix-menu-separator",class extends Ko{});const Wo=Symbol("timeout"),Qo=ro(function(t){return class extends t{get[Z](){return super[Z]||this}[_t](t){if(super[_t]&&super[_t](t),this[Y]){(this[Z]===this?this:this[Ct]).addEventListener("transitionend",(t=>{const e=this[Tt].effectEndTarget||this[Z];t.target===e&&this[St]({effectPhase:"after"})}))}}[Et](t){if(super[Et]&&super[Et](t),t.effect||t.effectPhase){const{effect:t,effectPhase:e}=this[Tt],o=new CustomEvent("effect-phase-changed",{bubbles:!0,detail:{effect:t,effectPhase:e}});this.dispatchEvent(o);const i=new CustomEvent("effectphasechange",{bubbles:!0,detail:{effect:t,effectPhase:e}});this.dispatchEvent(i),t&&("after"!==e&&this.offsetHeight,"before"===e&&this[St]({effectPhase:"during"}))}}async[Nt](t){await this[St]({effect:t,effectPhase:"before"})}}}(xo));class Xo extends Qo{constructor(){super(),this.addEventListener("mouseout",(()=>{Yo(this)})),this.addEventListener("mouseover",(()=>{Zo(this)}))}attributeChangedCallback(t,e,o){"duration"===t?this.duration=Number(o):super.attributeChangedCallback(t,e,o)}get[W](){return Object.assign(super[W],{duration:null,fromEdge:"bottom"})}get duration(){return this[Tt].duration}set duration(t){isNaN(t)||this[St]({duration:t})}get[Z](){return this[ht].frame}get fromEdge(){return this[Tt].fromEdge}set fromEdge(t){this[St]({fromEdge:t})}[_t](t){if(super[_t](t),t.fromEdge){const t={bottom:{alignItems:"center",justifyContent:"flex-end"},"bottom-left":{alignItems:"flex-start",justifyContent:"flex-end"},"bottom-right":{alignItems:"flex-end",justifyContent:"flex-end"},top:{alignItems:"center",justifyContent:null},"top-left":{alignItems:"flex-start",justifyContent:null},"top-right":{alignItems:"flex-end",justifyContent:null}};Object.assign(this.style,t[this[Tt].fromEdge])}if(t.effect||t.effectPhase||t.fromEdge||t.rightToLeft){const{effect:t,effectPhase:e,fromEdge:o,rightToLeft:i}=this[Tt],r={"bottom-left":"bottom-right","bottom-right":"bottom-left","top-left":"top-right","top-right":"top-left"},n=i&&r[o]||o,a={bottom:"translateY(100%)","bottom-left":"translateX(-100%)","bottom-right":"translateX(100%)",top:"translateY(-100%)","top-left":"translateX(-100%)","top-right":"translateX(100%)"},s={bottom:"translateY(0)","bottom-left":"translateX(0)","bottom-right":"translateX(0)",top:"translateY(0)","top-left":"translateX(0)","top-right":"translateX(0)"},l="open"===t&&"before"!==e||"close"===t&&"before"===e,c=l?1:0,u=l?s[n]:a[n];Object.assign(this[ht].frame.style,{opacity:c,transform:u})}}[Et](t){super[Et](t),Yo(this)}}function Zo(t){const e=t;e[Wo]&&(clearTimeout(e[Wo]),e[Wo]=null)}function Yo(t){t.opened&&function(t){Zo(t);const e=t[Tt].duration;null!==e&&e>0&&(t[Wo]=setTimeout((()=>{t.close()}),e))}(t)}class Jo extends Xo{get[W](){return Object.assign(super[W],{framePartType:Ue})}get[Vt](){const t=super[Vt];return t.content.append(S.html`
        <style>
          :host {
            align-items: initial;
            display: flex;
            flex-direction: column;
            height: 100%;
            justify-content: initial;
            left: 0;
            outline: none;
            pointer-events: none;
            top: 0;
            -webkit-tap-highlight-color: transparent;
            width: 100%;
          }

          [part~="frame"] {
            margin: 1em;
            transition-duration: 0.25s;
            transition-property: opacity, transform;
            will-change: opacity, transform;
          }
        </style>
      `),t}}
/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */
var ti,ei;customElements.define("elix-toast",class extends Jo{}),ti="undefined"!=typeof self?self:void 0,ei=function(){return function(t){var e={};function o(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=t,o.c=e,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="",o(o.s=109)}([function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i=o(17),r=o(18),n=o(19),a=o(45),s=o(46),l=o(47),c=o(48),u=o(49),d=o(12),p=o(32),h=o(33),f=o(31),m=o(1),v={Scope:m.Scope,create:m.create,find:m.find,query:m.query,register:m.register,Container:i.default,Format:r.default,Leaf:n.default,Embed:c.default,Scroll:a.default,Block:l.default,Inline:s.default,Text:u.default,Attributor:{Attribute:d.default,Class:p.default,Style:h.default,Store:f.default}};e.default=v},function(t,e,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(e){var o=this;return e="[Parchment] "+e,(o=t.call(this,e)||this).message=e,o.name=o.constructor.name,o}return r(e,t),e}(Error);e.ParchmentError=n;var a,s={},l={},c={},u={};function d(t,e){var o;if(void 0===e&&(e=a.ANY),"string"==typeof t)o=u[t]||s[t];else if(t instanceof Text||t.nodeType===Node.TEXT_NODE)o=u.text;else if("number"==typeof t)t&a.LEVEL&a.BLOCK?o=u.block:t&a.LEVEL&a.INLINE&&(o=u.inline);else if(t instanceof HTMLElement){var i=(t.getAttribute("class")||"").split(/\s+/);for(var r in i)if(o=l[i[r]])break;o=o||c[t.tagName]}return null==o?null:e&a.LEVEL&o.scope&&e&a.TYPE&o.scope?o:null}e.DATA_KEY="__blot",function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(a=e.Scope||(e.Scope={})),e.create=function(t,e){var o=d(t);if(null==o)throw new n("Unable to create "+t+" blot");var i=o,r=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:i.create(e);return new i(r,e)},e.find=function t(o,i){return void 0===i&&(i=!1),null==o?null:null!=o[e.DATA_KEY]?o[e.DATA_KEY].blot:i?t(o.parentNode,i):null},e.query=d,e.register=function t(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];if(e.length>1)return e.map((function(e){return t(e)}));var i=e[0];if("string"!=typeof i.blotName&&"string"!=typeof i.attrName)throw new n("Invalid definition");if("abstract"===i.blotName)throw new n("Cannot register abstract class");if(u[i.blotName||i.attrName]=i,"string"==typeof i.keyName)s[i.keyName]=i;else if(null!=i.className&&(l[i.className]=i),null!=i.tagName){Array.isArray(i.tagName)?i.tagName=i.tagName.map((function(t){return t.toUpperCase()})):i.tagName=i.tagName.toUpperCase();var r=Array.isArray(i.tagName)?i.tagName:[i.tagName];r.forEach((function(t){null!=c[t]&&null!=i.className||(c[t]=i)}))}return i}},function(t,e,o){var i=o(51),r=o(11),n=o(3),a=o(20),s=String.fromCharCode(0),l=function(t){Array.isArray(t)?this.ops=t:null!=t&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};l.prototype.insert=function(t,e){var o={};return 0===t.length?this:(o.insert=t,null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(o.attributes=e),this.push(o))},l.prototype.delete=function(t){return t<=0?this:this.push({delete:t})},l.prototype.retain=function(t,e){if(t<=0)return this;var o={retain:t};return null!=e&&"object"==typeof e&&Object.keys(e).length>0&&(o.attributes=e),this.push(o)},l.prototype.push=function(t){var e=this.ops.length,o=this.ops[e-1];if(t=n(!0,{},t),"object"==typeof o){if("number"==typeof t.delete&&"number"==typeof o.delete)return this.ops[e-1]={delete:o.delete+t.delete},this;if("number"==typeof o.delete&&null!=t.insert&&(e-=1,"object"!=typeof(o=this.ops[e-1])))return this.ops.unshift(t),this;if(r(t.attributes,o.attributes)){if("string"==typeof t.insert&&"string"==typeof o.insert)return this.ops[e-1]={insert:o.insert+t.insert},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this;if("number"==typeof t.retain&&"number"==typeof o.retain)return this.ops[e-1]={retain:o.retain+t.retain},"object"==typeof t.attributes&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this},l.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this},l.prototype.filter=function(t){return this.ops.filter(t)},l.prototype.forEach=function(t){this.ops.forEach(t)},l.prototype.map=function(t){return this.ops.map(t)},l.prototype.partition=function(t){var e=[],o=[];return this.forEach((function(i){(t(i)?e:o).push(i)})),[e,o]},l.prototype.reduce=function(t,e){return this.ops.reduce(t,e)},l.prototype.changeLength=function(){return this.reduce((function(t,e){return e.insert?t+a.length(e):e.delete?t-e.delete:t}),0)},l.prototype.length=function(){return this.reduce((function(t,e){return t+a.length(e)}),0)},l.prototype.slice=function(t,e){t=t||0,"number"!=typeof e&&(e=1/0);for(var o=[],i=a.iterator(this.ops),r=0;r<e&&i.hasNext();){var n;r<t?n=i.next(t-r):(n=i.next(e-r),o.push(n)),r+=a.length(n)}return new l(o)},l.prototype.compose=function(t){var e=a.iterator(this.ops),o=a.iterator(t.ops),i=[],n=o.peek();if(null!=n&&"number"==typeof n.retain&&null==n.attributes){for(var s=n.retain;"insert"===e.peekType()&&e.peekLength()<=s;)s-=e.peekLength(),i.push(e.next());n.retain-s>0&&o.next(n.retain-s)}for(var c=new l(i);e.hasNext()||o.hasNext();)if("insert"===o.peekType())c.push(o.next());else if("delete"===e.peekType())c.push(e.next());else{var u=Math.min(e.peekLength(),o.peekLength()),d=e.next(u),p=o.next(u);if("number"==typeof p.retain){var h={};"number"==typeof d.retain?h.retain=u:h.insert=d.insert;var f=a.attributes.compose(d.attributes,p.attributes,"number"==typeof d.retain);if(f&&(h.attributes=f),c.push(h),!o.hasNext()&&r(c.ops[c.ops.length-1],h)){var m=new l(e.rest());return c.concat(m).chop()}}else"number"==typeof p.delete&&"number"==typeof d.retain&&c.push(p)}return c.chop()},l.prototype.concat=function(t){var e=new l(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e},l.prototype.diff=function(t,e){if(this.ops===t.ops)return new l;var o=[this,t].map((function(e){return e.map((function(o){if(null!=o.insert)return"string"==typeof o.insert?o.insert:s;throw new Error("diff() called "+(e===t?"on":"with")+" non-document")})).join("")})),n=new l,c=i(o[0],o[1],e),u=a.iterator(this.ops),d=a.iterator(t.ops);return c.forEach((function(t){for(var e=t[1].length;e>0;){var o=0;switch(t[0]){case i.INSERT:o=Math.min(d.peekLength(),e),n.push(d.next(o));break;case i.DELETE:o=Math.min(e,u.peekLength()),u.next(o),n.delete(o);break;case i.EQUAL:o=Math.min(u.peekLength(),d.peekLength(),e);var s=u.next(o),l=d.next(o);r(s.insert,l.insert)?n.retain(o,a.attributes.diff(s.attributes,l.attributes)):n.push(l).delete(o)}e-=o}})),n.chop()},l.prototype.eachLine=function(t,e){e=e||"\n";for(var o=a.iterator(this.ops),i=new l,r=0;o.hasNext();){if("insert"!==o.peekType())return;var n=o.peek(),s=a.length(n)-o.peekLength(),c="string"==typeof n.insert?n.insert.indexOf(e,s)-s:-1;if(c<0)i.push(o.next());else if(c>0)i.push(o.next(c));else{if(!1===t(i,o.next(1).attributes||{},r))return;r+=1,i=new l}}i.length()>0&&t(i,{},r)},l.prototype.transform=function(t,e){if(e=!!e,"number"==typeof t)return this.transformPosition(t,e);for(var o=a.iterator(this.ops),i=a.iterator(t.ops),r=new l;o.hasNext()||i.hasNext();)if("insert"!==o.peekType()||!e&&"insert"===i.peekType())if("insert"===i.peekType())r.push(i.next());else{var n=Math.min(o.peekLength(),i.peekLength()),s=o.next(n),c=i.next(n);if(s.delete)continue;c.delete?r.push(c):r.retain(n,a.attributes.transform(s.attributes,c.attributes,e))}else r.retain(a.length(o.next()));return r.chop()},l.prototype.transformPosition=function(t,e){e=!!e;for(var o=a.iterator(this.ops),i=0;o.hasNext()&&i<=t;){var r=o.peekLength(),n=o.peekType();o.next(),"delete"!==n?("insert"===n&&(i<t||!e)&&(t+=r),i+=r):t-=Math.min(r,t-i)}return t},t.exports=l},function(t,e){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,a=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===i.call(t)},s=function(t){if(!t||"[object Object]"!==i.call(t))return!1;var e,r=o.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&o.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;for(e in t);return void 0===e||o.call(t,e)},l=function(t,e){r&&"__proto__"===e.name?r(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},c=function(t,e){if("__proto__"===e){if(!o.call(t,e))return;if(n)return n(t,e).value}return t[e]};t.exports=function t(){var e,o,i,r,n,u,d=arguments[0],p=1,h=arguments.length,f=!1;for("boolean"==typeof d&&(f=d,d=arguments[1]||{},p=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});p<h;++p)if(null!=(e=arguments[p]))for(o in e)i=c(d,o),d!==(r=c(e,o))&&(f&&r&&(s(r)||(n=a(r)))?(n?(n=!1,u=i&&a(i)?i:[]):u=i&&s(i)?i:{},l(d,{name:o,newValue:t(f,u,r)})):void 0!==r&&l(d,{name:o,newValue:r}));return d}},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BlockEmbed=e.bubbleFormats=void 0;var i=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),r=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},n=d(o(3)),a=d(o(2)),s=d(o(0)),l=d(o(16)),c=d(o(6)),u=d(o(7));function d(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){function e(){return p(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),i(e,[{key:"attach",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attach",this).call(this),this.attributes=new s.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,n.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(t,e){var o=s.default.query(t,s.default.Scope.BLOCK_ATTRIBUTE);null!=o&&this.attributes.attribute(o,e)}},{key:"formatAt",value:function(t,e,o,i){this.format(o,i)}},{key:"insertAt",value:function(t,o,i){if("string"==typeof o&&o.endsWith("\n")){var n=s.default.create(v.blotName);this.parent.insertBefore(n,0===t?this:this.next),n.insertAt(0,o.slice(0,-1))}else r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,o,i)}}]),e}(s.default.Embed);m.scope=s.default.Scope.BLOCK_BLOT;var v=function(t){function e(t){p(this,e);var o=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.cache={},o}return f(e,t),i(e,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(s.default.Leaf).reduce((function(t,e){return 0===e.length()?t:t.insert(e.value(),g(e))}),new a.default).insert("\n",g(this))),this.cache.delta}},{key:"deleteAt",value:function(t,o){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,o),this.cache={}}},{key:"formatAt",value:function(t,o,i,n){o<=0||(s.default.query(i,s.default.Scope.BLOCK)?t+o===this.length()&&this.format(i,n):r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,Math.min(o,this.length()-t-1),i,n),this.cache={})}},{key:"insertAt",value:function(t,o,i){if(null!=i)return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,o,i);if(0!==o.length){var n=o.split("\n"),a=n.shift();a.length>0&&(t<this.length()-1||null==this.children.tail?r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,Math.min(t,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var s=this;n.reduce((function(t,e){return(s=s.split(t,!0)).insertAt(0,e),e.length}),t+a.length)}}},{key:"insertBefore",value:function(t,o){var i=this.children.head;r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,o),i instanceof l.default&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(t,o){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveChildren",this).call(this,t,o),this.cache={}}},{key:"optimize",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.cache={}}},{key:"path",value:function(t){return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t,!0)}},{key:"removeChild",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeChild",this).call(this,t),this.cache={}}},{key:"split",value:function(t){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(o&&(0===t||t>=this.length()-1)){var i=this.clone();return 0===t?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var n=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"split",this).call(this,t,o);return this.cache={},n}}]),e}(s.default.Block);function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==t?e:("function"==typeof t.formats&&(e=(0,n.default)(e,t.formats())),null==t.parent||"scroll"==t.parent.blotName||t.parent.statics.scope!==t.statics.scope?e:g(t.parent,e))}v.blotName="block",v.tagName="P",v.defaultChild="break",v.allowedChildren=[c.default,s.default.Embed,u.default],e.bubbleFormats=g,e.BlockEmbed=m,e.default=v},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.overload=e.expandConfig=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var o=[],i=!0,r=!1,n=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!e||o.length!==e);i=!0);}catch(t){r=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return o}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}();o(50);var a=v(o(2)),s=v(o(14)),l=v(o(8)),c=v(o(9)),u=v(o(0)),d=o(15),p=v(d),h=v(o(3)),f=v(o(10)),m=v(o(34));function v(t){return t&&t.__esModule?t:{default:t}}function g(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function b(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var y=(0,f.default)("quill"),x=function(){function t(e){var o=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(b(this,t),this.options=_(e,i),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",e);this.options.debug&&t.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=u.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new s.default(this.scroll),this.selection=new p.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(t){t===l.default.events.TEXT_CHANGE&&o.root.classList.toggle("ql-blank",o.editor.isBlank())})),this.emitter.on(l.default.events.SCROLL_UPDATE,(function(t,e){var i=o.selection.lastRange,r=i&&0===i.length?i.index:void 0;w.call(o,(function(){return o.editor.update(null,e,r)}),t)}));var n=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+r+"<p><br></p></div>");this.setContents(n),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return n(t,null,[{key:"debug",value:function(t){!0===t&&(t="log"),f.default.level(t)}},{key:"find",value:function(t){return t.__quill||u.default.find(t)}},{key:"import",value:function(t){return null==this.imports[t]&&y.error("Cannot import "+t+". Are you sure it was registered?"),this.imports[t]}},{key:"register",value:function(t,e){var o=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof t){var r=t.attrName||t.blotName;"string"==typeof r?this.register("formats/"+r,t,e):Object.keys(t).forEach((function(i){o.register(i,t[i],e)}))}else null==this.imports[t]||i||y.warn("Overwriting "+t+" with",e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&"abstract"!==e.blotName?u.default.register(e):t.startsWith("modules")&&"function"==typeof e.register&&e.register()}}]),n(t,[{key:"addContainer",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof t){var o=t;(t=document.createElement("div")).classList.add(o)}return this.container.insertBefore(t,e),t}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(t,e,o){var i=this,n=A(t,e,o),a=r(n,4);return t=a[0],e=a[1],o=a[3],w.call(this,(function(){return i.editor.deleteText(t,e)}),o,t,-1*e)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}},{key:"focus",value:function(){var t=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=t,this.scrollIntoView()}},{key:"format",value:function(t,e){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return w.call(this,(function(){var i=o.getSelection(!0),r=new a.default;if(null==i)return r;if(u.default.query(t,u.default.Scope.BLOCK))r=o.editor.formatLine(i.index,i.length,g({},t,e));else{if(0===i.length)return o.selection.format(t,e),r;r=o.editor.formatText(i.index,i.length,g({},t,e))}return o.setSelection(i,l.default.sources.SILENT),r}),i)}},{key:"formatLine",value:function(t,e,o,i,n){var a,s=this,l=A(t,e,o,i,n),c=r(l,4);return t=c[0],e=c[1],a=c[2],n=c[3],w.call(this,(function(){return s.editor.formatLine(t,e,a)}),n,t,0)}},{key:"formatText",value:function(t,e,o,i,n){var a,s=this,l=A(t,e,o,i,n),c=r(l,4);return t=c[0],e=c[1],a=c[2],n=c[3],w.call(this,(function(){return s.editor.formatText(t,e,a)}),n,t,0)}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=void 0;o="number"==typeof t?this.selection.getBounds(t,e):this.selection.getBounds(t.index,t.length);var i=this.container.getBoundingClientRect();return{bottom:o.bottom-i.top,height:o.height,left:o.left-i.left,right:o.right-i.left,top:o.top-i.top,width:o.width}}},{key:"getContents",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,o=A(t,e),i=r(o,2);return t=i[0],e=i[1],this.editor.getContents(t,e)}},{key:"getFormat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof t?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}},{key:"getIndex",value:function(t){return t.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(t){return this.scroll.leaf(t)}},{key:"getLine",value:function(t){return this.scroll.line(t)}},{key:"getLines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof t?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}},{key:"getModule",value:function(t){return this.theme.modules[t]}},{key:"getSelection",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-t,o=A(t,e),i=r(o,2);return t=i[0],e=i[1],this.editor.getText(t,e)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(e,o,i){var r=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.sources.API;return w.call(this,(function(){return r.editor.insertEmbed(e,o,i)}),n,e)}},{key:"insertText",value:function(t,e,o,i,n){var a,s=this,l=A(t,0,o,i,n),c=r(l,4);return t=c[0],a=c[2],n=c[3],w.call(this,(function(){return s.editor.insertText(t,e,a)}),n,t,e.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(t,e,o){this.clipboard.dangerouslyPasteHTML(t,e,o)}},{key:"removeFormat",value:function(t,e,o){var i=this,n=A(t,e,o),a=r(n,4);return t=a[0],e=a[1],o=a[3],w.call(this,(function(){return i.editor.removeFormat(t,e)}),o,t)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,(function(){t=new a.default(t);var o=e.getLength(),i=e.editor.deleteText(0,o),r=e.editor.applyDelta(t),n=r.ops[r.ops.length-1];return null!=n&&"string"==typeof n.insert&&"\n"===n.insert[n.insert.length-1]&&(e.editor.deleteText(e.getLength()-1,1),r.delete(1)),i.compose(r)}),o)}},{key:"setSelection",value:function(e,o,i){if(null==e)this.selection.setRange(null,o||t.sources.API);else{var n=A(e,o,i),a=r(n,4);e=a[0],o=a[1],i=a[3],this.selection.setRange(new d.Range(e,o),i),i!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,o=(new a.default).insert(t);return this.setContents(o,e)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,e=this.scroll.update(t);return this.selection.update(t),e}},{key:"updateContents",value:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,(function(){return t=new a.default(t),e.editor.applyDelta(t,o)}),o,!0)}}]),t}();function _(t,e){if((e=(0,h.default)(!0,{container:t,modules:{clipboard:!0,keyboard:!0,history:!0}},e)).theme&&e.theme!==x.DEFAULTS.theme){if(e.theme=x.import("themes/"+e.theme),null==e.theme)throw new Error("Invalid theme "+e.theme+". Did you register it?")}else e.theme=m.default;var o=(0,h.default)(!0,{},e.theme.DEFAULTS);[o,e].forEach((function(t){t.modules=t.modules||{},Object.keys(t.modules).forEach((function(e){!0===t.modules[e]&&(t.modules[e]={})}))}));var i=Object.keys(o.modules).concat(Object.keys(e.modules)).reduce((function(t,e){var o=x.import("modules/"+e);return null==o?y.error("Cannot load "+e+" module. Are you sure you registered it?"):t[e]=o.DEFAULTS||{},t}),{});return null!=e.modules&&e.modules.toolbar&&e.modules.toolbar.constructor!==Object&&(e.modules.toolbar={container:e.modules.toolbar}),e=(0,h.default)(!0,{},x.DEFAULTS,{modules:i},o,e),["bounds","container","scrollingContainer"].forEach((function(t){"string"==typeof e[t]&&(e[t]=document.querySelector(e[t]))})),e.modules=Object.keys(e.modules).reduce((function(t,o){return e.modules[o]&&(t[o]=e.modules[o]),t}),{}),e}function w(t,e,o,i){if(this.options.strict&&!this.isEnabled()&&e===l.default.sources.USER)return new a.default;var r=null==o?null:this.getSelection(),n=this.editor.delta,s=t();if(null!=r&&(!0===o&&(o=r.index),null==i?r=E(r,s,e):0!==i&&(r=E(r,o,i,e)),this.setSelection(r,l.default.sources.SILENT)),s.length()>0){var c,u,d=[l.default.events.TEXT_CHANGE,s,n,e];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(d)),e!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,d)}return s}function A(t,e,o,r,n){var a={};return"number"==typeof t.index&&"number"==typeof t.length?"number"!=typeof e?(n=r,r=o,o=e,e=t.length,t=t.index):(e=t.length,t=t.index):"number"!=typeof e&&(n=r,r=o,o=e,e=0),"object"===(void 0===o?"undefined":i(o))?(a=o,n=r):"string"==typeof o&&(null!=r?a[o]=r:n=o),[t,e,a,n=n||l.default.sources.API]}function E(t,e,o,i){if(null==t)return null;var n=void 0,s=void 0;if(e instanceof a.default){var c=[t.index,t.index+t.length].map((function(t){return e.transformPosition(t,i!==l.default.sources.USER)})),u=r(c,2);n=u[0],s=u[1]}else{var p=[t.index,t.index+t.length].map((function(t){return t<e||t===e&&i===l.default.sources.USER?t:o>=0?t+o:Math.max(e,t+o)})),h=r(p,2);n=h[0],s=h[1]}return new d.Range(n,s-n)}x.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},x.events=l.default.events,x.sources=l.default.sources,x.version="1.3.7",x.imports={delta:a.default,parchment:u.default,"core/module":c.default,"core/theme":m.default},e.expandConfig=_,e.overload=A,e.default=x},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),r=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},n=s(o(7)),a=s(o(0));function s(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"formatAt",value:function(t,o,i,n){if(e.compare(this.statics.blotName,i)<0&&a.default.query(i,a.default.Scope.BLOT)){var s=this.isolate(t,o);n&&s.wrap(i,n)}else r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,o,i,n)}},{key:"optimize",value:function(t){if(r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.parent instanceof e&&e.compare(this.statics.blotName,this.parent.statics.blotName)>0){var o=this.parent.isolate(this.offset(),this.length());this.moveChildren(o),o.wrap(this)}}}],[{key:"compare",value:function(t,o){var i=e.order.indexOf(t),r=e.order.indexOf(o);return i>=0||r>=0?i-r:t===o?0:t<o?-1:1}}]),e}(a.default.Inline);u.allowedChildren=[u,a.default.Embed,n.default],u.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],e.default=u},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i,r=o(0);function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=function(t){function e(){return n(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((i=r)&&i.__esModule?i:{default:i}).default.Text);e.default=s},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),r=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},n=a(o(54));function a(t){return t&&t.__esModule?t:{default:t}}var s=(0,a(o(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(t){document.addEventListener(t,(function(){for(var t=arguments.length,e=Array(t),o=0;o<t;o++)e[o]=arguments[o];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(t){var o;t.__quill&&t.__quill.emitter&&(o=t.__quill.emitter).handleDOM.apply(o,e)}))}))}));var l=function(t){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var t=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.listeners={},t.on("error",s.error),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"emit",value:function(){s.log.apply(s,arguments),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(t){for(var e=arguments.length,o=Array(e>1?e-1:0),i=1;i<e;i++)o[i-1]=arguments[i];(this.listeners[t.type]||[]).forEach((function(e){var i=e.node,r=e.handler;(t.target===i||i.contains(t.target))&&r.apply(void 0,[t].concat(o))}))}},{key:"listenDOM",value:function(t,e,o){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:e,handler:o})}}]),e}(n.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},e.default=l},function(t,e,o){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.quill=e,this.options=o};r.DEFAULTS={},e.default=r},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i=["error","warn","log","info"],r="warn";function n(t){if(i.indexOf(t)<=i.indexOf(r)){for(var e,o=arguments.length,n=Array(o>1?o-1:0),a=1;a<o;a++)n[a-1]=arguments[a];(e=console)[t].apply(e,n)}}function a(t){return i.reduce((function(e,o){return e[o]=n.bind(console,o,t),e}),{})}n.level=a.level=function(t){r=t},e.default=a},function(t,e,o){var i=Array.prototype.slice,r=o(52),n=o(53),a=t.exports=function(t,e,o){return o||(o={}),t===e||(t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():!t||!e||"object"!=typeof t&&"object"!=typeof e?o.strict?t===e:t==e:function(t,e,o){var c,u;if(s(t)||s(e))return!1;if(t.prototype!==e.prototype)return!1;if(n(t))return!!n(e)&&(t=i.call(t),e=i.call(e),a(t,e,o));if(l(t)){if(!l(e))return!1;if(t.length!==e.length)return!1;for(c=0;c<t.length;c++)if(t[c]!==e[c])return!1;return!0}try{var d=r(t),p=r(e)}catch(t){return!1}if(d.length!=p.length)return!1;for(d.sort(),p.sort(),c=d.length-1;c>=0;c--)if(d[c]!=p[c])return!1;for(c=d.length-1;c>=0;c--)if(u=d[c],!a(t[u],e[u],o))return!1;return typeof t==typeof e}(t,e,o))};function s(t){return null==t}function l(t){return!(!t||"object"!=typeof t||"number"!=typeof t.length||"function"!=typeof t.copy||"function"!=typeof t.slice||t.length>0&&"number"!=typeof t[0])}},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i=o(1),r=function(){function t(t,e,o){void 0===o&&(o={}),this.attrName=t,this.keyName=e;var r=i.Scope.TYPE&i.Scope.ATTRIBUTE;null!=o.scope?this.scope=o.scope&i.Scope.LEVEL|r:this.scope=i.Scope.ATTRIBUTE,null!=o.whitelist&&(this.whitelist=o.whitelist)}return t.keys=function(t){return[].map.call(t.attributes,(function(t){return t.name}))},t.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.setAttribute(this.keyName,e),!0)},t.prototype.canAdd=function(t,e){return null!=i.query(t,i.Scope.BLOT&(this.scope|i.Scope.TYPE))&&(null==this.whitelist||("string"==typeof e?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1))},t.prototype.remove=function(t){t.removeAttribute(this.keyName)},t.prototype.value=function(t){var e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""},t}();e.default=r},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Code=void 0;var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var o=[],i=!0,r=!1,n=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!e||o.length!==e);i=!0);}catch(t){r=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return o}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=d(o(2)),s=d(o(0)),l=d(o(4)),c=d(o(6)),u=d(o(7));function d(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=function(t){function e(){return p(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),e}(c.default);m.blotName="code",m.tagName="CODE";var v=function(t){function e(){return p(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return f(e,t),r(e,[{key:"delta",value:function(){var t=this,e=this.domNode.textContent;return e.endsWith("\n")&&(e=e.slice(0,-1)),e.split("\n").reduce((function(e,o){return e.insert(o).insert("\n",t.formats())}),new a.default)}},{key:"format",value:function(t,o){if(t!==this.statics.blotName||!o){var r=this.descendant(u.default,this.length()-1),a=i(r,1)[0];null!=a&&a.deleteAt(a.length()-1,1),n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,o)}}},{key:"formatAt",value:function(t,o,i,r){if(0!==o&&null!=s.default.query(i,s.default.Scope.BLOCK)&&(i!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var n=this.newlineIndex(t);if(!(n<0||n>=t+o)){var a=this.newlineIndex(t,!0)+1,l=n-a+1,c=this.isolate(a,l),u=c.next;c.format(i,r),u instanceof e&&u.formatAt(0,t-a+o-l,i,r)}}}},{key:"insertAt",value:function(t,e,o){if(null==o){var r=this.descendant(u.default,t),n=i(r,2),a=n[0],s=n[1];a.insertAt(s,e)}}},{key:"length",value:function(){var t=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?t:t+1}},{key:"newlineIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e)return this.domNode.textContent.slice(0,t).lastIndexOf("\n");var o=this.domNode.textContent.slice(t).indexOf("\n");return o>-1?t+o:-1}},{key:"optimize",value:function(t){this.domNode.textContent.endsWith("\n")||this.appendChild(s.default.create("text","\n")),n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var o=this.next;null!=o&&o.prev===this&&o.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===o.statics.formats(o.domNode)&&(o.optimize(t),o.moveChildren(this),o.remove())}},{key:"replace",value:function(t){n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(t){var e=s.default.find(t);null==e?t.parentNode.removeChild(t):e instanceof s.default.Embed?e.remove():e.unwrap()}))}}],[{key:"create",value:function(t){var o=n(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return o.setAttribute("spellcheck",!1),o}},{key:"formats",value:function(){return!0}}]),e}(l.default);v.blotName="code-block",v.tagName="PRE",v.TAB="  ",e.Code=m,e.default=v},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var o=[],i=!0,r=!1,n=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!e||o.length!==e);i=!0);}catch(t){r=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return o}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),a=g(o(2)),s=g(o(20)),l=g(o(0)),c=g(o(13)),u=g(o(24)),d=o(4),p=g(d),h=g(o(16)),f=g(o(21)),m=g(o(11)),v=g(o(3));function g(t){return t&&t.__esModule?t:{default:t}}var b=/^[ -~]*$/,y=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.scroll=e,this.delta=this.getDelta()}return n(t,[{key:"applyDelta",value:function(t){var e=this,o=!1;this.scroll.update();var n=this.scroll.length();return this.scroll.batchStart(),(t=function(t){return t.reduce((function(t,e){if(1===e.insert){var o=(0,f.default)(e.attributes);return delete o.image,t.insert({image:e.attributes.image},o)}if(null==e.attributes||!0!==e.attributes.list&&!0!==e.attributes.bullet||((e=(0,f.default)(e)).attributes.list?e.attributes.list="ordered":(e.attributes.list="bullet",delete e.attributes.bullet)),"string"==typeof e.insert){var i=e.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return t.insert(i,e.attributes)}return t.push(e)}),new a.default)}(t)).reduce((function(t,a){var c=a.retain||a.delete||a.insert.length||1,u=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var h=a.insert;h.endsWith("\n")&&o&&(o=!1,h=h.slice(0,-1)),t>=n&&!h.endsWith("\n")&&(o=!0),e.scroll.insertAt(t,h);var f=e.scroll.line(t),m=r(f,2),g=m[0],b=m[1],y=(0,v.default)({},(0,d.bubbleFormats)(g));if(g instanceof p.default){var x=g.descendant(l.default.Leaf,b),_=r(x,1)[0];y=(0,v.default)(y,(0,d.bubbleFormats)(_))}u=s.default.attributes.diff(y,u)||{}}else if("object"===i(a.insert)){var w=Object.keys(a.insert)[0];if(null==w)return t;e.scroll.insertAt(t,w,a.insert[w])}n+=c}return Object.keys(u).forEach((function(o){e.scroll.formatAt(t,c,o,u[o])})),t+c}),0),t.reduce((function(t,o){return"number"==typeof o.delete?(e.scroll.deleteAt(t,o.delete),t):t+(o.retain||o.insert.length||1)}),0),this.scroll.batchEnd(),this.update(t)}},{key:"deleteText",value:function(t,e){return this.scroll.deleteAt(t,e),this.update((new a.default).retain(t).delete(e))}},{key:"formatLine",value:function(t,e){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(i).forEach((function(r){if(null==o.scroll.whitelist||o.scroll.whitelist[r]){var n=o.scroll.lines(t,Math.max(e,1)),a=e;n.forEach((function(e){var n=e.length();if(e instanceof c.default){var s=t-e.offset(o.scroll),l=e.newlineIndex(s+a)-s+1;e.formatAt(s,l,r,i[r])}else e.format(r,i[r]);a-=n}))}})),this.scroll.optimize(),this.update((new a.default).retain(t).retain(e,(0,f.default)(i)))}},{key:"formatText",value:function(t,e){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(i).forEach((function(r){o.scroll.formatAt(t,e,r,i[r])})),this.update((new a.default).retain(t).retain(e,(0,f.default)(i)))}},{key:"getContents",value:function(t,e){return this.delta.slice(t,t+e)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(t,e){return t.concat(e.delta())}),new a.default)}},{key:"getFormat",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=[],i=[];0===e?this.scroll.path(t).forEach((function(t){var e=r(t,1)[0];e instanceof p.default?o.push(e):e instanceof l.default.Leaf&&i.push(e)})):(o=this.scroll.lines(t,e),i=this.scroll.descendants(l.default.Leaf,t,e));var n=[o,i].map((function(t){if(0===t.length)return{};for(var e=(0,d.bubbleFormats)(t.shift());Object.keys(e).length>0;){var o=t.shift();if(null==o)return e;e=x((0,d.bubbleFormats)(o),e)}return e}));return v.default.apply(v.default,n)}},{key:"getText",value:function(t,e){return this.getContents(t,e).filter((function(t){return"string"==typeof t.insert})).map((function(t){return t.insert})).join("")}},{key:"insertEmbed",value:function(t,e,o){return this.scroll.insertAt(t,e,o),this.update((new a.default).retain(t).insert(function(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}({},e,o)))}},{key:"insertText",value:function(t,e){var o=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(t,e),Object.keys(i).forEach((function(r){o.scroll.formatAt(t,e.length,r,i[r])})),this.update((new a.default).retain(t).insert(e,(0,f.default)(i)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===p.default.blotName&&!(t.children.length>1)&&t.children.head instanceof h.default}},{key:"removeFormat",value:function(t,e){var o=this.getText(t,e),i=this.scroll.line(t+e),n=r(i,2),s=n[0],l=n[1],u=0,d=new a.default;null!=s&&(u=s instanceof c.default?s.newlineIndex(l)-l+1:s.length()-l,d=s.delta().slice(l,l+u-1).insert("\n"));var p=this.getContents(t,e+u).diff((new a.default).insert(o).concat(d)),h=(new a.default).retain(t).concat(p);return this.applyDelta(h)}},{key:"update",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===e.length&&"characterData"===e[0].type&&e[0].target.data.match(b)&&l.default.find(e[0].target)){var r=l.default.find(e[0].target),n=(0,d.bubbleFormats)(r),s=r.offset(this.scroll),c=e[0].oldValue.replace(u.default.CONTENTS,""),p=(new a.default).insert(c),h=(new a.default).insert(r.value()),f=(new a.default).retain(s).concat(p.diff(h,o));t=f.reduce((function(t,e){return e.insert?t.insert(e.insert,n):t.push(e)}),new a.default),this.delta=i.compose(t)}else this.delta=this.getDelta(),t&&(0,m.default)(i.compose(t),this.delta)||(t=i.diff(this.delta,o));return t}}]),t}();function x(t,e){return Object.keys(e).reduce((function(o,i){return null==t[i]||(e[i]===t[i]?o[i]=e[i]:Array.isArray(e[i])?e[i].indexOf(t[i])<0&&(o[i]=e[i].concat([t[i]])):o[i]=[e[i],t[i]]),o}),{})}e.default=y},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.Range=void 0;var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var o=[],i=!0,r=!1,n=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!e||o.length!==e);i=!0);}catch(t){r=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return o}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=c(o(0)),a=c(o(21)),s=c(o(11)),l=c(o(8));function c(t){return t&&t.__esModule?t:{default:t}}function u(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var p=(0,c(o(10)).default)("quill:selection"),h=function t(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,t),this.index=e,this.length=o},f=function(){function t(e,o){var i=this;d(this,t),this.emitter=o,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=n.default.create("cursor",this),this.lastRange=this.savedRange=new h(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){i.mouseDown||setTimeout(i.update.bind(i,l.default.sources.USER),1)})),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(t,e){t===l.default.events.TEXT_CHANGE&&e.length()>0&&i.update(l.default.sources.SILENT)})),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,(function(){if(i.hasFocus()){var t=i.getNativeRange();null!=t&&t.start.node!==i.cursor.textNode&&i.emitter.once(l.default.events.SCROLL_UPDATE,(function(){try{i.setNativeRange(t.start.node,t.start.offset,t.end.node,t.end.offset)}catch(t){}}))}})),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,(function(t,e){if(e.range){var o=e.range,r=o.startNode,n=o.startOffset,a=o.endNode,s=o.endOffset;i.setNativeRange(r,n,a,s)}})),this.update(l.default.sources.SILENT)}return r(t,[{key:"handleComposition",value:function(){var t=this;this.root.addEventListener("compositionstart",(function(){t.composing=!0})),this.root.addEventListener("compositionend",(function(){if(t.composing=!1,t.cursor.parent){var e=t.cursor.restore();if(!e)return;setTimeout((function(){t.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var t=this;this.emitter.listenDOM("mousedown",document.body,(function(){t.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){t.mouseDown=!1,t.update(l.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(t,e){if(null==this.scroll.whitelist||this.scroll.whitelist[t]){this.scroll.update();var o=this.getNativeRange();if(null!=o&&o.native.collapsed&&!n.default.query(t,n.default.Scope.BLOCK)){if(o.start.node!==this.cursor.textNode){var i=n.default.find(o.start.node,!1);if(null==i)return;if(i instanceof n.default.Leaf){var r=i.split(o.start.offset);i.parent.insertBefore(this.cursor,r)}else i.insertBefore(this.cursor,o.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=this.scroll.length();t=Math.min(t,o-1),e=Math.min(t+e,o-1)-t;var r=void 0,n=this.scroll.leaf(t),a=i(n,2),s=a[0],l=a[1];if(null==s)return null;var c=s.position(l,!0),u=i(c,2);r=u[0],l=u[1];var d=document.createRange();if(e>0){d.setStart(r,l);var p=this.scroll.leaf(t+e),h=i(p,2);if(s=h[0],l=h[1],null==s)return null;var f=s.position(l,!0),m=i(f,2);return r=m[0],l=m[1],d.setEnd(r,l),d.getBoundingClientRect()}var v="left",g=void 0;return r instanceof Text?(l<r.data.length?(d.setStart(r,l),d.setEnd(r,l+1)):(d.setStart(r,l-1),d.setEnd(r,l),v="right"),g=d.getBoundingClientRect()):(g=s.domNode.getBoundingClientRect(),l>0&&(v="right")),{bottom:g.top+g.height,height:g.height,left:g[v],right:g[v],top:g.top,width:0}}},{key:"getNativeRange",value:function(){var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;var e=t.getRangeAt(0);if(null==e)return null;var o=this.normalizeNative(e);return p.info("getNativeRange",o),o}},{key:"getRange",value:function(){var t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(t){var e=this,o=[[t.start.node,t.start.offset]];t.native.collapsed||o.push([t.end.node,t.end.offset]);var r=o.map((function(t){var o=i(t,2),r=o[0],a=o[1],s=n.default.find(r,!0),l=s.offset(e.scroll);return 0===a?l:s instanceof n.default.Container?l+s.length():l+s.index(r,a)})),a=Math.min(Math.max.apply(Math,u(r)),this.scroll.length()-1),s=Math.min.apply(Math,[a].concat(u(r)));return new h(s,a-s)}},{key:"normalizeNative",value:function(t){if(!m(this.root,t.startContainer)||!t.collapsed&&!m(this.root,t.endContainer))return null;var e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach((function(t){for(var e=t.node,o=t.offset;!(e instanceof Text)&&e.childNodes.length>0;)if(e.childNodes.length>o)e=e.childNodes[o],o=0;else{if(e.childNodes.length!==o)break;o=(e=e.lastChild)instanceof Text?e.data.length:e.childNodes.length+1}t.node=e,t.offset=o})),e}},{key:"rangeToNative",value:function(t){var e=this,o=t.collapsed?[t.index]:[t.index,t.index+t.length],r=[],n=this.scroll.length();return o.forEach((function(t,o){t=Math.min(n-1,t);var a,s=e.scroll.leaf(t),l=i(s,2),c=l[0],u=l[1],d=c.position(u,0!==o),p=i(d,2);a=p[0],u=p[1],r.push(a,u)})),r.length<2&&(r=r.concat(r)),r}},{key:"scrollIntoView",value:function(t){var e=this.lastRange;if(null!=e){var o=this.getBounds(e.index,e.length);if(null!=o){var r=this.scroll.length()-1,n=this.scroll.line(Math.min(e.index,r)),a=i(n,1)[0],s=a;if(e.length>0){var l=this.scroll.line(Math.min(e.index+e.length,r));s=i(l,1)[0]}if(null!=a&&null!=s){var c=t.getBoundingClientRect();o.top<c.top?t.scrollTop-=c.top-o.top:o.bottom>c.bottom&&(t.scrollTop+=o.bottom-c.bottom)}}}}},{key:"setNativeRange",value:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(p.info("setNativeRange",t,e,o,i),null==t||null!=this.root.parentNode&&null!=t.parentNode&&null!=o.parentNode){var n=document.getSelection();if(null!=n)if(null!=t){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||r||t!==a.startContainer||e!==a.startOffset||o!==a.endContainer||i!==a.endOffset){"BR"==t.tagName&&(e=[].indexOf.call(t.parentNode.childNodes,t),t=t.parentNode),"BR"==o.tagName&&(i=[].indexOf.call(o.parentNode.childNodes,o),o=o.parentNode);var s=document.createRange();s.setStart(t,e),s.setEnd(o,i),n.removeAllRanges(),n.addRange(s)}}else n.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof e&&(o=e,e=!1),p.info("setRange",t),null!=t){var i=this.rangeToNative(t);this.setNativeRange.apply(this,u(i).concat([e]))}else this.setNativeRange(null);this.update(o)}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,e=this.lastRange,o=this.getRange(),r=i(o,2),n=r[0],c=r[1];if(this.lastRange=n,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,s.default)(e,this.lastRange)){var u;!this.composing&&null!=c&&c.native.collapsed&&c.start.node!==this.cursor.textNode&&this.cursor.restore();var d,p=[l.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(e),t];(u=this.emitter).emit.apply(u,[l.default.events.EDITOR_CHANGE].concat(p)),t!==l.default.sources.SILENT&&(d=this.emitter).emit.apply(d,p)}}}]),t}();function m(t,e){try{e.parentNode}catch(t){return!1}return e instanceof Text&&(e=e.parentNode),t.contains(e)}e.Range=h,e.default=f},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(0);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"insertInto",value:function(t,o){0===t.children.length?n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,t,o):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),e}(((i=a)&&i.__esModule?i:{default:i}).default.Embed);c.blotName="break",c.tagName="BR",e.default=c},function(t,e,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var n=o(44),a=o(30),s=o(1),l=function(t){function e(e){var o=t.call(this,e)||this;return o.build(),o}return r(e,t),e.prototype.appendChild=function(t){this.insertBefore(t)},e.prototype.attach=function(){t.prototype.attach.call(this),this.children.forEach((function(t){t.attach()}))},e.prototype.build=function(){var t=this;this.children=new n.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(e){try{var o=c(e);t.insertBefore(o,t.children.head||void 0)}catch(t){if(t instanceof s.ParchmentError)return;throw t}}))},e.prototype.deleteAt=function(t,e){if(0===t&&e===this.length())return this.remove();this.children.forEachAt(t,e,(function(t,e,o){t.deleteAt(e,o)}))},e.prototype.descendant=function(t,o){var i=this.children.find(o),r=i[0],n=i[1];return null==t.blotName&&t(r)||null!=t.blotName&&r instanceof t?[r,n]:r instanceof e?r.descendant(t,n):[null,-1]},e.prototype.descendants=function(t,o,i){void 0===o&&(o=0),void 0===i&&(i=Number.MAX_VALUE);var r=[],n=i;return this.children.forEachAt(o,i,(function(o,i,a){(null==t.blotName&&t(o)||null!=t.blotName&&o instanceof t)&&r.push(o),o instanceof e&&(r=r.concat(o.descendants(t,i,n))),n-=a})),r},e.prototype.detach=function(){this.children.forEach((function(t){t.detach()})),t.prototype.detach.call(this)},e.prototype.formatAt=function(t,e,o,i){this.children.forEachAt(t,e,(function(t,e,r){t.formatAt(e,r,o,i)}))},e.prototype.insertAt=function(t,e,o){var i=this.children.find(t),r=i[0],n=i[1];if(r)r.insertAt(n,e,o);else{var a=null==o?s.create("text",e):s.create(e,o);this.appendChild(a)}},e.prototype.insertBefore=function(t,e){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(e){return t instanceof e})))throw new s.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,e)},e.prototype.length=function(){return this.children.reduce((function(t,e){return t+e.length()}),0)},e.prototype.moveChildren=function(t,e){this.children.forEach((function(o){t.insertBefore(o,e)}))},e.prototype.optimize=function(e){if(t.prototype.optimize.call(this,e),0===this.children.length)if(null!=this.statics.defaultChild){var o=s.create(this.statics.defaultChild);this.appendChild(o),o.optimize(e)}else this.remove()},e.prototype.path=function(t,o){void 0===o&&(o=!1);var i=this.children.find(t,o),r=i[0],n=i[1],a=[[this,t]];return r instanceof e?a.concat(r.path(n,o)):(null!=r&&a.push([r,n]),a)},e.prototype.removeChild=function(t){this.children.remove(t)},e.prototype.replace=function(o){o instanceof e&&o.moveChildren(this),t.prototype.replace.call(this,o)},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var o=this.clone();return this.parent.insertBefore(o,this.next),this.children.forEachAt(t,this.length(),(function(t,i,r){t=t.split(i,e),o.appendChild(t)})),o},e.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},e.prototype.update=function(t,e){var o=this,i=[],r=[];t.forEach((function(t){t.target===o.domNode&&"childList"===t.type&&(i.push.apply(i,t.addedNodes),r.push.apply(r,t.removedNodes))})),r.forEach((function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var e=s.find(t);null!=e&&(null!=e.domNode.parentNode&&e.domNode.parentNode!==o.domNode||e.detach())}})),i.filter((function(t){return t.parentNode==o.domNode})).sort((function(t,e){return t===e?0:t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(t){var e=null;null!=t.nextSibling&&(e=s.find(t.nextSibling));var i=c(t);i.next==e&&null!=i.next||(null!=i.parent&&i.parent.removeChild(o),o.insertBefore(i,e||void 0))}))},e}(a.default);function c(t){var e=s.find(t);if(null==e)try{e=s.create(t)}catch(o){e=s.create(s.Scope.INLINE),[].slice.call(t.childNodes).forEach((function(t){e.domNode.appendChild(t)})),t.parentNode&&t.parentNode.replaceChild(e.domNode,t),e.attach()}return e}e.default=l},function(t,e,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var n=o(12),a=o(31),s=o(17),l=o(1),c=function(t){function e(e){var o=t.call(this,e)||this;return o.attributes=new a.default(o.domNode),o}return r(e,t),e.formats=function(t){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},e.prototype.format=function(t,e){var o=l.query(t);o instanceof n.default?this.attributes.attribute(o,e):e&&(null==o||t===this.statics.blotName&&this.formats()[t]===e||this.replaceWith(t,e))},e.prototype.formats=function(){var t=this.attributes.values(),e=this.statics.formats(this.domNode);return null!=e&&(t[this.statics.blotName]=e),t},e.prototype.replaceWith=function(e,o){var i=t.prototype.replaceWith.call(this,e,o);return this.attributes.copy(i),i},e.prototype.update=function(e,o){var i=this;t.prototype.update.call(this,e,o),e.some((function(t){return t.target===i.domNode&&"attributes"===t.type}))&&this.attributes.build()},e.prototype.wrap=function(o,i){var r=t.prototype.wrap.call(this,o,i);return r instanceof e&&r.statics.scope===this.statics.scope&&this.attributes.move(r),r},e}(s.default);e.default=c},function(t,e,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var n=o(30),a=o(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.value=function(t){return!0},e.prototype.index=function(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1},e.prototype.position=function(t,e){var o=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return t>0&&(o+=1),[this.parent.domNode,o]},e.prototype.value=function(){var t;return(t={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,t},e.scope=a.Scope.INLINE_BLOT,e}(n.default);e.default=s},function(t,e,o){var i=o(11),r=o(3),n={attributes:{compose:function(t,e,o){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var i=r(!0,{},e);for(var n in o||(i=Object.keys(i).reduce((function(t,e){return null!=i[e]&&(t[e]=i[e]),t}),{})),t)void 0!==t[n]&&void 0===e[n]&&(i[n]=t[n]);return Object.keys(i).length>0?i:void 0},diff:function(t,e){"object"!=typeof t&&(t={}),"object"!=typeof e&&(e={});var o=Object.keys(t).concat(Object.keys(e)).reduce((function(o,r){return i(t[r],e[r])||(o[r]=void 0===e[r]?null:e[r]),o}),{});return Object.keys(o).length>0?o:void 0},transform:function(t,e,o){if("object"!=typeof t)return e;if("object"==typeof e){if(!o)return e;var i=Object.keys(e).reduce((function(o,i){return void 0===t[i]&&(o[i]=e[i]),o}),{});return Object.keys(i).length>0?i:void 0}}},iterator:function(t){return new a(t)},length:function(t){return"number"==typeof t.delete?t.delete:"number"==typeof t.retain?t.retain:"string"==typeof t.insert?t.insert.length:1}};function a(t){this.ops=t,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var o=this.offset,i=n.length(e);if(t>=i-o?(t=i-o,this.index+=1,this.offset=0):this.offset+=t,"number"==typeof e.delete)return{delete:t};var r={};return e.attributes&&(r.attributes=e.attributes),"number"==typeof e.retain?r.retain=t:"string"==typeof e.insert?r.insert=e.insert.substr(o,t):r.insert=e.insert,r}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?n.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var t=this.offset,e=this.index,o=this.next(),i=this.ops.slice(this.index);return this.offset=t,this.index=e,[o].concat(i)}return[]},t.exports=n},function(t,e){var o=function(){function t(t,e){return null!=e&&t instanceof e}var e,o,i;try{e=Map}catch(t){e=function(){}}try{o=Set}catch(t){o=function(){}}try{i=Promise}catch(t){i=function(){}}function r(n,s,l,c,u){"object"==typeof s&&(l=s.depth,c=s.prototype,u=s.includeNonEnumerable,s=s.circular);var d=[],p=[],h="undefined"!=typeof Buffer;return void 0===s&&(s=!0),void 0===l&&(l=1/0),function n(l,f){if(null===l)return null;if(0===f)return l;var m,v;if("object"!=typeof l)return l;if(t(l,e))m=new e;else if(t(l,o))m=new o;else if(t(l,i))m=new i((function(t,e){l.then((function(e){t(n(e,f-1))}),(function(t){e(n(t,f-1))}))}));else if(r.__isArray(l))m=[];else if(r.__isRegExp(l))m=new RegExp(l.source,a(l)),l.lastIndex&&(m.lastIndex=l.lastIndex);else if(r.__isDate(l))m=new Date(l.getTime());else{if(h&&Buffer.isBuffer(l))return m=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(m),m;t(l,Error)?m=Object.create(l):void 0===c?(v=Object.getPrototypeOf(l),m=Object.create(v)):(m=Object.create(c),v=c)}if(s){var g=d.indexOf(l);if(-1!=g)return p[g];d.push(l),p.push(m)}for(var b in t(l,e)&&l.forEach((function(t,e){var o=n(e,f-1),i=n(t,f-1);m.set(o,i)})),t(l,o)&&l.forEach((function(t){var e=n(t,f-1);m.add(e)})),l){var y;v&&(y=Object.getOwnPropertyDescriptor(v,b)),y&&null==y.set||(m[b]=n(l[b],f-1))}if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(l);for(b=0;b<x.length;b++){var _=x[b];(!(A=Object.getOwnPropertyDescriptor(l,_))||A.enumerable||u)&&(m[_]=n(l[_],f-1),A.enumerable||Object.defineProperty(m,_,{enumerable:!1}))}}if(u){var w=Object.getOwnPropertyNames(l);for(b=0;b<w.length;b++){var A,E=w[b];(A=Object.getOwnPropertyDescriptor(l,E))&&A.enumerable||(m[E]=n(l[E],f-1),Object.defineProperty(m,E,{enumerable:!1}))}}return m}(n,l)}function n(t){return Object.prototype.toString.call(t)}function a(t){var e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),e}return r.clonePrototype=function(t){if(null===t)return null;var e=function(){};return e.prototype=t,new e},r.__objToStr=n,r.__isDate=function(t){return"object"==typeof t&&"[object Date]"===n(t)},r.__isArray=function(t){return"object"==typeof t&&"[object Array]"===n(t)},r.__isRegExp=function(t){return"object"==typeof t&&"[object RegExp]"===n(t)},r.__getRegExpFlags=a,r}();"object"==typeof t&&t.exports&&(t.exports=o)},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var o=[],i=!0,r=!1,n=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!e||o.length!==e);i=!0);}catch(t){r=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return o}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=h(o(0)),s=h(o(8)),l=o(4),c=h(l),u=h(o(16)),d=h(o(13)),p=h(o(25));function h(t){return t&&t.__esModule?t:{default:t}}function f(t){return t instanceof c.default||t instanceof l.BlockEmbed}var m=function(t){function e(t,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.emitter=o.emitter,Array.isArray(o.whitelist)&&(i.whitelist=o.whitelist.reduce((function(t,e){return t[e]=!0,t}),{})),i.domNode.addEventListener("DOMNodeInserted",(function(){})),i.optimize(),i.enable(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(t,o){var r=this.line(t),a=i(r,2),s=a[0],c=a[1],p=this.line(t+o),h=i(p,1)[0];if(n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deleteAt",this).call(this,t,o),null!=h&&s!==h&&c>0){if(s instanceof l.BlockEmbed||h instanceof l.BlockEmbed)return void this.optimize();if(s instanceof d.default){var f=s.newlineIndex(s.length(),!0);if(f>-1&&(s=s.split(f+1))===h)return void this.optimize()}else if(h instanceof d.default){var m=h.newlineIndex(0);m>-1&&h.split(m+1)}var v=h.children.head instanceof u.default?null:h.children.head;s.moveChildren(h,v),s.remove()}this.optimize()}},{key:"enable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",t)}},{key:"formatAt",value:function(t,o,i,r){(null==this.whitelist||this.whitelist[i])&&(n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"formatAt",this).call(this,t,o,i,r),this.optimize())}},{key:"insertAt",value:function(t,o,i){if(null==i||null==this.whitelist||this.whitelist[o]){if(t>=this.length())if(null==i||null==a.default.query(o,a.default.Scope.BLOCK)){var r=a.default.create(this.statics.defaultChild);this.appendChild(r),null==i&&o.endsWith("\n")&&(o=o.slice(0,-1)),r.insertAt(0,o,i)}else{var s=a.default.create(o,i);this.appendChild(s)}else n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertAt",this).call(this,t,o,i);this.optimize()}}},{key:"insertBefore",value:function(t,o){if(t.statics.scope===a.default.Scope.INLINE_BLOT){var i=a.default.create(this.statics.defaultChild);i.appendChild(t),t=i}n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,o)}},{key:"leaf",value:function(t){return this.path(t).pop()||[null,-1]}},{key:"line",value:function(t){return t===this.length()?this.line(t-1):this.descendant(f,t)}},{key:"lines",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE,o=function t(e,o,i){var r=[],n=i;return e.children.forEachAt(o,i,(function(e,o,i){f(e)?r.push(e):e instanceof a.default.Container&&(r=r.concat(t(e,o,n))),n-=i})),r};return o(this,t,e)}},{key:"optimize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t,o),t.length>0&&this.emitter.emit(s.default.events.SCROLL_OPTIMIZE,t,o))}},{key:"path",value:function(t){return n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"path",this).call(this,t).slice(1)}},{key:"update",value:function(t){if(!0!==this.batch){var o=s.default.sources.USER;"string"==typeof t&&(o=t),Array.isArray(t)||(t=this.observer.takeRecords()),t.length>0&&this.emitter.emit(s.default.events.SCROLL_BEFORE_UPDATE,o,t),n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"update",this).call(this,t.concat([])),t.length>0&&this.emitter.emit(s.default.events.SCROLL_UPDATE,o,t)}}}]),e}(a.default.Scroll);m.blotName="scroll",m.className="ql-editor",m.tagName="DIV",m.defaultChild="block",m.allowedChildren=[c.default,l.BlockEmbed,p.default],e.default=m},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.SHORTKEY=e.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var o=[],i=!0,r=!1,n=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!e||o.length!==e);i=!0);}catch(t){r=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return o}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),a=m(o(21)),s=m(o(11)),l=m(o(3)),c=m(o(2)),u=m(o(20)),d=m(o(0)),p=m(o(5)),h=m(o(10)),f=m(o(9));function m(t){return t&&t.__esModule?t:{default:t}}function v(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var g=(0,h.default)("quill:keyboard"),b=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",y=function(t){function e(t,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o));return i.bindings={},Object.keys(i.options.bindings).forEach((function(e){("list autofill"!==e||null==t.scroll.whitelist||t.scroll.whitelist.list)&&i.options.bindings[e]&&i.addBinding(i.options.bindings[e])})),i.addBinding({key:e.keys.ENTER,shiftKey:null},E),i.addBinding({key:e.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(i.addBinding({key:e.keys.BACKSPACE},{collapsed:!0},_),i.addBinding({key:e.keys.DELETE},{collapsed:!0},w)):(i.addBinding({key:e.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},_),i.addBinding({key:e.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),i.addBinding({key:e.keys.BACKSPACE},{collapsed:!1},A),i.addBinding({key:e.keys.DELETE},{collapsed:!1},A),i.addBinding({key:e.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},_),i.listen(),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,null,[{key:"match",value:function(t,e){return e=S(e),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(o){return!!e[o]!==t[o]&&null!==e[o]}))&&e.key===(t.which||t.keyCode)}}]),n(e,[{key:"addBinding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=S(t);if(null==i||null==i.key)return g.warn("Attempted to add invalid keyboard binding",i);"function"==typeof e&&(e={handler:e}),"function"==typeof o&&(o={handler:o}),i=(0,l.default)(i,e,o),this.bindings[i.key]=this.bindings[i.key]||[],this.bindings[i.key].push(i)}},{key:"listen",value:function(){var t=this;this.quill.root.addEventListener("keydown",(function(o){if(!o.defaultPrevented){var n=o.which||o.keyCode,a=(t.bindings[n]||[]).filter((function(t){return e.match(o,t)}));if(0!==a.length){var l=t.quill.getSelection();if(null!=l&&t.quill.hasFocus()){var c=t.quill.getLine(l.index),u=r(c,2),p=u[0],h=u[1],f=t.quill.getLeaf(l.index),m=r(f,2),v=m[0],g=m[1],b=0===l.length?[v,g]:t.quill.getLeaf(l.index+l.length),y=r(b,2),x=y[0],_=y[1],w=v instanceof d.default.Text?v.value().slice(0,g):"",A=x instanceof d.default.Text?x.value().slice(_):"",E={collapsed:0===l.length,empty:0===l.length&&p.length()<=1,format:t.quill.getFormat(l),offset:h,prefix:w,suffix:A};a.some((function(e){if(null!=e.collapsed&&e.collapsed!==E.collapsed)return!1;if(null!=e.empty&&e.empty!==E.empty)return!1;if(null!=e.offset&&e.offset!==E.offset)return!1;if(Array.isArray(e.format)){if(e.format.every((function(t){return null==E.format[t]})))return!1}else if("object"===i(e.format)&&!Object.keys(e.format).every((function(t){return!0===e.format[t]?null!=E.format[t]:!1===e.format[t]?null==E.format[t]:(0,s.default)(e.format[t],E.format[t])})))return!1;return!(null!=e.prefix&&!e.prefix.test(E.prefix)||null!=e.suffix&&!e.suffix.test(E.suffix)||!0===e.handler.call(t,l,E))}))&&o.preventDefault()}}}}))}}]),e}(f.default);function x(t,e){var o,i=t===y.keys.LEFT?"prefix":"suffix";return v(o={key:t,shiftKey:e,altKey:null},i,/^$/),v(o,"handler",(function(o){var i=o.index;t===y.keys.RIGHT&&(i+=o.length+1);var n=this.quill.getLeaf(i);return!(r(n,1)[0]instanceof d.default.Embed&&(t===y.keys.LEFT?e?this.quill.setSelection(o.index-1,o.length+1,p.default.sources.USER):this.quill.setSelection(o.index-1,p.default.sources.USER):e?this.quill.setSelection(o.index,o.length+1,p.default.sources.USER):this.quill.setSelection(o.index+o.length+1,p.default.sources.USER),1))})),o}function _(t,e){if(!(0===t.index||this.quill.getLength()<=1)){var o=this.quill.getLine(t.index),i=r(o,1)[0],n={};if(0===e.offset){var a=this.quill.getLine(t.index-1),s=r(a,1)[0];if(null!=s&&s.length()>1){var l=i.formats(),c=this.quill.getFormat(t.index-1,1);n=u.default.attributes.diff(l,c)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;this.quill.deleteText(t.index-d,d,p.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(t.index-d,d,n,p.default.sources.USER),this.quill.focus()}}function w(t,e){var o=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(!(t.index>=this.quill.getLength()-o)){var i={},n=0,a=this.quill.getLine(t.index),s=r(a,1)[0];if(e.offset>=s.length()-1){var l=this.quill.getLine(t.index+1),c=r(l,1)[0];if(c){var d=s.formats(),h=this.quill.getFormat(t.index,1);i=u.default.attributes.diff(d,h)||{},n=c.length()}}this.quill.deleteText(t.index,o,p.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(t.index+n-1,o,i,p.default.sources.USER)}}function A(t){var e=this.quill.getLines(t),o={};if(e.length>1){var i=e[0].formats(),r=e[e.length-1].formats();o=u.default.attributes.diff(r,i)||{}}this.quill.deleteText(t,p.default.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(t.index,1,o,p.default.sources.USER),this.quill.setSelection(t.index,p.default.sources.SILENT),this.quill.focus()}function E(t,e){var o=this;t.length>0&&this.quill.scroll.deleteAt(t.index,t.length);var i=Object.keys(e.format).reduce((function(t,o){return d.default.query(o,d.default.Scope.BLOCK)&&!Array.isArray(e.format[o])&&(t[o]=e.format[o]),t}),{});this.quill.insertText(t.index,"\n",i,p.default.sources.USER),this.quill.setSelection(t.index+1,p.default.sources.SILENT),this.quill.focus(),Object.keys(e.format).forEach((function(t){null==i[t]&&(Array.isArray(e.format[t])||"link"!==t&&o.quill.format(t,e.format[t],p.default.sources.USER))}))}function O(t){return{key:y.keys.TAB,shiftKey:!t,format:{"code-block":!0},handler:function(e){var o=d.default.query("code-block"),i=e.index,n=e.length,a=this.quill.scroll.descendant(o,i),s=r(a,2),l=s[0],c=s[1];if(null!=l){var u=this.quill.getIndex(l),h=l.newlineIndex(c,!0)+1,f=l.newlineIndex(u+c+n),m=l.domNode.textContent.slice(h,f).split("\n");c=0,m.forEach((function(e,r){t?(l.insertAt(h+c,o.TAB),c+=o.TAB.length,0===r?i+=o.TAB.length:n+=o.TAB.length):e.startsWith(o.TAB)&&(l.deleteAt(h+c,o.TAB.length),c-=o.TAB.length,0===r?i-=o.TAB.length:n-=o.TAB.length),c+=e.length+1})),this.quill.update(p.default.sources.USER),this.quill.setSelection(i,n,p.default.sources.SILENT)}}}}function I(t){return{key:t[0].toUpperCase(),shortKey:!0,handler:function(e,o){this.quill.format(t,!o.format[t],p.default.sources.USER)}}}function S(t){if("string"==typeof t||"number"==typeof t)return S({key:t});if("object"===(void 0===t?"undefined":i(t))&&(t=(0,a.default)(t,!1)),"string"==typeof t.key)if(null!=y.keys[t.key.toUpperCase()])t.key=y.keys[t.key.toUpperCase()];else{if(1!==t.key.length)return null;t.key=t.key.toUpperCase().charCodeAt(0)}return t.shortKey&&(t[b]=t.shortKey,delete t.shortKey),t}y.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},y.DEFAULTS={bindings:{bold:I("bold"),italic:I("italic"),underline:I("underline"),indent:{key:y.keys.TAB,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","+1",p.default.sources.USER)}},outdent:{key:y.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(t,e){if(e.collapsed&&0!==e.offset)return!0;this.quill.format("indent","-1",p.default.sources.USER)}},"outdent backspace":{key:y.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(t,e){null!=e.format.indent?this.quill.format("indent","-1",p.default.sources.USER):null!=e.format.list&&this.quill.format("list",!1,p.default.sources.USER)}},"indent code-block":O(!0),"outdent code-block":O(!1),"remove tab":{key:y.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(t){this.quill.deleteText(t.index-1,1,p.default.sources.USER)}},tab:{key:y.keys.TAB,handler:function(t){this.quill.history.cutoff();var e=(new c.default).retain(t.index).delete(t.length).insert("\t");this.quill.updateContents(e,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index+1,p.default.sources.SILENT)}},"list empty enter":{key:y.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(t,e){this.quill.format("list",!1,p.default.sources.USER),e.format.indent&&this.quill.format("indent",!1,p.default.sources.USER)}},"checklist enter":{key:y.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(t){var e=this.quill.getLine(t.index),o=r(e,2),i=o[0],n=o[1],a=(0,l.default)({},i.formats(),{list:"checked"}),s=(new c.default).retain(t.index).insert("\n",a).retain(i.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(s,p.default.sources.USER),this.quill.setSelection(t.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:y.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(t,e){var o=this.quill.getLine(t.index),i=r(o,2),n=i[0],a=i[1],s=(new c.default).retain(t.index).insert("\n",e.format).retain(n.length()-a-1).retain(1,{header:null});this.quill.updateContents(s,p.default.sources.USER),this.quill.setSelection(t.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(t,e){var o=e.prefix.length,i=this.quill.getLine(t.index),n=r(i,2),a=n[0],s=n[1];if(s>o)return!0;var l=void 0;switch(e.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(t.index," ",p.default.sources.USER),this.quill.history.cutoff();var u=(new c.default).retain(t.index-s).delete(o+1).retain(a.length()-2-s).retain(1,{list:l});this.quill.updateContents(u,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(t.index-o,p.default.sources.SILENT)}},"code exit":{key:y.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(t){var e=this.quill.getLine(t.index),o=r(e,2),i=o[0],n=o[1],a=(new c.default).retain(t.index+i.length()-n-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,p.default.sources.USER)}},"embed left":x(y.keys.LEFT,!1),"embed left shift":x(y.keys.LEFT,!0),"embed right":x(y.keys.RIGHT,!1),"embed right shift":x(y.keys.RIGHT,!0)}},e.default=y,e.SHORTKEY=b},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var o=[],i=!0,r=!1,n=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!e||o.length!==e);i=!0);}catch(t){r=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return o}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},n=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),a=l(o(0)),s=l(o(7));function l(t){return t&&t.__esModule?t:{default:t}}var c=function(t){function e(t,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.selection=o,i.textNode=document.createTextNode(e.CONTENTS),i.domNode.appendChild(i.textNode),i._length=0,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,null,[{key:"value",value:function(){}}]),n(e,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,o){if(0!==this._length)return r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,o);for(var i=this,n=0;null!=i&&i.statics.scope!==a.default.Scope.BLOCK_BLOT;)n+=i.offset(i.parent),i=i.parent;null!=i&&(this._length=e.CONTENTS.length,i.optimize(),i.formatAt(n,e.CONTENTS.length,t,o),this._length=0)}},{key:"index",value:function(t,o){return t===this.textNode?0:r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,o)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,o=this.selection.getNativeRange(),r=void 0,n=void 0,l=void 0;if(null!=o&&o.start.node===t&&o.end.node===t){var c=[t,o.start.offset,o.end.offset];r=c[0],n=c[1],l=c[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var u=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof s.default?(r=this.next.domNode,this.next.insertAt(0,u),this.textNode.data=e.CONTENTS):(this.textNode.data=u,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=n){var d=[n,l].map((function(t){return Math.max(0,Math.min(r.data.length,t-1))})),p=i(d,2);return n=p[0],l=p[1],{startNode:r,startOffset:n,endNode:r,endOffset:l}}}}},{key:"update",value:function(t,e){var o=this;if(t.some((function(t){return"characterData"===t.type&&t.target===o.textNode}))){var i=this.restore();i&&(e.range=i)}}},{key:"value",value:function(){return""}}]),e}(a.default.Embed);c.blotName="cursor",c.className="ql-cursor",c.tagName="span",c.CONTENTS="\ufeff",e.default=c},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i=a(o(0)),r=o(4),n=a(r);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.default.Container);c.allowedChildren=[n.default,r.BlockEmbed,c],e.default=c},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.ColorStyle=e.ColorClass=e.ColorAttributor=void 0;var i,r=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(0),s=(i=a)&&i.__esModule?i:{default:i};function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"value",value:function(t){var o=n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t);return o.startsWith("rgb(")?(o=o.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+o.split(",").map((function(t){return("00"+parseInt(t).toString(16)).slice(-2)})).join("")):o}}]),e}(s.default.Attributor.Style),d=new s.default.Attributor.Class("color","ql-color",{scope:s.default.Scope.INLINE}),p=new u("color","color",{scope:s.default.Scope.INLINE});e.ColorAttributor=u,e.ColorClass=d,e.ColorStyle=p},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.sanitize=e.default=void 0;var i,r=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(6);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"format",value:function(t,o){if(t!==this.statics.blotName||!o)return n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,o);o=this.constructor.sanitize(o),this.domNode.setAttribute("href",o)}}],[{key:"create",value:function(t){var o=n(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return t=this.sanitize(t),o.setAttribute("href",t),o.setAttribute("rel","noopener noreferrer"),o.setAttribute("target","_blank"),o}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return u(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}]),e}(((i=a)&&i.__esModule?i:{default:i}).default);function u(t,e){var o=document.createElement("a");o.href=t;var i=o.href.slice(0,o.href.indexOf(":"));return e.indexOf(i)>-1}c.blotName="link",c.tagName="A",c.SANITIZED_URL="about:blank",c.PROTOCOL_WHITELIST=["http","https","mailto","tel"],e.default=c,e.sanitize=u},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=s(o(23)),a=s(o(107));function s(t){return t&&t.__esModule?t:{default:t}}var l=0;function c(t,e){t.setAttribute(e,!("true"===t.getAttribute(e)))}var u=function(){function t(e){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){o.togglePicker()})),this.label.addEventListener("keydown",(function(t){switch(t.keyCode){case n.default.keys.ENTER:o.togglePicker();break;case n.default.keys.ESCAPE:o.escape(),t.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return r(t,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),c(this.label,"aria-expanded"),c(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var e=this,o=document.createElement("span");return o.tabIndex="0",o.setAttribute("role","button"),o.classList.add("ql-picker-item"),t.hasAttribute("value")&&o.setAttribute("data-value",t.getAttribute("value")),t.textContent&&o.setAttribute("data-label",t.textContent),o.addEventListener("click",(function(){e.selectItem(o,!0)})),o.addEventListener("keydown",(function(t){switch(t.keyCode){case n.default.keys.ENTER:e.selectItem(o,!0),t.preventDefault();break;case n.default.keys.ESCAPE:e.escape(),t.preventDefault()}})),o}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=a.default,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,[].slice.call(this.select.options).forEach((function(o){var i=t.buildItem(o);e.appendChild(i),!0===o.selected&&t.selectItem(i)})),this.container.appendChild(e)}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach((function(e){t.container.setAttribute(e.name,e.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout((function(){return t.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this.container.querySelector(".ql-selected");if(t!==o&&(null!=o&&o.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":i(Event))){var r=document.createEvent("Event");r.initEvent("change",!0,!0),this.select.dispatchEvent(r)}this.close()}}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var e=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(e)}else this.selectItem(null);var o=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",o)}}]),t}();e.default=u},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i=g(o(0)),r=g(o(5)),n=o(4),a=g(n),s=g(o(16)),l=g(o(25)),c=g(o(24)),u=g(o(35)),d=g(o(6)),p=g(o(22)),h=g(o(7)),f=g(o(55)),m=g(o(42)),v=g(o(23));function g(t){return t&&t.__esModule?t:{default:t}}r.default.register({"blots/block":a.default,"blots/block/embed":n.BlockEmbed,"blots/break":s.default,"blots/container":l.default,"blots/cursor":c.default,"blots/embed":u.default,"blots/inline":d.default,"blots/scroll":p.default,"blots/text":h.default,"modules/clipboard":f.default,"modules/history":m.default,"modules/keyboard":v.default}),i.default.register(a.default,s.default,c.default,d.default,p.default,h.default),e.default=r.default},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i=o(1),r=function(){function t(t){this.domNode=t,this.domNode[i.DATA_KEY]={blot:this}}return Object.defineProperty(t.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),t.create=function(t){if(null==this.tagName)throw new i.ParchmentError("Blot definition missing tagName");var e;return Array.isArray(this.tagName)?("string"==typeof t&&(t=t.toUpperCase(),parseInt(t).toString()===t&&(t=parseInt(t))),e="number"==typeof t?document.createElement(this.tagName[t-1]):this.tagName.indexOf(t)>-1?document.createElement(t):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e},t.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},t.prototype.clone=function(){var t=this.domNode.cloneNode(!1);return i.create(t)},t.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[i.DATA_KEY]},t.prototype.deleteAt=function(t,e){this.isolate(t,e).remove()},t.prototype.formatAt=function(t,e,o,r){var n=this.isolate(t,e);if(null!=i.query(o,i.Scope.BLOT)&&r)n.wrap(o,r);else if(null!=i.query(o,i.Scope.ATTRIBUTE)){var a=i.create(this.statics.scope);n.wrap(a),a.format(o,r)}},t.prototype.insertAt=function(t,e,o){var r=null==o?i.create("text",e):i.create(e,o),n=this.split(t);this.parent.insertBefore(r,n)},t.prototype.insertInto=function(t,e){void 0===e&&(e=null),null!=this.parent&&this.parent.children.remove(this);var o=null;t.children.insertBefore(this,e),null!=e&&(o=e.domNode),this.domNode.parentNode==t.domNode&&this.domNode.nextSibling==o||t.domNode.insertBefore(this.domNode,o),this.parent=t,this.attach()},t.prototype.isolate=function(t,e){var o=this.split(t);return o.split(e),o},t.prototype.length=function(){return 1},t.prototype.offset=function(t){return void 0===t&&(t=this.parent),null==this.parent||this==t?0:this.parent.children.offset(this)+this.parent.offset(t)},t.prototype.optimize=function(t){null!=this.domNode[i.DATA_KEY]&&delete this.domNode[i.DATA_KEY].mutations},t.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},t.prototype.replace=function(t){null!=t.parent&&(t.parent.insertBefore(this,t.next),t.remove())},t.prototype.replaceWith=function(t,e){var o="string"==typeof t?i.create(t,e):t;return o.replace(this),o},t.prototype.split=function(t,e){return 0===t?this:this.next},t.prototype.update=function(t,e){},t.prototype.wrap=function(t,e){var o="string"==typeof t?i.create(t,e):t;return null!=this.parent&&this.parent.insertBefore(o,this.next),o.appendChild(this),o},t.blotName="abstract",t}();e.default=r},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i=o(12),r=o(32),n=o(33),a=o(1),s=function(){function t(t){this.attributes={},this.domNode=t,this.build()}return t.prototype.attribute=function(t,e){e?t.add(this.domNode,e)&&(null!=t.value(this.domNode)?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])},t.prototype.build=function(){var t=this;this.attributes={};var e=i.default.keys(this.domNode),o=r.default.keys(this.domNode),s=n.default.keys(this.domNode);e.concat(o).concat(s).forEach((function(e){var o=a.query(e,a.Scope.ATTRIBUTE);o instanceof i.default&&(t.attributes[o.attrName]=o)}))},t.prototype.copy=function(t){var e=this;Object.keys(this.attributes).forEach((function(o){var i=e.attributes[o].value(e.domNode);t.format(o,i)}))},t.prototype.move=function(t){var e=this;this.copy(t),Object.keys(this.attributes).forEach((function(t){e.attributes[t].remove(e.domNode)})),this.attributes={}},t.prototype.values=function(){var t=this;return Object.keys(this.attributes).reduce((function(e,o){return e[o]=t.attributes[o].value(t.domNode),e}),{})},t}();e.default=s},function(t,e,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});function n(t,e){return(t.getAttribute("class")||"").split(/\s+/).filter((function(t){return 0===t.indexOf(e+"-")}))}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.keys=function(t){return(t.getAttribute("class")||"").split(/\s+/).map((function(t){return t.split("-").slice(0,-1).join("-")}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(this.remove(t),t.classList.add(this.keyName+"-"+e),!0)},e.prototype.remove=function(t){n(t,this.keyName).forEach((function(e){t.classList.remove(e)})),0===t.classList.length&&t.removeAttribute("class")},e.prototype.value=function(t){var e=(n(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""},e}(o(12).default);e.default=a},function(t,e,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});function n(t){var e=t.split("-"),o=e.slice(1).map((function(t){return t[0].toUpperCase()+t.slice(1)})).join("");return e[0]+o}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.keys=function(t){return(t.getAttribute("style")||"").split(";").map((function(t){return t.split(":")[0].trim()}))},e.prototype.add=function(t,e){return!!this.canAdd(t,e)&&(t.style[n(this.keyName)]=e,!0)},e.prototype.remove=function(t){t.style[n(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")},e.prototype.value=function(t){var e=t.style[n(this.keyName)];return this.canAdd(t,e)?e:""},e}(o(12).default);e.default=a},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),r=function(){function t(e,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.options=o,this.modules={}}return i(t,[{key:"init",value:function(){var t=this;Object.keys(this.options.modules).forEach((function(e){null==t.modules[e]&&t.addModule(e)}))}},{key:"addModule",value:function(t){var e=this.quill.constructor.import("modules/"+t);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}}]),t}();r.DEFAULTS={modules:{}},r.themes={default:r},e.default=r},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),r=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},n=s(o(0)),a=s(o(7));function s(t){return t&&t.__esModule?t:{default:t}}var l="\ufeff",c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return o.contentNode=document.createElement("span"),o.contentNode.setAttribute("contenteditable",!1),[].slice.call(o.domNode.childNodes).forEach((function(t){o.contentNode.appendChild(t)})),o.leftGuard=document.createTextNode(l),o.rightGuard=document.createTextNode(l),o.domNode.appendChild(o.leftGuard),o.domNode.appendChild(o.contentNode),o.domNode.appendChild(o.rightGuard),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"index",value:function(t,o){return t===this.leftGuard?0:t===this.rightGuard?1:r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,t,o)}},{key:"restore",value:function(t){var e=void 0,o=void 0,i=t.data.split(l).join("");if(t===this.leftGuard)if(this.prev instanceof a.default){var r=this.prev.length();this.prev.insertAt(r,i),e={startNode:this.prev.domNode,startOffset:r+i.length}}else o=document.createTextNode(i),this.parent.insertBefore(n.default.create(o),this),e={startNode:o,startOffset:i.length};else t===this.rightGuard&&(this.next instanceof a.default?(this.next.insertAt(0,i),e={startNode:this.next.domNode,startOffset:i.length}):(o=document.createTextNode(i),this.parent.insertBefore(n.default.create(o),this.next),e={startNode:o,startOffset:i.length}));return t.data=l,e}},{key:"update",value:function(t,e){var o=this;t.forEach((function(t){if("characterData"===t.type&&(t.target===o.leftGuard||t.target===o.rightGuard)){var i=o.restore(t.target);i&&(e.range=i)}}))}}]),e}(n.default.Embed);e.default=c},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.AlignStyle=e.AlignClass=e.AlignAttribute=void 0;var i,r=o(0),n=(i=r)&&i.__esModule?i:{default:i},a={scope:n.default.Scope.BLOCK,whitelist:["right","center","justify"]},s=new n.default.Attributor.Attribute("align","align",a),l=new n.default.Attributor.Class("align","ql-align",a),c=new n.default.Attributor.Style("align","text-align",a);e.AlignAttribute=s,e.AlignClass=l,e.AlignStyle=c},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.BackgroundStyle=e.BackgroundClass=void 0;var i,r=o(0),n=(i=r)&&i.__esModule?i:{default:i},a=o(26),s=new n.default.Attributor.Class("background","ql-bg",{scope:n.default.Scope.INLINE}),l=new a.ColorAttributor("background","background-color",{scope:n.default.Scope.INLINE});e.BackgroundClass=s,e.BackgroundStyle=l},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.DirectionStyle=e.DirectionClass=e.DirectionAttribute=void 0;var i,r=o(0),n=(i=r)&&i.__esModule?i:{default:i},a={scope:n.default.Scope.BLOCK,whitelist:["rtl"]},s=new n.default.Attributor.Attribute("direction","dir",a),l=new n.default.Attributor.Class("direction","ql-direction",a),c=new n.default.Attributor.Style("direction","direction",a);e.DirectionAttribute=s,e.DirectionClass=l,e.DirectionStyle=c},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.FontClass=e.FontStyle=void 0;var i,r=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(0),s=(i=a)&&i.__esModule?i:{default:i};function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u={scope:s.default.Scope.INLINE,whitelist:["serif","monospace"]},d=new s.default.Attributor.Class("font","ql-font",u),p=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"value",value:function(t){return n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),e}(s.default.Attributor.Style),h=new p("font","font-family",u);e.FontStyle=h,e.FontClass=d},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.SizeStyle=e.SizeClass=void 0;var i,r=o(0),n=(i=r)&&i.__esModule?i:{default:i},a=new n.default.Attributor.Class("size","ql-size",{scope:n.default.Scope.INLINE,whitelist:["small","large","huge"]}),s=new n.default.Attributor.Style("size","font-size",{scope:n.default.Scope.INLINE,whitelist:["10px","18px","32px"]});e.SizeClass=a,e.SizeStyle=s},function(t,e,o){t.exports={align:{"":o(76),center:o(77),right:o(78),justify:o(79)},background:o(80),blockquote:o(81),bold:o(82),clean:o(83),code:o(58),"code-block":o(58),color:o(84),direction:{"":o(85),rtl:o(86)},float:{center:o(87),full:o(88),left:o(89),right:o(90)},formula:o(91),header:{1:o(92),2:o(93)},italic:o(94),image:o(95),indent:{"+1":o(96),"-1":o(97)},link:o(98),list:{ordered:o(99),bullet:o(100),check:o(101)},script:{sub:o(102),super:o(103)},strike:o(104),underline:o(105),video:o(106)}},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.getLastChangeIndex=e.default=void 0;var i=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),r=a(o(0)),n=a(o(5));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o));return i.lastRecorded=0,i.ignoreChange=!1,i.clear(),i.quill.on(n.default.events.EDITOR_CHANGE,(function(t,e,o,r){t!==n.default.events.TEXT_CHANGE||i.ignoreChange||(i.options.userOnly&&r!==n.default.sources.USER?i.transform(e):i.record(e,o))})),i.quill.keyboard.addBinding({key:"Z",shortKey:!0},i.undo.bind(i)),i.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},i.redo.bind(i)),/Win/i.test(navigator.platform)&&i.quill.keyboard.addBinding({key:"Y",shortKey:!0},i.redo.bind(i)),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"change",value:function(t,e){if(0!==this.stack[t].length){var o=this.stack[t].pop();this.stack[e].push(o),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(o[t],n.default.sources.USER),this.ignoreChange=!1;var i=l(o[t]);this.quill.setSelection(i)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,e){if(0!==t.ops.length){this.stack.redo=[];var o=this.quill.getContents().diff(e),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var r=this.stack.undo.pop();o=o.compose(r.undo),t=r.redo.compose(t)}else this.lastRecorded=i;this.stack.undo.push({redo:t,undo:o}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)})),this.stack.redo.forEach((function(e){e.undo=t.transform(e.undo,!0),e.redo=t.transform(e.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),e}(a(o(9)).default);function l(t){var e=t.reduce((function(t,e){return t+=e.delete||0}),0),o=t.length()-e;return function(t){var e=t.ops[t.ops.length-1];return null!=e&&(null!=e.insert?"string"==typeof e.insert&&e.insert.endsWith("\n"):null!=e.attributes&&Object.keys(e.attributes).some((function(t){return null!=r.default.query(t,r.default.Scope.BLOCK)})))}(t)&&(o-=1),o}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},e.default=s,e.getLastChangeIndex=l},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BaseTooltip=void 0;var i=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),r=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},n=f(o(3)),a=f(o(2)),s=f(o(8)),l=f(o(23)),c=f(o(34)),u=f(o(59)),d=f(o(60)),p=f(o(28)),h=f(o(61));function f(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var b=[!1,"center","right","justify"],y=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],x=[!1,"serif","monospace"],_=["1","2","3",!1],w=["small",!1,"large","huge"],A=function(t){function e(t,o){m(this,e);var i=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o));return t.emitter.listenDOM("click",document.body,(function e(o){if(!document.body.contains(t.root))return document.body.removeEventListener("click",e);null==i.tooltip||i.tooltip.root.contains(o.target)||document.activeElement===i.tooltip.textbox||i.quill.hasFocus()||i.tooltip.hide(),null!=i.pickers&&i.pickers.forEach((function(t){t.container.contains(o.target)||t.close()}))})),i}return g(e,t),i(e,[{key:"addModule",value:function(t){var o=r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addModule",this).call(this,t);return"toolbar"===t&&this.extendToolbar(o),o}},{key:"buildButtons",value:function(t,e){t.forEach((function(t){(t.getAttribute("class")||"").split(/\s+/).forEach((function(o){if(o.startsWith("ql-")&&(o=o.slice("ql-".length),null!=e[o]))if("direction"===o)t.innerHTML=e[o][""]+e[o].rtl;else if("string"==typeof e[o])t.innerHTML=e[o];else{var i=t.value||"";null!=i&&e[o][i]&&(t.innerHTML=e[o][i])}}))}))}},{key:"buildPickers",value:function(t,e){var o=this;this.pickers=t.map((function(t){if(t.classList.contains("ql-align"))return null==t.querySelector("option")&&O(t,b),new d.default(t,e.align);if(t.classList.contains("ql-background")||t.classList.contains("ql-color")){var o=t.classList.contains("ql-background")?"background":"color";return null==t.querySelector("option")&&O(t,y,"background"===o?"#ffffff":"#000000"),new u.default(t,e[o])}return null==t.querySelector("option")&&(t.classList.contains("ql-font")?O(t,x):t.classList.contains("ql-header")?O(t,_):t.classList.contains("ql-size")&&O(t,w)),new p.default(t)})),this.quill.on(s.default.events.EDITOR_CHANGE,(function(){o.pickers.forEach((function(t){t.update()}))}))}}]),e}(c.default);A.DEFAULTS=(0,n.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var t=this,e=this.container.querySelector("input.ql-image[type=file]");null==e&&((e=document.createElement("input")).setAttribute("type","file"),e.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),e.classList.add("ql-image"),e.addEventListener("change",(function(){if(null!=e.files&&null!=e.files[0]){var o=new FileReader;o.onload=function(o){var i=t.quill.getSelection(!0);t.quill.updateContents((new a.default).retain(i.index).delete(i.length).insert({image:o.target.result}),s.default.sources.USER),t.quill.setSelection(i.index+1,s.default.sources.SILENT),e.value=""},o.readAsDataURL(e.files[0])}})),this.container.appendChild(e)),e.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var E=function(t){function e(t,o){m(this,e);var i=v(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o));return i.textbox=i.root.querySelector('input[type="text"]'),i.listen(),i}return g(e,t),i(e,[{key:"listen",value:function(){var t=this;this.textbox.addEventListener("keydown",(function(e){l.default.match(e,"enter")?(t.save(),e.preventDefault()):l.default.match(e,"escape")&&(t.cancel(),e.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=e?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+t)||""),this.root.setAttribute("data-mode",t)}},{key:"restoreFocus",value:function(){var t=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=t}},{key:"save",value:function(){var t,e,o=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var i=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",o,s.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",o,s.default.sources.USER)),this.quill.root.scrollTop=i;break;case"video":e=(t=o).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||t.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/),o=e?(e[1]||"https")+"://www.youtube.com/embed/"+e[2]+"?showinfo=0":(e=t.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(e[1]||"https")+"://player.vimeo.com/video/"+e[2]+"/":t;case"formula":if(!o)break;var r=this.quill.getSelection(!0);if(null!=r){var n=r.index+r.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),o,s.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(n+1," ",s.default.sources.USER),this.quill.setSelection(n+2,s.default.sources.USER)}}this.textbox.value="",this.hide()}}]),e}(h.default);function O(t,e){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.forEach((function(e){var i=document.createElement("option");e===o?i.setAttribute("selected","selected"):i.setAttribute("value",e),t.appendChild(i)}))}e.BaseTooltip=E,e.default=A},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.head=this.tail=null,this.length=0}return t.prototype.append=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.insertBefore(t[0],null),t.length>1&&this.append.apply(this,t.slice(1))},t.prototype.contains=function(t){for(var e,o=this.iterator();e=o();)if(e===t)return!0;return!1},t.prototype.insertBefore=function(t,e){t&&(t.next=e,null!=e?(t.prev=e.prev,null!=e.prev&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):null!=this.tail?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)},t.prototype.offset=function(t){for(var e=0,o=this.head;null!=o;){if(o===t)return e;e+=o.length(),o=o.next}return-1},t.prototype.remove=function(t){this.contains(t)&&(null!=t.prev&&(t.prev.next=t.next),null!=t.next&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)},t.prototype.iterator=function(t){return void 0===t&&(t=this.head),function(){var e=t;return null!=t&&(t=t.next),e}},t.prototype.find=function(t,e){void 0===e&&(e=!1);for(var o,i=this.iterator();o=i();){var r=o.length();if(t<r||e&&t===r&&(null==o.next||0!==o.next.length()))return[o,t];t-=r}return[null,0]},t.prototype.forEach=function(t){for(var e,o=this.iterator();e=o();)t(e)},t.prototype.forEachAt=function(t,e,o){if(!(e<=0))for(var i,r=this.find(t),n=r[0],a=t-r[1],s=this.iterator(n);(i=s())&&a<t+e;){var l=i.length();t>a?o(i,t-a,Math.min(e,a+l-t)):o(i,0,Math.min(l,t+e-a)),a+=l}},t.prototype.map=function(t){return this.reduce((function(e,o){return e.push(t(o)),e}),[])},t.prototype.reduce=function(t,e){for(var o,i=this.iterator();o=i();)e=t(e,o);return e},t}();e.default=i},function(t,e,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var n=o(17),a=o(1),s={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(t){function e(e){var o=t.call(this,e)||this;return o.scroll=o,o.observer=new MutationObserver((function(t){o.update(t)})),o.observer.observe(o.domNode,s),o.attach(),o}return r(e,t),e.prototype.detach=function(){t.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(e,o){this.update(),0===e&&o===this.length()?this.children.forEach((function(t){t.remove()})):t.prototype.deleteAt.call(this,e,o)},e.prototype.formatAt=function(e,o,i,r){this.update(),t.prototype.formatAt.call(this,e,o,i,r)},e.prototype.insertAt=function(e,o,i){this.update(),t.prototype.insertAt.call(this,e,o,i)},e.prototype.optimize=function(e,o){var i=this;void 0===e&&(e=[]),void 0===o&&(o={}),t.prototype.optimize.call(this,o);for(var r=[].slice.call(this.observer.takeRecords());r.length>0;)e.push(r.pop());for(var s=function(t,e){void 0===e&&(e=!0),null!=t&&t!==i&&null!=t.domNode.parentNode&&(null==t.domNode[a.DATA_KEY].mutations&&(t.domNode[a.DATA_KEY].mutations=[]),e&&s(t.parent))},l=function(t){null!=t.domNode[a.DATA_KEY]&&null!=t.domNode[a.DATA_KEY].mutations&&(t instanceof n.default&&t.children.forEach(l),t.optimize(o))},c=e,u=0;c.length>0;u+=1){if(u>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(c.forEach((function(t){var e=a.find(t.target,!0);null!=e&&(e.domNode===t.target&&("childList"===t.type?(s(a.find(t.previousSibling,!1)),[].forEach.call(t.addedNodes,(function(t){var e=a.find(t,!1);s(e,!1),e instanceof n.default&&e.children.forEach((function(t){s(t,!1)}))}))):"attributes"===t.type&&s(e.prev)),s(e))})),this.children.forEach(l),r=(c=[].slice.call(this.observer.takeRecords())).slice();r.length>0;)e.push(r.pop())}},e.prototype.update=function(e,o){var i=this;void 0===o&&(o={}),(e=e||this.observer.takeRecords()).map((function(t){var e=a.find(t.target,!0);return null==e?null:null==e.domNode[a.DATA_KEY].mutations?(e.domNode[a.DATA_KEY].mutations=[t],e):(e.domNode[a.DATA_KEY].mutations.push(t),null)})).forEach((function(t){null!=t&&t!==i&&null!=t.domNode[a.DATA_KEY]&&t.update(t.domNode[a.DATA_KEY].mutations||[],o)})),null!=this.domNode[a.DATA_KEY].mutations&&t.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,o),this.optimize(e,o)},e.blotName="scroll",e.defaultChild="block",e.scope=a.Scope.BLOCK_BLOT,e.tagName="DIV",e}(n.default);e.default=l},function(t,e,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var n=o(18),a=o(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(o){if(o.tagName!==e.tagName)return t.formats.call(this,o)},e.prototype.format=function(o,i){var r=this;o!==this.statics.blotName||i?t.prototype.format.call(this,o,i):(this.children.forEach((function(t){t instanceof n.default||(t=t.wrap(e.blotName,!0)),r.attributes.copy(t)})),this.unwrap())},e.prototype.formatAt=function(e,o,i,r){null!=this.formats()[i]||a.query(i,a.Scope.ATTRIBUTE)?this.isolate(e,o).format(i,r):t.prototype.formatAt.call(this,e,o,i,r)},e.prototype.optimize=function(o){t.prototype.optimize.call(this,o);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var r=this.next;r instanceof e&&r.prev===this&&function(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var o in t)if(t[o]!==e[o])return!1;return!0}(i,r.formats())&&(r.moveChildren(this),r.remove())},e.blotName="inline",e.scope=a.Scope.INLINE_BLOT,e.tagName="SPAN",e}(n.default);e.default=s},function(t,e,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var n=o(18),a=o(1),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(o){var i=a.query(e.blotName).tagName;if(o.tagName!==i)return t.formats.call(this,o)},e.prototype.format=function(o,i){null!=a.query(o,a.Scope.BLOCK)&&(o!==this.statics.blotName||i?t.prototype.format.call(this,o,i):this.replaceWith(e.blotName))},e.prototype.formatAt=function(e,o,i,r){null!=a.query(i,a.Scope.BLOCK)?this.format(i,r):t.prototype.formatAt.call(this,e,o,i,r)},e.prototype.insertAt=function(e,o,i){if(null==i||null!=a.query(o,a.Scope.INLINE))t.prototype.insertAt.call(this,e,o,i);else{var r=this.split(e),n=a.create(o,i);r.parent.insertBefore(n,r)}},e.prototype.update=function(e,o){navigator.userAgent.match(/Trident/)?this.build():t.prototype.update.call(this,e,o)},e.blotName="block",e.scope=a.Scope.BLOCK_BLOT,e.tagName="P",e}(n.default);e.default=s},function(t,e,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.formats=function(t){},e.prototype.format=function(e,o){t.prototype.formatAt.call(this,0,this.length(),e,o)},e.prototype.formatAt=function(e,o,i,r){0===e&&o===this.length()?this.format(i,r):t.prototype.formatAt.call(this,e,o,i,r)},e.prototype.formats=function(){return this.statics.formats(this.domNode)},e}(o(19).default);e.default=n},function(t,e,o){var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},function(t,e){function o(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(e,"__esModule",{value:!0});var n=o(19),a=o(1),s=function(t){function e(e){var o=t.call(this,e)||this;return o.text=o.statics.value(o.domNode),o}return r(e,t),e.create=function(t){return document.createTextNode(t)},e.value=function(t){var e=t.data;return e.normalize&&(e=e.normalize()),e},e.prototype.deleteAt=function(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)},e.prototype.index=function(t,e){return this.domNode===t?e:-1},e.prototype.insertAt=function(e,o,i){null==i?(this.text=this.text.slice(0,e)+o+this.text.slice(e),this.domNode.data=this.text):t.prototype.insertAt.call(this,e,o,i)},e.prototype.length=function(){return this.text.length},e.prototype.optimize=function(o){t.prototype.optimize.call(this,o),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},e.prototype.position=function(t,e){return[this.domNode,t]},e.prototype.split=function(t,e){if(void 0===e&&(e=!1),!e){if(0===t)return this;if(t===this.length())return this.next}var o=a.create(this.domNode.splitText(t));return this.parent.insertBefore(o,this.next),this.text=this.statics.value(this.domNode),o},e.prototype.update=function(t,e){var o=this;t.some((function(t){return"characterData"===t.type&&t.target===o.domNode}))&&(this.text=this.statics.value(this.domNode))},e.prototype.value=function(){return this.text},e.blotName="text",e.scope=a.Scope.INLINE_BLOT,e}(n.default);e.default=s},function(t,e,o){var i=document.createElement("div");if(i.classList.toggle("test-class",!1),i.classList.contains("test-class")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return arguments.length>1&&!this.contains(t)==!e?e:r.call(this,t)}}String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return e=e||0,this.substr(e,t.length)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(t,e){var o=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>o.length)&&(e=o.length),e-=t.length;var i=o.indexOf(t,e);return-1!==i&&i===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,o=Object(this),i=o.length>>>0,r=arguments[1],n=0;n<i;n++)if(e=o[n],t.call(r,e,n,o))return e}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(t,e){var o=-1;function i(t,e,l){if(t==e)return t?[[0,t]]:[];(l<0||t.length<l)&&(l=null);var u=n(t,e),d=t.substring(0,u);u=a(t=t.substring(u),e=e.substring(u));var p=t.substring(t.length-u),h=function(t,e){var s;if(!t)return[[1,e]];if(!e)return[[o,t]];var l=t.length>e.length?t:e,c=t.length>e.length?e:t,u=l.indexOf(c);if(-1!=u)return s=[[1,l.substring(0,u)],[0,c],[1,l.substring(u+c.length)]],t.length>e.length&&(s[0][0]=s[2][0]=o),s;if(1==c.length)return[[o,t],[1,e]];var d=function(t,e){var o=t.length>e.length?t:e,i=t.length>e.length?e:t;if(o.length<4||2*i.length<o.length)return null;function r(t,e,o){for(var i,r,s,l,c=t.substring(o,o+Math.floor(t.length/4)),u=-1,d="";-1!=(u=e.indexOf(c,u+1));){var p=n(t.substring(o),e.substring(u)),h=a(t.substring(0,o),e.substring(0,u));d.length<h+p&&(d=e.substring(u-h,u)+e.substring(u,u+p),i=t.substring(0,o-h),r=t.substring(o+p),s=e.substring(0,u-h),l=e.substring(u+p))}return 2*d.length>=t.length?[i,r,s,l,d]:null}var s,l,c,u,d,p=r(o,i,Math.ceil(o.length/4)),h=r(o,i,Math.ceil(o.length/2));if(!p&&!h)return null;s=h?p&&p[4].length>h[4].length?p:h:p,t.length>e.length?(l=s[0],c=s[1],u=s[2],d=s[3]):(u=s[0],d=s[1],l=s[2],c=s[3]);var f=s[4];return[l,c,u,d,f]}(t,e);if(d){var p=d[0],h=d[1],f=d[2],m=d[3],v=d[4],g=i(p,f),b=i(h,m);return g.concat([[0,v]],b)}return function(t,e){for(var i=t.length,n=e.length,a=Math.ceil((i+n)/2),s=a,l=2*a,c=new Array(l),u=new Array(l),d=0;d<l;d++)c[d]=-1,u[d]=-1;c[s+1]=0,u[s+1]=0;for(var p=i-n,h=p%2!=0,f=0,m=0,v=0,g=0,b=0;b<a;b++){for(var y=-b+f;y<=b-m;y+=2){for(var x=s+y,_=(I=y==-b||y!=b&&c[x-1]<c[x+1]?c[x+1]:c[x-1]+1)-y;I<i&&_<n&&t.charAt(I)==e.charAt(_);)I++,_++;if(c[x]=I,I>i)m+=2;else if(_>n)f+=2;else if(h&&(E=s+p-y)>=0&&E<l&&-1!=u[E]&&I>=(A=i-u[E]))return r(t,e,I,_)}for(var w=-b+v;w<=b-g;w+=2){for(var A,E=s+w,O=(A=w==-b||w!=b&&u[E-1]<u[E+1]?u[E+1]:u[E-1]+1)-w;A<i&&O<n&&t.charAt(i-A-1)==e.charAt(n-O-1);)A++,O++;if(u[E]=A,A>i)g+=2;else if(O>n)v+=2;else if(!h){var I;if((x=s+p-w)>=0&&x<l&&-1!=c[x])if(_=s+(I=c[x])-x,I>=(A=i-A))return r(t,e,I,_)}}}return[[o,t],[1,e]]}(t,e)}(t=t.substring(0,t.length-u),e=e.substring(0,e.length-u));return d&&h.unshift([0,d]),p&&h.push([0,p]),s(h),null!=l&&(h=function(t,e){var i=function(t,e){if(0===e)return[0,t];for(var i=0,r=0;r<t.length;r++){var n=t[r];if(n[0]===o||0===n[0]){var a=i+n[1].length;if(e===a)return[r+1,t];if(e<a){t=t.slice();var s=e-i,l=[n[0],n[1].slice(0,s)],c=[n[0],n[1].slice(s)];return t.splice(r,1,l,c),[r+1,t]}i=a}}throw new Error("cursor_pos is out of bounds!")}(t,e),r=i[1],n=i[0],a=r[n],s=r[n+1];if(null==a)return t;if(0!==a[0])return t;if(null!=s&&a[1]+s[1]===s[1]+a[1])return r.splice(n,2,s,a),c(r,n,2);if(null!=s&&0===s[1].indexOf(a[1])){r.splice(n,2,[s[0],a[1]],[0,a[1]]);var l=s[1].slice(a[1].length);return l.length>0&&r.splice(n+2,0,[s[0],l]),c(r,n,3)}return t}(h,l)),h=function(t){for(var e=!1,i=function(t){return t.charCodeAt(0)>=56320&&t.charCodeAt(0)<=57343},r=function(t){return t.charCodeAt(t.length-1)>=55296&&t.charCodeAt(t.length-1)<=56319},n=2;n<t.length;n+=1)0===t[n-2][0]&&r(t[n-2][1])&&t[n-1][0]===o&&i(t[n-1][1])&&1===t[n][0]&&i(t[n][1])&&(e=!0,t[n-1][1]=t[n-2][1].slice(-1)+t[n-1][1],t[n][1]=t[n-2][1].slice(-1)+t[n][1],t[n-2][1]=t[n-2][1].slice(0,-1));if(!e)return t;var a=[];for(n=0;n<t.length;n+=1)t[n][1].length>0&&a.push(t[n]);return a}(h),h}function r(t,e,o,r){var n=t.substring(0,o),a=e.substring(0,r),s=t.substring(o),l=e.substring(r),c=i(n,a),u=i(s,l);return c.concat(u)}function n(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var o=0,i=Math.min(t.length,e.length),r=i,n=0;o<r;)t.substring(n,r)==e.substring(n,r)?n=o=r:i=r,r=Math.floor((i-o)/2+o);return r}function a(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var o=0,i=Math.min(t.length,e.length),r=i,n=0;o<r;)t.substring(t.length-r,t.length-n)==e.substring(e.length-r,e.length-n)?n=o=r:i=r,r=Math.floor((i-o)/2+o);return r}function s(t){t.push([0,""]);for(var e,i=0,r=0,l=0,c="",u="";i<t.length;)switch(t[i][0]){case 1:l++,u+=t[i][1],i++;break;case o:r++,c+=t[i][1],i++;break;case 0:r+l>1?(0!==r&&0!==l&&(0!==(e=n(u,c))&&(i-r-l>0&&0==t[i-r-l-1][0]?t[i-r-l-1][1]+=u.substring(0,e):(t.splice(0,0,[0,u.substring(0,e)]),i++),u=u.substring(e),c=c.substring(e)),0!==(e=a(u,c))&&(t[i][1]=u.substring(u.length-e)+t[i][1],u=u.substring(0,u.length-e),c=c.substring(0,c.length-e))),0===r?t.splice(i-l,r+l,[1,u]):0===l?t.splice(i-r,r+l,[o,c]):t.splice(i-r-l,r+l,[o,c],[1,u]),i=i-r-l+(r?1:0)+(l?1:0)+1):0!==i&&0==t[i-1][0]?(t[i-1][1]+=t[i][1],t.splice(i,1)):i++,l=0,r=0,c="",u=""}""===t[t.length-1][1]&&t.pop();var d=!1;for(i=1;i<t.length-1;)0==t[i-1][0]&&0==t[i+1][0]&&(t[i][1].substring(t[i][1].length-t[i-1][1].length)==t[i-1][1]?(t[i][1]=t[i-1][1]+t[i][1].substring(0,t[i][1].length-t[i-1][1].length),t[i+1][1]=t[i-1][1]+t[i+1][1],t.splice(i-1,1),d=!0):t[i][1].substring(0,t[i+1][1].length)==t[i+1][1]&&(t[i-1][1]+=t[i+1][1],t[i][1]=t[i][1].substring(t[i+1][1].length)+t[i+1][1],t.splice(i+1,1),d=!0)),i++;d&&s(t)}var l=i;function c(t,e,o){for(var i=e+o-1;i>=0&&i>=e-1;i--)if(i+1<t.length){var r=t[i],n=t[i+1];r[0]===n[1]&&t.splice(i,2,[r[0],r[1]+n[1]])}return t}l.INSERT=1,l.DELETE=o,l.EQUAL=0,t.exports=l},function(t,e){function o(t){var e=[];for(var o in t)e.push(o);return e}(t.exports="function"==typeof Object.keys?Object.keys:o).shim=o},function(t,e){var o="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function i(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function r(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Object.prototype.hasOwnProperty.call(t,"callee")&&!Object.prototype.propertyIsEnumerable.call(t,"callee")||!1}(e=t.exports=o?i:r).supported=i,e.unsupported=r},function(t,e){var o=Object.prototype.hasOwnProperty,i="~";function r(){}function n(t,e,o){this.fn=t,this.context=e,this.once=o||!1}function a(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),a.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)o.call(t,e)&&r.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},a.prototype.listeners=function(t,e){var o=i?i+t:t,r=this._events[o];if(e)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var n=0,a=r.length,s=new Array(a);n<a;n++)s[n]=r[n].fn;return s},a.prototype.emit=function(t,e,o,r,n,a){var s=i?i+t:t;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(t,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,e),!0;case 3:return u.fn.call(u.context,e,o),!0;case 4:return u.fn.call(u.context,e,o,r),!0;case 5:return u.fn.call(u.context,e,o,r,n),!0;case 6:return u.fn.call(u.context,e,o,r,n,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var p,h=u.length;for(c=0;c<h;c++)switch(u[c].once&&this.removeListener(t,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,e);break;case 3:u[c].fn.call(u[c].context,e,o);break;case 4:u[c].fn.call(u[c].context,e,o,r);break;default:if(!l)for(p=1,l=new Array(d-1);p<d;p++)l[p-1]=arguments[p];u[c].fn.apply(u[c].context,l)}}return!0},a.prototype.on=function(t,e,o){var r=new n(e,o||this),a=i?i+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},a.prototype.once=function(t,e,o){var r=new n(e,o||this,!0),a=i?i+t:t;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],r]:this._events[a].push(r):(this._events[a]=r,this._eventsCount++),this},a.prototype.removeListener=function(t,e,o,n){var a=i?i+t:t;if(!this._events[a])return this;if(!e)return 0==--this._eventsCount?this._events=new r:delete this._events[a],this;var s=this._events[a];if(s.fn)s.fn!==e||n&&!s.once||o&&s.context!==o||(0==--this._eventsCount?this._events=new r:delete this._events[a]);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==e||n&&!s[l].once||o&&s[l].context!==o)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:0==--this._eventsCount?this._events=new r:delete this._events[a]}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&(0==--this._eventsCount?this._events=new r:delete this._events[e])):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=i,a.EventEmitter=a,void 0!==t&&(t.exports=a)},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.matchText=e.matchSpacing=e.matchNewline=e.matchBlot=e.matchAttributor=e.default=void 0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var o=[],i=!0,r=!1,n=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!e||o.length!==e);i=!0);}catch(t){r=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return o}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),a=y(o(3)),s=y(o(2)),l=y(o(0)),c=y(o(5)),u=y(o(10)),d=y(o(9)),p=o(36),h=o(37),f=y(o(13)),m=o(26),v=o(38),g=o(39),b=o(40);function y(t){return t&&t.__esModule?t:{default:t}}function x(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var _=(0,u.default)("quill:clipboard"),w="__ql-matcher",A=[[Node.TEXT_NODE,M],[Node.TEXT_NODE,R],["br",function(t,e){return k(e,"\n")||e.insert("\n"),e}],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,D],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,function(t,e){var o={},i=t.style||{};return i.fontStyle&&"italic"===C(t).fontStyle&&(o.italic=!0),i.fontWeight&&(C(t).fontWeight.startsWith("bold")||parseInt(C(t).fontWeight)>=700)&&(o.bold=!0),Object.keys(o).length>0&&(e=S(e,o)),parseFloat(i.textIndent||0)>0&&(e=(new s.default).insert("\t").concat(e)),e}],["li",function(t,e){var o=l.default.query(t);if(null==o||"list-item"!==o.blotName||!k(e,"\n"))return e;for(var i=-1,r=t.parentNode;!r.classList.contains("ql-clipboard");)"list"===(l.default.query(r)||{}).blotName&&(i+=1),r=r.parentNode;return i<=0?e:e.compose((new s.default).retain(e.length()-1).retain(1,{indent:i}))}],["b",q.bind(q,"bold")],["i",q.bind(q,"italic")],["style",function(){return new s.default}]],E=[p.AlignAttribute,v.DirectionAttribute].reduce((function(t,e){return t[e.keyName]=e,t}),{}),O=[p.AlignStyle,h.BackgroundStyle,m.ColorStyle,v.DirectionStyle,g.FontStyle,b.SizeStyle].reduce((function(t,e){return t[e.keyName]=e,t}),{}),I=function(t){function e(t,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o));return i.quill.root.addEventListener("paste",i.onPaste.bind(i)),i.container=i.quill.addContainer("ql-clipboard"),i.container.setAttribute("contenteditable",!0),i.container.setAttribute("tabindex",-1),i.matchers=[],A.concat(i.options.matchers).forEach((function(t){var e=r(t,2),n=e[0],a=e[1];(o.matchVisual||a!==L)&&i.addMatcher(n,a)})),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),n(e,[{key:"addMatcher",value:function(t,e){this.matchers.push([t,e])}},{key:"convert",value:function(t){if("string"==typeof t)return this.container.innerHTML=t.replace(/\>\r?\n +\</g,"><"),this.convert();var e=this.quill.getFormat(this.quill.selection.savedRange.index);if(e[f.default.blotName]){var o=this.container.innerText;return this.container.innerHTML="",(new s.default).insert(o,x({},f.default.blotName,e[f.default.blotName]))}var i=this.prepareMatching(),n=r(i,2),a=n[0],l=n[1],c=T(this.container,a,l);return k(c,"\n")&&null==c.ops[c.ops.length-1].attributes&&(c=c.compose((new s.default).retain(c.length()-1).delete(1))),_.log("convert",this.container.innerHTML,c),this.container.innerHTML="",c}},{key:"dangerouslyPasteHTML",value:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.default.sources.API;if("string"==typeof t)this.quill.setContents(this.convert(t),e),this.quill.setSelection(0,c.default.sources.SILENT);else{var i=this.convert(e);this.quill.updateContents((new s.default).retain(t).concat(i),o),this.quill.setSelection(t+i.length(),c.default.sources.SILENT)}}},{key:"onPaste",value:function(t){var e=this;if(!t.defaultPrevented&&this.quill.isEnabled()){var o=this.quill.getSelection(),i=(new s.default).retain(o.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(c.default.sources.SILENT),setTimeout((function(){i=i.concat(e.convert()).delete(o.length),e.quill.updateContents(i,c.default.sources.USER),e.quill.setSelection(i.length()-o.length,c.default.sources.SILENT),e.quill.scrollingContainer.scrollTop=r,e.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var t=this,e=[],o=[];return this.matchers.forEach((function(i){var n=r(i,2),a=n[0],s=n[1];switch(a){case Node.TEXT_NODE:o.push(s);break;case Node.ELEMENT_NODE:e.push(s);break;default:[].forEach.call(t.container.querySelectorAll(a),(function(t){t[w]=t[w]||[],t[w].push(s)}))}})),[e,o]}}]),e}(d.default);function S(t,e,o){return"object"===(void 0===e?"undefined":i(e))?Object.keys(e).reduce((function(t,o){return S(t,o,e[o])}),t):t.reduce((function(t,i){return i.attributes&&i.attributes[e]?t.push(i):t.insert(i.insert,(0,a.default)({},x({},e,o),i.attributes))}),new s.default)}function C(t){if(t.nodeType!==Node.ELEMENT_NODE)return{};var e="__ql-computed-style";return t[e]||(t[e]=window.getComputedStyle(t))}function k(t,e){for(var o="",i=t.ops.length-1;i>=0&&o.length<e.length;--i){var r=t.ops[i];if("string"!=typeof r.insert)break;o=r.insert+o}return o.slice(-1*e.length)===e}function N(t){if(0===t.childNodes.length)return!1;var e=C(t);return["block","list-item"].indexOf(e.display)>-1}function T(t,e,o){return t.nodeType===t.TEXT_NODE?o.reduce((function(e,o){return o(t,e)}),new s.default):t.nodeType===t.ELEMENT_NODE?[].reduce.call(t.childNodes||[],(function(i,r){var n=T(r,e,o);return r.nodeType===t.ELEMENT_NODE&&(n=e.reduce((function(t,e){return e(r,t)}),n),n=(r[w]||[]).reduce((function(t,e){return e(r,t)}),n)),i.concat(n)}),new s.default):new s.default}function q(t,e,o){return S(o,t,!0)}function P(t,e){var o=l.default.Attributor.Attribute.keys(t),i=l.default.Attributor.Class.keys(t),r=l.default.Attributor.Style.keys(t),n={};return o.concat(i).concat(r).forEach((function(e){var o=l.default.query(e,l.default.Scope.ATTRIBUTE);null!=o&&(n[o.attrName]=o.value(t),n[o.attrName])||(null==(o=E[e])||o.attrName!==e&&o.keyName!==e||(n[o.attrName]=o.value(t)||void 0),null==(o=O[e])||o.attrName!==e&&o.keyName!==e||(o=O[e],n[o.attrName]=o.value(t)||void 0))})),Object.keys(n).length>0&&(e=S(e,n)),e}function D(t,e){var o=l.default.query(t);if(null==o)return e;if(o.prototype instanceof l.default.Embed){var i={},r=o.value(t);null!=r&&(i[o.blotName]=r,e=(new s.default).insert(i,o.formats(t)))}else"function"==typeof o.formats&&(e=S(e,o.blotName,o.formats(t)));return e}function R(t,e){return k(e,"\n")||(N(t)||e.length()>0&&t.nextSibling&&N(t.nextSibling))&&e.insert("\n"),e}function L(t,e){if(N(t)&&null!=t.nextElementSibling&&!k(e,"\n\n")){var o=t.offsetHeight+parseFloat(C(t).marginTop)+parseFloat(C(t).marginBottom);t.nextElementSibling.offsetTop>t.offsetTop+1.5*o&&e.insert("\n")}return e}function M(t,e){var o=t.data;if("O:P"===t.parentNode.tagName)return e.insert(o.trim());if(0===o.trim().length&&t.parentNode.classList.contains("ql-clipboard"))return e;if(!C(t.parentNode).whiteSpace.startsWith("pre")){var i=function(t,e){return(e=e.replace(/[^\u00a0]/g,"")).length<1&&t?" ":e};o=(o=o.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,i.bind(i,!0)),(null==t.previousSibling&&N(t.parentNode)||null!=t.previousSibling&&N(t.previousSibling))&&(o=o.replace(/^\s+/,i.bind(i,!1))),(null==t.nextSibling&&N(t.parentNode)||null!=t.nextSibling&&N(t.nextSibling))&&(o=o.replace(/\s+$/,i.bind(i,!1)))}return e.insert(o)}I.DEFAULTS={matchers:[],matchVisual:!0},e.default=I,e.matchAttributor=P,e.matchBlot=D,e.matchNewline=R,e.matchSpacing=L,e.matchText=M},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(6);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"optimize",value:function(t){n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return n(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),e}(((i=a)&&i.__esModule?i:{default:i}).default);c.blotName="bold",c.tagName=["STRONG","B"],e.default=c},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.addControls=e.default=void 0;var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var o=[],i=!0,r=!1,n=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!e||o.length!==e);i=!0);}catch(t){r=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return o}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=u(o(2)),a=u(o(0)),s=u(o(5)),l=u(o(10)),c=u(o(9));function u(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var p=(0,l.default)("quill:toolbar"),h=function(t){function e(t,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r,n=d(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o));if(Array.isArray(n.options.container)){var a=document.createElement("div");m(a,n.options.container),t.container.parentNode.insertBefore(a,t.container),n.container=a}else"string"==typeof n.options.container?n.container=document.querySelector(n.options.container):n.container=n.options.container;return n.container instanceof HTMLElement?(n.container.classList.add("ql-toolbar"),n.controls=[],n.handlers={},Object.keys(n.options.handlers).forEach((function(t){n.addHandler(t,n.options.handlers[t])})),[].forEach.call(n.container.querySelectorAll("button, select"),(function(t){n.attach(t)})),n.quill.on(s.default.events.EDITOR_CHANGE,(function(t,e){t===s.default.events.SELECTION_CHANGE&&n.update(e)})),n.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){var t=n.quill.selection.getRange(),e=i(t,1)[0];n.update(e)})),n):(r=p.error("Container required for toolbar",n.options),d(n,r))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"addHandler",value:function(t,e){this.handlers[t]=e}},{key:"attach",value:function(t){var e=this,o=[].find.call(t.classList,(function(t){return 0===t.indexOf("ql-")}));if(o){if(o=o.slice("ql-".length),"BUTTON"===t.tagName&&t.setAttribute("type","button"),null==this.handlers[o]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[o])return void p.warn("ignoring attaching to disabled format",o,t);if(null==a.default.query(o))return void p.warn("ignoring attaching to nonexistent format",o,t)}var r="SELECT"===t.tagName?"change":"click";t.addEventListener(r,(function(r){var l=void 0;if("SELECT"===t.tagName){if(t.selectedIndex<0)return;var c=t.options[t.selectedIndex];l=!c.hasAttribute("selected")&&(c.value||!1)}else l=!t.classList.contains("ql-active")&&(t.value||!t.hasAttribute("value")),r.preventDefault();e.quill.focus();var u=e.quill.selection.getRange(),d=i(u,1)[0];if(null!=e.handlers[o])e.handlers[o].call(e,l);else if(a.default.query(o).prototype instanceof a.default.Embed){if(!(l=prompt("Enter "+o)))return;e.quill.updateContents((new n.default).retain(d.index).delete(d.length).insert(function(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}({},o,l)),s.default.sources.USER)}else e.quill.format(o,l,s.default.sources.USER);e.update(d)})),this.controls.push([o,t])}}},{key:"update",value:function(t){var e=null==t?{}:this.quill.getFormat(t);this.controls.forEach((function(o){var r=i(o,2),n=r[0],a=r[1];if("SELECT"===a.tagName){var s=void 0;if(null==t)s=null;else if(null==e[n])s=a.querySelector("option[selected]");else if(!Array.isArray(e[n])){var l=e[n];"string"==typeof l&&(l=l.replace(/\"/g,'\\"')),s=a.querySelector('option[value="'+l+'"]')}null==s?(a.value="",a.selectedIndex=-1):s.selected=!0}else if(null==t)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var c=e[n]===a.getAttribute("value")||null!=e[n]&&e[n].toString()===a.getAttribute("value")||null==e[n]&&!a.getAttribute("value");a.classList.toggle("ql-active",c)}else a.classList.toggle("ql-active",null!=e[n])}))}}]),e}(c.default);function f(t,e,o){var i=document.createElement("button");i.setAttribute("type","button"),i.classList.add("ql-"+e),null!=o&&(i.value=o),t.appendChild(i)}function m(t,e){Array.isArray(e[0])||(e=[e]),e.forEach((function(e){var o=document.createElement("span");o.classList.add("ql-formats"),e.forEach((function(t){if("string"==typeof t)f(o,t);else{var e=Object.keys(t)[0],i=t[e];Array.isArray(i)?function(t,e,o){var i=document.createElement("select");i.classList.add("ql-"+e),o.forEach((function(t){var e=document.createElement("option");!1!==t?e.setAttribute("value",t):e.setAttribute("selected","selected"),i.appendChild(e)})),t.appendChild(i)}(o,e,i):f(o,e,i)}})),t.appendChild(o)}))}h.DEFAULTS={},h.DEFAULTS={container:null,handlers:{clean:function(){var t=this,e=this.quill.getSelection();if(null!=e)if(0==e.length){var o=this.quill.getFormat();Object.keys(o).forEach((function(e){null!=a.default.query(e,a.default.Scope.INLINE)&&t.quill.format(e,!1)}))}else this.quill.removeFormat(e,s.default.sources.USER)},direction:function(t){var e=this.quill.getFormat().align;"rtl"===t&&null==e?this.quill.format("align","right",s.default.sources.USER):t||"right"!==e||this.quill.format("align",!1,s.default.sources.USER),this.quill.format("direction",t,s.default.sources.USER)},indent:function(t){var e=this.quill.getSelection(),o=this.quill.getFormat(e),i=parseInt(o.indent||0);if("+1"===t||"-1"===t){var r="+1"===t?1:-1;"rtl"===o.direction&&(r*=-1),this.quill.format("indent",i+r,s.default.sources.USER)}},link:function(t){!0===t&&(t=prompt("Enter link URL:")),this.quill.format("link",t,s.default.sources.USER)},list:function(t){var e=this.quill.getSelection(),o=this.quill.getFormat(e);"check"===t?"checked"===o.list||"unchecked"===o.list?this.quill.format("list",!1,s.default.sources.USER):this.quill.format("list","unchecked",s.default.sources.USER):this.quill.format("list",t,s.default.sources.USER)}}},e.default=h,e.addControls=m},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(28),s=function(t){function e(t,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.label.innerHTML=o,i.container.classList.add("ql-color-picker"),[].slice.call(i.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(t){t.classList.add("ql-primary")})),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"buildItem",value:function(t){var o=n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,t);return o.style.backgroundColor=t.getAttribute("value")||"",o}},{key:"selectItem",value:function(t,o){n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,o);var i=this.label.querySelector(".ql-color-label"),r=t&&t.getAttribute("data-value")||"";i&&("line"===i.tagName?i.style.stroke=r:i.style.fill=r)}}]),e}(((i=a)&&i.__esModule?i:{default:i}).default);e.default=s},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(28),s=function(t){function e(t,o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return i.container.classList.add("ql-icon-picker"),[].forEach.call(i.container.querySelectorAll(".ql-picker-item"),(function(t){t.innerHTML=o[t.getAttribute("data-value")||""]})),i.defaultItem=i.container.querySelector(".ql-selected"),i.selectItem(i.defaultItem),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"selectItem",value:function(t,o){n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,t,o),t=t||this.defaultItem,this.label.innerHTML=t.innerHTML}}]),e}(((i=a)&&i.__esModule?i:{default:i}).default);e.default=s},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),r=function(){function t(e,o){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.quill=e,this.boundsContainer=o||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){i.root.style.marginTop=-1*i.quill.root.scrollTop+"px"})),this.hide()}return i(t,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(t){var e=t.left+t.width/2-this.root.offsetWidth/2,o=t.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=o+"px",this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect(),n=0;if(r.right>i.right&&(n=i.right-r.right,this.root.style.left=e+n+"px"),r.left<i.left&&(n=i.left-r.left,this.root.style.left=e+n+"px"),r.bottom>i.bottom){var a=r.bottom-r.top,s=t.bottom-t.top+a;this.root.style.top=o-s+"px",this.root.classList.add("ql-flip")}return n}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),t}();e.default=r},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var o=[],i=!0,r=!1,n=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done)&&(o.push(a.value),!e||o.length!==e);i=!0);}catch(t){r=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(r)throw n}}return o}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},n=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),a=h(o(3)),s=h(o(8)),l=o(43),c=h(l),u=h(o(27)),d=o(15),p=h(o(41));function h(t){return t&&t.__esModule?t:{default:t}}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function v(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var g=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],b=function(t){function e(t,o){f(this,e),null!=o.modules.toolbar&&null==o.modules.toolbar.container&&(o.modules.toolbar.container=g);var i=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o));return i.quill.container.classList.add("ql-snow"),i}return v(e,t),n(e,[{key:"extendToolbar",value:function(t){t.container.classList.add("ql-snow"),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),p.default),this.tooltip=new y(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(e,o){t.handlers.link.call(t,!o.format.link)}))}}]),e}(c.default);b.DEFAULTS=(0,a.default)(!0,{},c.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){if(t){var e=this.quill.getSelection();if(null==e||0==e.length)return;var o=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(o)&&0!==o.indexOf("mailto:")&&(o="mailto:"+o),this.quill.theme.tooltip.edit("link",o)}else this.quill.format("link",!1)}}}}});var y=function(t){function e(t,o){f(this,e);var i=m(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o));return i.preview=i.root.querySelector("a.ql-preview"),i}return v(e,t),n(e,[{key:"listen",value:function(){var t=this;r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(e){t.root.classList.contains("ql-editing")?t.save():t.edit("link",t.preview.textContent),e.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(e){if(null!=t.linkRange){var o=t.linkRange;t.restoreFocus(),t.quill.formatText(o,"link",!1,s.default.sources.USER),delete t.linkRange}e.preventDefault(),t.hide()})),this.quill.on(s.default.events.SELECTION_CHANGE,(function(e,o,r){if(null!=e){if(0===e.length&&r===s.default.sources.USER){var n=t.quill.scroll.descendant(u.default,e.index),a=i(n,2),l=a[0],c=a[1];if(null!=l){t.linkRange=new d.Range(e.index-c,l.length());var p=u.default.formats(l.domNode);return t.preview.textContent=p,t.preview.setAttribute("href",p),t.show(),void t.position(t.quill.getBounds(t.linkRange))}}else delete t.linkRange;t.hide()}}))}},{key:"show",value:function(){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),e}(l.BaseTooltip);y.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),e.default=b},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i=R(o(29)),r=o(36),n=o(38),a=o(64),s=R(o(65)),l=R(o(66)),c=o(67),u=R(c),d=o(37),p=o(26),h=o(39),f=o(40),m=R(o(56)),v=R(o(68)),g=R(o(27)),b=R(o(69)),y=R(o(70)),x=R(o(71)),_=R(o(72)),w=R(o(73)),A=o(13),E=R(A),O=R(o(74)),I=R(o(75)),S=R(o(57)),C=R(o(41)),k=R(o(28)),N=R(o(59)),T=R(o(60)),q=R(o(61)),P=R(o(108)),D=R(o(62));function R(t){return t&&t.__esModule?t:{default:t}}i.default.register({"attributors/attribute/direction":n.DirectionAttribute,"attributors/class/align":r.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":n.DirectionClass,"attributors/class/font":h.FontClass,"attributors/class/size":f.SizeClass,"attributors/style/align":r.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":n.DirectionStyle,"attributors/style/font":h.FontStyle,"attributors/style/size":f.SizeStyle},!0),i.default.register({"formats/align":r.AlignClass,"formats/direction":n.DirectionClass,"formats/indent":a.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":h.FontClass,"formats/size":f.SizeClass,"formats/blockquote":s.default,"formats/code-block":E.default,"formats/header":l.default,"formats/list":u.default,"formats/bold":m.default,"formats/code":A.Code,"formats/italic":v.default,"formats/link":g.default,"formats/script":b.default,"formats/strike":y.default,"formats/underline":x.default,"formats/image":_.default,"formats/video":w.default,"formats/list/item":c.ListItem,"modules/formula":O.default,"modules/syntax":I.default,"modules/toolbar":S.default,"themes/bubble":P.default,"themes/snow":D.default,"ui/icons":C.default,"ui/picker":k.default,"ui/icon-picker":T.default,"ui/color-picker":N.default,"ui/tooltip":q.default},!0),e.default=i.default},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.IndentClass=void 0;var i,r=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(0),s=(i=a)&&i.__esModule?i:{default:i};function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=function(t){function e(){return l(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"add",value:function(t,o){if("+1"===o||"-1"===o){var i=this.value(t)||0;o="+1"===o?i+1:i-1}return 0===o?(this.remove(t),!0):n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"add",this).call(this,t,o)}},{key:"canAdd",value:function(t,o){return n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,o)||n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"canAdd",this).call(this,t,parseInt(o))}},{key:"value",value:function(t){return parseInt(n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"value",this).call(this,t))||void 0}}]),e}(s.default.Attributor.Class),d=new u("indent","ql-indent",{scope:s.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});e.IndentClass=d},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i,r=o(4);function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=function(t){function e(){return n(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((i=r)&&i.__esModule?i:{default:i}).default);s.blotName="blockquote",s.tagName="blockquote",e.default=s},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=o(4);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),e}(((i=n)&&i.__esModule?i:{default:i}).default);l.blotName="header",l.tagName=["H1","H2","H3","H4","H5","H6"],e.default=l},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.ListItem=void 0;var i=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),r=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},n=l(o(0)),a=l(o(4)),s=l(o(25));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,t),i(e,[{key:"format",value:function(t,o){t!==h.blotName||o?r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,o):this.replaceWith(n.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(t,o){return this.parent.isolate(this.offset(this.parent),this.length()),t===this.parent.statics.blotName?(this.parent.replaceWith(t,o),this):(this.parent.unwrap(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t,o))}}],[{key:"formats",value:function(t){return t.tagName===this.tagName?void 0:r(e.__proto__||Object.getPrototypeOf(e),"formats",this).call(this,t)}}]),e}(a.default);p.blotName="list-item",p.tagName="LI";var h=function(t){function e(t){c(this,e);var o=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t)),i=function(e){if(e.target.parentNode===t){var i=o.statics.formats(t),r=n.default.find(e.target);"checked"===i?r.format("list","unchecked"):"unchecked"===i&&r.format("list","checked")}};return t.addEventListener("touchstart",i),t.addEventListener("mousedown",i),o}return d(e,t),i(e,null,[{key:"create",value:function(t){var o="ordered"===t?"OL":"UL",i=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,o);return"checked"!==t&&"unchecked"!==t||i.setAttribute("data-checked","checked"===t),i}},{key:"formats",value:function(t){return"OL"===t.tagName?"ordered":"UL"===t.tagName?t.hasAttribute("data-checked")?"true"===t.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),i(e,[{key:"format",value:function(t,e){this.children.length>0&&this.children.tail.format(t,e)}},{key:"formats",value:function(){return t={},e=this.statics.blotName,o=this.statics.formats(this.domNode),e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t;var t,e,o}},{key:"insertBefore",value:function(t,o){if(t instanceof p)r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertBefore",this).call(this,t,o);else{var i=null==o?this.length():o.offset(this),n=this.split(i);n.parent.insertBefore(t,n)}}},{key:"optimize",value:function(t){r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,t);var o=this.next;null!=o&&o.prev===this&&o.statics.blotName===this.statics.blotName&&o.domNode.tagName===this.domNode.tagName&&o.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(o.moveChildren(this),o.remove())}},{key:"replace",value:function(t){if(t.statics.blotName!==this.statics.blotName){var o=n.default.create(this.statics.defaultChild);t.moveChildren(o),this.appendChild(o)}r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replace",this).call(this,t)}}]),e}(s.default);h.blotName="list",h.scope=n.default.Scope.BLOCK_BLOT,h.tagName=["OL","UL"],h.defaultChild="list-item",h.allowedChildren=[p],e.ListItem=p,e.default=h},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i,r=o(56);function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=function(t){function e(){return n(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((i=r)&&i.__esModule?i:{default:i}).default);s.blotName="italic",s.tagName=["EM","I"],e.default=s},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(6);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=function(t){function e(){return s(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,null,[{key:"create",value:function(t){return"super"===t?document.createElement("sup"):"sub"===t?document.createElement("sub"):n(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t)}},{key:"formats",value:function(t){return"SUB"===t.tagName?"sub":"SUP"===t.tagName?"super":void 0}}]),e}(((i=a)&&i.__esModule?i:{default:i}).default);c.blotName="script",c.tagName=["SUB","SUP"],e.default=c},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i,r=o(6);function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=function(t){function e(){return n(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((i=r)&&i.__esModule?i:{default:i}).default);s.blotName="strike",s.tagName="S",e.default=s},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i,r=o(6);function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=function(t){function e(){return n(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(((i=r)&&i.__esModule?i:{default:i}).default);s.blotName="underline",s.tagName="U",e.default=s},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(0),s=(i=a)&&i.__esModule?i:{default:i},l=o(27);function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var d=["alt","height","width"],p=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"format",value:function(t,o){d.indexOf(t)>-1?o?this.domNode.setAttribute(t,o):this.domNode.removeAttribute(t):n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,o)}}],[{key:"create",value:function(t){var o=n(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&o.setAttribute("src",this.sanitize(t)),o}},{key:"formats",value:function(t){return d.reduce((function(e,o){return t.hasAttribute(o)&&(e[o]=t.getAttribute(o)),e}),{})}},{key:"match",value:function(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}},{key:"sanitize",value:function(t){return(0,l.sanitize)(t,["http","https","data"])?t:"//:0"}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(s.default.Embed);p.blotName="image",p.tagName="IMG",e.default=p},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0});var i,r=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},a=o(4),s=o(27),l=(i=s)&&i.__esModule?i:{default:i};function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var d=["height","width"],p=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"format",value:function(t,o){d.indexOf(t)>-1?o?this.domNode.setAttribute(t,o):this.domNode.removeAttribute(t):n(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,t,o)}}],[{key:"create",value:function(t){var o=n(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return o.setAttribute("frameborder","0"),o.setAttribute("allowfullscreen",!0),o.setAttribute("src",this.sanitize(t)),o}},{key:"formats",value:function(t){return d.reduce((function(e,o){return t.hasAttribute(o)&&(e[o]=t.getAttribute(o)),e}),{})}},{key:"sanitize",value:function(t){return l.default.sanitize(t)}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(a.BlockEmbed);p.blotName="video",p.className="ql-video",p.tagName="IFRAME",e.default=p},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.FormulaBlot=void 0;var i=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),r=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},n=l(o(35)),a=l(o(5)),s=l(o(9));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,t),i(e,null,[{key:"create",value:function(t){var o=r(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,t);return"string"==typeof t&&(window.katex.render(t,o,{throwOnError:!1,errorColor:"#f00"}),o.setAttribute("data-value",t)),o}},{key:"value",value:function(t){return t.getAttribute("data-value")}}]),e}(n.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var h=function(t){function e(){c(this,e);var t=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return t}return d(e,t),i(e,null,[{key:"register",value:function(){a.default.register(p,!0)}}]),e}(s.default);e.FormulaBlot=p,e.default=h},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CodeToken=e.CodeBlock=void 0;var i=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),r=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},n=l(o(0)),a=l(o(5)),s=l(o(9));function l(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var p=function(t){function e(){return c(this,e),u(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return d(e,t),i(e,[{key:"replaceWith",value:function(t){this.domNode.textContent=this.domNode.textContent,this.attach(),r(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"replaceWith",this).call(this,t)}},{key:"highlight",value:function(t){var e=this.domNode.textContent;this.cachedText!==e&&((e.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=t(e),this.domNode.normalize(),this.attach()),this.cachedText=e)}}]),e}(l(o(13)).default);p.className="ql-syntax";var h=new n.default.Attributor.Class("token","hljs",{scope:n.default.Scope.INLINE}),f=function(t){function e(t,o){c(this,e);var i=u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o));if("function"!=typeof i.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var r=null;return i.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(r),r=setTimeout((function(){i.highlight(),r=null}),i.options.interval)})),i.highlight(),i}return d(e,t),i(e,null,[{key:"register",value:function(){a.default.register(h,!0),a.default.register(p,!0)}}]),i(e,[{key:"highlight",value:function(){var t=this;if(!this.quill.selection.composing){this.quill.update(a.default.sources.USER);var e=this.quill.getSelection();this.quill.scroll.descendants(p).forEach((function(e){e.highlight(t.options.highlight)})),this.quill.update(a.default.sources.SILENT),null!=e&&this.quill.setSelection(e,a.default.sources.SILENT)}}}]),e}(s.default);f.DEFAULTS={highlight:null==window.hljs?null:function(t){return window.hljs.highlightAuto(t).value},interval:1e3},e.CodeBlock=p,e.CodeToken=h,e.default=f},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(t,e){t.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(t,e){t.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(t,e){t.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(t,e,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.BubbleTooltip=void 0;var i=function t(e,o,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,o);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:t(n,o,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},r=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),n=d(o(3)),a=d(o(8)),s=o(43),l=d(s),c=o(15),u=d(o(41));function d(t){return t&&t.__esModule?t:{default:t}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var m=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],v=function(t){function e(t,o){p(this,e),null!=o.modules.toolbar&&null==o.modules.toolbar.container&&(o.modules.toolbar.container=m);var i=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o));return i.quill.container.classList.add("ql-bubble"),i}return f(e,t),r(e,[{key:"extendToolbar",value:function(t){this.tooltip=new g(this.quill,this.options.bounds),this.tooltip.root.appendChild(t.container),this.buildButtons([].slice.call(t.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(t.container.querySelectorAll("select")),u.default)}}]),e}(l.default);v.DEFAULTS=(0,n.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(t){t?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var g=function(t){function e(t,o){p(this,e);var i=h(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,o));return i.quill.on(a.default.events.EDITOR_CHANGE,(function(t,e,o,r){if(t===a.default.events.SELECTION_CHANGE)if(null!=e&&e.length>0&&r===a.default.sources.USER){i.show(),i.root.style.left="0px",i.root.style.width="",i.root.style.width=i.root.offsetWidth+"px";var n=i.quill.getLines(e.index,e.length);if(1===n.length)i.position(i.quill.getBounds(e));else{var s=n[n.length-1],l=i.quill.getIndex(s),u=Math.min(s.length()-1,e.index+e.length-l),d=i.quill.getBounds(new c.Range(l,u));i.position(d)}}else document.activeElement!==i.textbox&&i.quill.hasFocus()&&i.hide()})),i}return f(e,t),r(e,[{key:"listen",value:function(){var t=this;i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){t.root.classList.remove("ql-editing")})),this.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!t.root.classList.contains("ql-hidden")){var e=t.quill.getSelection();null!=e&&t.position(t.quill.getBounds(e))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(t){var o=i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"position",this).call(this,t),r=this.root.querySelector(".ql-tooltip-arrow");if(r.style.marginLeft="",0===o)return o;r.style.marginLeft=-1*o-r.offsetWidth/2+"px"}}]),e}(s.BaseTooltip);g.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),e.BubbleTooltip=g,e.default=v},function(t,e,o){t.exports=o(63)}]).default},"object"==typeof exports&&"object"==typeof module?module.exports=ei():"function"==typeof define&&define.amd?define([],ei):"object"==typeof exports?exports.Quill=ei():ti.Quill=ei();var oi,ii,ri=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ni=Symbol(),ai=new Map,si=class{constructor(t,e){if(this._$cssResult$=!0,e!==ni)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){let t=ai.get(this.cssText);return ri&&void 0===t&&(ai.set(this.cssText,t=new CSSStyleSheet),t.replaceSync(this.cssText)),t}toString(){return this.cssText}},li=t=>new si("string"==typeof t?t:t+"",ni),ci=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,o,i)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(o)+t[i+1]),t[0]);return new si(o,ni)},ui=ri?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const o of t.cssRules)e+=o.cssText;return li(e)})(t):t,di=window.trustedTypes,pi=di?di.emptyScript:"",hi=window.reactiveElementPolyfillSupport,fi={toAttribute(t,e){switch(e){case Boolean:t=t?pi:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let o=t;switch(e){case Boolean:o=null!==t;break;case Number:o=null===t?null:Number(t);break;case Object:case Array:try{o=JSON.parse(t)}catch(t){o=null}}return o}},mi=(t,e)=>e!==t&&(e==e||t==t),vi={attribute:!0,type:String,converter:fi,reflect:!1,hasChanged:mi},gi=class extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(t){var e;null!==(e=this.l)&&void 0!==e||(this.l=[]),this.l.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,o)=>{const i=this._$Eh(o,e);void 0!==i&&(this._$Eu.set(i,o),t.push(i))})),t}static createProperty(t,e=vi){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const o="symbol"==typeof t?Symbol():"__"+t,i=this.getPropertyDescriptor(t,o,e);void 0!==i&&Object.defineProperty(this.prototype,t,i)}}static getPropertyDescriptor(t,e,o){return{get(){return this[e]},set(i){const r=this[t];this[e]=i,this.requestUpdate(t,r,o)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||vi}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const o of e)this.createProperty(o,t[o])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const o=new Set(t.flat(1/0).reverse());for(const t of o)e.unshift(ui(t))}else void 0!==t&&e.push(ui(t));return e}static _$Eh(t,e){const o=e.attribute;return!1===o?void 0:"string"==typeof o?o:"string"==typeof t?t.toLowerCase():void 0}o(){var t;this._$Ep=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(t=this.constructor.l)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,o;(null!==(e=this._$Eg)&&void 0!==e?e:this._$Eg=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(o=t.hostConnected)||void 0===o||o.call(t))}removeController(t){var e;null===(e=this._$Eg)||void 0===e||e.splice(this._$Eg.indexOf(t)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Et.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return o=e,i=this.constructor.elementStyles,ri?o.adoptedStyleSheets=i.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):i.forEach((t=>{const e=document.createElement("style"),i=window.litNonce;void 0!==i&&e.setAttribute("nonce",i),e.textContent=t.cssText,o.appendChild(e)})),e;var o,i}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,o){this._$AK(t,o)}_$ES(t,e,o=vi){var i,r;const n=this.constructor._$Eh(t,o);if(void 0!==n&&!0===o.reflect){const a=(null!==(r=null===(i=o.converter)||void 0===i?void 0:i.toAttribute)&&void 0!==r?r:fi.toAttribute)(e,o.type);this._$Ei=t,null==a?this.removeAttribute(n):this.setAttribute(n,a),this._$Ei=null}}_$AK(t,e){var o,i,r;const n=this.constructor,a=n._$Eu.get(t);if(void 0!==a&&this._$Ei!==a){const t=n.getPropertyOptions(a),s=t.converter,l=null!==(r=null!==(i=null===(o=s)||void 0===o?void 0:o.fromAttribute)&&void 0!==i?i:"function"==typeof s?s:null)&&void 0!==r?r:fi.fromAttribute;this._$Ei=a,this[a]=l(e,t.type),this._$Ei=null}}requestUpdate(t,e,o){let i=!0;void 0!==t&&(((o=o||this.constructor.getPropertyOptions(t)).hasChanged||mi)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===o.reflect&&this._$Ei!==t&&(void 0===this._$E_&&(this._$E_=new Map),this._$E_.set(t,o))):i=!1),!this.isUpdatePending&&i&&(this._$Ep=this._$EC())}async _$EC(){this.isUpdatePending=!0;try{await this._$Ep}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((t,e)=>this[e]=t)),this._$Et=void 0);let e=!1;const o=this._$AL;try{e=this.shouldUpdate(o),e?(this.willUpdate(o),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(o)):this._$EU()}catch(t){throw e=!1,this._$EU(),t}e&&this._$AE(o)}willUpdate(t){}_$AE(t){var e;null===(e=this._$Eg)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(t){return!0}update(t){void 0!==this._$E_&&(this._$E_.forEach(((t,e)=>this._$ES(e,this[e],t))),this._$E_=void 0),this._$EU()}updated(t){}firstUpdated(t){}};gi.finalized=!0,gi.elementProperties=new Map,gi.elementStyles=[],gi.shadowRootOptions={mode:"open"},null==hi||hi({ReactiveElement:gi}),(null!==(oi=globalThis.reactiveElementVersions)&&void 0!==oi?oi:globalThis.reactiveElementVersions=[]).push("1.2.3");var bi=globalThis.trustedTypes,yi=bi?bi.createPolicy("lit-html",{createHTML:t=>t}):void 0,xi=`lit$${(Math.random()+"").slice(9)}$`,_i="?"+xi,wi=`<${_i}>`,Ai=document,Ei=(t="")=>Ai.createComment(t),Oi=t=>null===t||"object"!=typeof t&&"function"!=typeof t,Ii=Array.isArray,Si=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ci=/-->/g,ki=/>/g,Ni=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,Ti=/'/g,qi=/"/g,Pi=/^(?:script|style|textarea|title)$/i,Di=(t=>(e,...o)=>({_$litType$:t,strings:e,values:o}))(1),Ri=Symbol.for("lit-noChange"),Li=Symbol.for("lit-nothing"),Mi=new WeakMap,$i=Ai.createTreeWalker(Ai,129,null,!1),ji=class{constructor({strings:t,_$litType$:e},o){let i;this.parts=[];let r=0,n=0;const a=t.length-1,s=this.parts,[l,c]=((t,e)=>{const o=t.length-1,i=[];let r,n=2===e?"<svg>":"",a=Si;for(let e=0;e<o;e++){const o=t[e];let s,l,c=-1,u=0;for(;u<o.length&&(a.lastIndex=u,l=a.exec(o),null!==l);)u=a.lastIndex,a===Si?"!--"===l[1]?a=Ci:void 0!==l[1]?a=ki:void 0!==l[2]?(Pi.test(l[2])&&(r=RegExp("</"+l[2],"g")),a=Ni):void 0!==l[3]&&(a=Ni):a===Ni?">"===l[0]?(a=null!=r?r:Si,c=-1):void 0===l[1]?c=-2:(c=a.lastIndex-l[2].length,s=l[1],a=void 0===l[3]?Ni:'"'===l[3]?qi:Ti):a===qi||a===Ti?a=Ni:a===Ci||a===ki?a=Si:(a=Ni,r=void 0);const d=a===Ni&&t[e+1].startsWith("/>")?" ":"";n+=a===Si?o+wi:c>=0?(i.push(s),o.slice(0,c)+"$lit$"+o.slice(c)+xi+d):o+xi+(-2===c?(i.push(void 0),e):d)}const s=n+(t[o]||"<?>")+(2===e?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==yi?yi.createHTML(s):s,i]})(t,e);if(this.el=ji.createElement(l,o),$i.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(i=$i.nextNode())&&s.length<a;){if(1===i.nodeType){if(i.hasAttributes()){const t=[];for(const e of i.getAttributeNames())if(e.endsWith("$lit$")||e.startsWith(xi)){const o=c[n++];if(t.push(e),void 0!==o){const t=i.getAttribute(o.toLowerCase()+"$lit$").split(xi),e=/([.?@])?(.*)/.exec(o);s.push({type:1,index:r,name:e[2],strings:t,ctor:"."===e[1]?Hi:"?"===e[1]?Ki:"@"===e[1]?Wi:Vi})}else s.push({type:6,index:r})}for(const e of t)i.removeAttribute(e)}if(Pi.test(i.tagName)){const t=i.textContent.split(xi),e=t.length-1;if(e>0){i.textContent=bi?bi.emptyScript:"";for(let o=0;o<e;o++)i.append(t[o],Ei()),$i.nextNode(),s.push({type:2,index:++r});i.append(t[e],Ei())}}}else if(8===i.nodeType)if(i.data===_i)s.push({type:2,index:r});else{let t=-1;for(;-1!==(t=i.data.indexOf(xi,t+1));)s.push({type:7,index:r}),t+=xi.length-1}r++}}static createElement(t,e){const o=Ai.createElement("template");return o.innerHTML=t,o}};function zi(t,e,o=t,i){var r,n,a,s;if(e===Ri)return e;let l=void 0!==i?null===(r=o._$Cl)||void 0===r?void 0:r[i]:o._$Cu;const c=Oi(e)?void 0:e._$litDirective$;return(null==l?void 0:l.constructor)!==c&&(null===(n=null==l?void 0:l._$AO)||void 0===n||n.call(l,!1),void 0===c?l=void 0:(l=new c(t),l._$AT(t,o,i)),void 0!==i?(null!==(a=(s=o)._$Cl)&&void 0!==a?a:s._$Cl=[])[i]=l:o._$Cu=l),void 0!==l&&(e=zi(t,l._$AS(t,e.values),l,i)),e}var Fi,Ui,Bi=class{constructor(t,e,o,i){var r;this.type=2,this._$AH=Li,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=o,this.options=i,this._$Cg=null===(r=null==i?void 0:i.isConnected)||void 0===r||r}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=zi(this,t,e),Oi(t)?t===Li||null==t||""===t?(this._$AH!==Li&&this._$AR(),this._$AH=Li):t!==this._$AH&&t!==Ri&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.S(t):(t=>{var e;return Ii(t)||"function"==typeof(null===(e=t)||void 0===e?void 0:e[Symbol.iterator])})(t)?this.A(t):this.$(t)}M(t,e=this._$AB){return this._$AA.parentNode.insertBefore(t,e)}S(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}$(t){this._$AH!==Li&&Oi(this._$AH)?this._$AA.nextSibling.data=t:this.S(Ai.createTextNode(t)),this._$AH=t}T(t){var e;const{values:o,_$litType$:i}=t,r="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=ji.createElement(i.h,this.options)),i);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===r)this._$AH.m(o);else{const t=new class{constructor(t,e){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var e;const{el:{content:o},parts:i}=this._$AD,r=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:Ai).importNode(o,!0);$i.currentNode=r;let n=$i.nextNode(),a=0,s=0,l=i[0];for(;void 0!==l;){if(a===l.index){let e;2===l.type?e=new Bi(n,n.nextSibling,this,t):1===l.type?e=new l.ctor(n,l.name,l.strings,this,t):6===l.type&&(e=new Qi(n,this,t)),this.v.push(e),l=i[++s]}a!==(null==l?void 0:l.index)&&(n=$i.nextNode(),a++)}return r}m(t){let e=0;for(const o of this.v)void 0!==o&&(void 0!==o.strings?(o._$AI(t,o,e),e+=o.strings.length-2):o._$AI(t[e])),e++}}(r,this),e=t.p(this.options);t.m(o),this.S(e),this._$AH=t}}_$AC(t){let e=Mi.get(t.strings);return void 0===e&&Mi.set(t.strings,e=new ji(t)),e}A(t){Ii(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let o,i=0;for(const r of t)i===e.length?e.push(o=new Bi(this.M(Ei()),this.M(Ei()),this,this.options)):o=e[i],o._$AI(r),i++;i<e.length&&(this._$AR(o&&o._$AB.nextSibling,i),e.length=i)}_$AR(t=this._$AA.nextSibling,e){var o;for(null===(o=this._$AP)||void 0===o||o.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cg=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}},Vi=class{constructor(t,e,o,i,r){this.type=1,this._$AH=Li,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=r,o.length>2||""!==o[0]||""!==o[1]?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=Li}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,o,i){const r=this.strings;let n=!1;if(void 0===r)t=zi(this,t,e,0),n=!Oi(t)||t!==this._$AH&&t!==Ri,n&&(this._$AH=t);else{const i=t;let a,s;for(t=r[0],a=0;a<r.length-1;a++)s=zi(this,i[o+a],e,a),s===Ri&&(s=this._$AH[a]),n||(n=!Oi(s)||s!==this._$AH[a]),s===Li?t=Li:t!==Li&&(t+=(null!=s?s:"")+r[a+1]),this._$AH[a]=s}n&&!i&&this.k(t)}k(t){t===Li?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}},Hi=class extends Vi{constructor(){super(...arguments),this.type=3}k(t){this.element[this.name]=t===Li?void 0:t}},Gi=bi?bi.emptyScript:"",Ki=class extends Vi{constructor(){super(...arguments),this.type=4}k(t){t&&t!==Li?this.element.setAttribute(this.name,Gi):this.element.removeAttribute(this.name)}},Wi=class extends Vi{constructor(t,e,o,i,r){super(t,e,o,i,r),this.type=5}_$AI(t,e=this){var o;if((t=null!==(o=zi(this,t,e,0))&&void 0!==o?o:Li)===Ri)return;const i=this._$AH,r=t===Li&&i!==Li||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,n=t!==Li&&(i===Li||r);r&&this.element.removeEventListener(this.name,this,i),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,o;"function"==typeof this._$AH?this._$AH.call(null!==(o=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==o?o:this.element,t):this._$AH.handleEvent(t)}},Qi=class{constructor(t,e,o){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=o}get _$AU(){return this._$AM._$AU}_$AI(t){zi(this,t)}},Xi=window.litHtmlPolyfillSupport;null==Xi||Xi(ji,Bi),(null!==(ii=globalThis.litHtmlVersions)&&void 0!==ii?ii:globalThis.litHtmlVersions=[]).push("2.1.3");var Zi=class extends gi{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const o=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=o.firstChild),o}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=((t,e,o)=>{var i,r;const n=null!==(i=null==o?void 0:o.renderBefore)&&void 0!==i?i:e;let a=n._$litPart$;if(void 0===a){const t=null!==(r=null==o?void 0:o.renderBefore)&&void 0!==r?r:null;n._$litPart$=a=new Bi(e.insertBefore(Ei(),t),t,void 0,null!=o?o:{})}return a._$AI(t),a})(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return Ri}};Zi.finalized=!0,Zi._$litElement$=!0,null===(Fi=globalThis.litElementHydrateSupport)||void 0===Fi||Fi.call(globalThis,{LitElement:Zi});var Yi=globalThis.litElementPolyfillSupport;null==Yi||Yi({LitElement:Zi}),(null!==(Ui=globalThis.litElementVersions)&&void 0!==Ui?Ui:globalThis.litElementVersions=[]).push("3.1.2");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var Ji=ci`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`,tr=ci`
  ${Ji}

  :host {
    display: block;
  }

  .radio-group {
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-radius: var(--sl-border-radius-medium);
    padding: var(--sl-spacing-large);
    padding-top: var(--sl-spacing-x-small);
  }

  .radio-group .radio-group__label {
    font-family: var(--sl-input-font-family);
    font-size: var(--sl-input-font-size-medium);
    font-weight: var(--sl-input-font-weight);
    color: var(--sl-input-color);
    padding: 0 var(--sl-spacing-2x-small);
  }

  ::slotted(sl-radio:not(:last-of-type)) {
    display: block;
    margin-bottom: var(--sl-spacing-2x-small);
  }

  .radio-group:not(.radio-group--has-fieldset) {
    border: none;
    padding: 0;
    margin: 0;
    min-width: 0;
  }

  .radio-group:not(.radio-group--has-fieldset) .radio-group__label {
    position: absolute;
    width: 0;
    height: 0;
    clip: rect(0 0 0 0);
    clip-path: inset(50%);
    overflow: hidden;
    white-space: nowrap;
  }
`,er=1,or=2,ir=3,rr=4,nr=t=>(...e)=>({_$litDirective$:t,values:e}),ar=class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,o){this._$Ct=t,this._$AM=e,this._$Ci=o}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}},sr=nr(class extends ar{constructor(t){var e;if(super(t),t.type!==er||"class"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((e=>t[e])).join(" ")+" "}update(t,[e]){var o,i;if(void 0===this.st){this.st=new Set,void 0!==t.strings&&(this.et=new Set(t.strings.join(" ").split(/\s/).filter((t=>""!==t))));for(const t in e)e[t]&&!(null===(o=this.et)||void 0===o?void 0:o.has(t))&&this.st.add(t);return this.render(e)}const r=t.element.classList;this.st.forEach((t=>{t in e||(r.remove(t),this.st.delete(t))}));for(const t in e){const o=!!e[t];o===this.st.has(t)||(null===(i=this.et)||void 0===i?void 0:i.has(t))||(o?(r.add(t),this.st.add(t)):(r.remove(t),this.st.delete(t)))}return Ri}}),lr=Object.defineProperty,cr=Object.defineProperties,ur=Object.getOwnPropertyDescriptor,dr=Object.getOwnPropertyDescriptors,pr=Object.getOwnPropertySymbols,hr=Object.prototype.hasOwnProperty,fr=Object.prototype.propertyIsEnumerable,mr=(t,e,o)=>e in t?lr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o,vr=(t,e)=>{for(var o in e||(e={}))hr.call(e,o)&&mr(t,o,e[o]);if(pr)for(var o of pr(e))fr.call(e,o)&&mr(t,o,e[o]);return t},gr=(t,e)=>cr(t,dr(e)),br=(t,e)=>{var o={};for(var i in t)hr.call(t,i)&&e.indexOf(i)<0&&(o[i]=t[i]);if(null!=t&&pr)for(var i of pr(t))e.indexOf(i)<0&&fr.call(t,i)&&(o[i]=t[i]);return o},yr=(t,e,o,i)=>{for(var r,n=i>1?void 0:i?ur(e,o):e,a=t.length-1;a>=0;a--)(r=t[a])&&(n=(i?r(e,o,n):r(n))||n);return i&&n&&lr(e,o,n),n},xr=t=>e=>"function"==typeof e?((t,e)=>(window.customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:o,elements:i}=e;return{kind:o,elements:i,finisher(e){window.customElements.define(t,e)}}})(t,e),_r=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?gr(vr({},e),{finisher(o){o.createProperty(e.key,t)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(o){o.createProperty(e.key,t)}};function wr(t){return(e,o)=>void 0!==o?((t,e,o)=>{e.constructor.createProperty(o,t)})(t,e,o):_r(t,e)}function Ar(t){return wr(gr(vr({},t),{state:!0}))}var Er;function Or(t,e){return(({finisher:t,descriptor:e})=>(o,i)=>{var r;if(void 0===i){const i=null!==(r=o.originalKey)&&void 0!==r?r:o.key,n=null!=e?{kind:"method",placement:"prototype",key:i,descriptor:e(o.key)}:gr(vr({},o),{key:i});return null!=t&&(n.finisher=function(e){t(e,i)}),n}{const r=o.constructor;void 0!==e&&Object.defineProperty(o,i,e(i)),null==t||t(r,i)}})({descriptor:o=>{const i={get(){var e,o;return null!==(o=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(t))&&void 0!==o?o:null},enumerable:!0,configurable:!0};if(e){const e="symbol"==typeof o?Symbol():"__"+o;i.get=function(){var o,i;return void 0===this[e]&&(this[e]=null!==(i=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(t))&&void 0!==i?i:null),this[e]}}return i}})}null===(Er=window.HTMLSlotElement)||void 0===Er||Er.prototype.assignedElements;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var Ir=["sl-radio","sl-radio-button"],Sr=class extends Zi{constructor(){super(...arguments),this.hasButtonGroup=!1,this.label="",this.fieldset=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","radiogroup")}getAllRadios(){return[...this.querySelectorAll(Ir.join(","))].filter((t=>Ir.includes(t.tagName.toLowerCase())))}handleRadioClick(t){const e=t.target.closest(Ir.map((t=>`${t}:not([disabled])`)).join(","));if(e){this.getAllRadios().forEach((t=>{t.checked=t===e,t.input.tabIndex=t===e?0:-1}))}}handleKeyDown(t){var e;if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t.key)){const o=this.getAllRadios().filter((t=>!t.disabled)),i=null!=(e=o.find((t=>t.checked)))?e:o[0],r=["ArrowUp","ArrowLeft"].includes(t.key)?-1:1;let n=o.indexOf(i)+r;n<0&&(n=o.length-1),n>o.length-1&&(n=0),this.getAllRadios().forEach((t=>{t.checked=!1,t.input.tabIndex=-1})),o[n].focus(),o[n].checked=!0,o[n].input.tabIndex=0,t.preventDefault()}}handleSlotChange(){const t=this.getAllRadios(),e=t.find((t=>t.checked));this.hasButtonGroup=!!t.find((t=>"sl-radio-button"===t.tagName.toLowerCase())),t.forEach((t=>{t.setAttribute("role","radio"),t.input.tabIndex=-1})),e?e.input.tabIndex=0:t.length>0&&(t[0].input.tabIndex=0)}render(){const t=Di`
      <slot @click=${this.handleRadioClick} @keydown=${this.handleKeyDown} @slotchange=${this.handleSlotChange}></slot>
    `;return Di`
      <fieldset
        part="base"
        class=${sr({"radio-group":!0,"radio-group--has-fieldset":this.fieldset})}
      >
        <legend part="label" class="radio-group__label">
          <slot name="label">${this.label}</slot>
        </legend>
        ${this.hasButtonGroup?Di`<sl-button-group part="button-group">${t}</sl-button-group>`:t}
      </fieldset>
    `}};Sr.styles=tr,yr([Or("slot:not([name])")],Sr.prototype,"defaultSlot",2),yr([Ar()],Sr.prototype,"hasButtonGroup",2),yr([wr()],Sr.prototype,"label",2),yr([wr({type:Boolean,attribute:"fieldset"})],Sr.prototype,"fieldset",2),Sr=yr([xr("sl-radio-group")],Sr);var Cr=ci`
  ${Ji}

  :host {
    display: inline-block;
  }

  .button-group {
    display: flex;
    flex-wrap: nowrap;
  }
`,kr=["sl-button","sl-radio-button"],Nr=class extends Zi{constructor(){super(...arguments),this.label=""}handleFocus(t){const e=Tr(t.target);null==e||e.classList.add("sl-button-group__button--focus")}handleBlur(t){const e=Tr(t.target);null==e||e.classList.remove("sl-button-group__button--focus")}handleMouseOver(t){const e=Tr(t.target);null==e||e.classList.add("sl-button-group__button--hover")}handleMouseOut(t){const e=Tr(t.target);null==e||e.classList.remove("sl-button-group__button--hover")}handleSlotChange(){const t=[...this.defaultSlot.assignedElements({flatten:!0})];t.forEach((e=>{const o=t.indexOf(e),i=Tr(e);null!==i&&(i.classList.add("sl-button-group__button"),i.classList.toggle("sl-button-group__button--first",0===o),i.classList.toggle("sl-button-group__button--inner",o>0&&o<t.length-1),i.classList.toggle("sl-button-group__button--last",o===t.length-1))}))}render(){return Di`
      <div
        part="base"
        class="button-group"
        role="group"
        aria-label=${this.label}
        @focusout=${this.handleBlur}
        @focusin=${this.handleFocus}
        @mouseover=${this.handleMouseOver}
        @mouseout=${this.handleMouseOut}
      >
        <slot @slotchange=${this.handleSlotChange}></slot>
      </div>
    `}};function Tr(t){return kr.includes(t.tagName.toLowerCase())?t:t.querySelector(kr.join(","))}Nr.styles=Cr,yr([Or("slot")],Nr.prototype,"defaultSlot",2),yr([wr()],Nr.prototype,"label",2),Nr=yr([xr("sl-button-group")],Nr);var qr=(()=>{const t=document.createElement("style");let e;try{document.head.appendChild(t),t.sheet.insertRule(":focus-visible { color: inherit }"),e=!0}catch(t){e=!1}finally{t.remove()}return e})(),Pr=li(qr?":focus-visible":":focus"),Dr=ci`
  ${Ji}

  :host {
    display: inline-block;
    position: relative;
    width: auto;
    cursor: pointer;
  }

  .button {
    display: inline-flex;
    align-items: stretch;
    justify-content: center;
    width: 100%;
    border-style: solid;
    border-width: var(--sl-input-border-width);
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-font-weight-semibold);
    text-decoration: none;
    user-select: none;
    white-space: nowrap;
    vertical-align: middle;
    padding: 0;
    transition: var(--sl-transition-x-fast) background-color, var(--sl-transition-x-fast) color,
      var(--sl-transition-x-fast) border, var(--sl-transition-x-fast) box-shadow;
    cursor: inherit;
  }

  .button::-moz-focus-inner {
    border: 0;
  }

  .button:focus {
    outline: none;
  }

  .button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* When disabled, prevent mouse events from bubbling up */
  .button--disabled * {
    pointer-events: none;
  }

  .button__prefix,
  .button__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    pointer-events: none;
  }

  .button__label ::slotted(sl-icon) {
    vertical-align: -2px;
  }

  /*
   * Standard buttons
   */

  /* Default */
  .button--standard.button--default {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--standard.button--default:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-300);
    color: var(--sl-color-primary-700);
  }

  .button--standard.button--default${Pr}:not(.button--disabled) {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-400);
    color: var(--sl-color-primary-700);
    box-shadow: var(--sl-focus-ring);
  }

  .button--standard.button--default:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-100);
    border-color: var(--sl-color-primary-400);
    color: var(--sl-color-primary-700);
  }

  /* Primary */
  .button--standard.button--primary {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary${Pr}:not(.button--disabled) {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    color: var(--sl-color-neutral-0);
    box-shadow: var(--sl-focus-ring);
  }

  .button--standard.button--primary:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--standard.button--success {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:hover:not(.button--disabled) {
    background-color: var(--sl-color-success-500);
    border-color: var(--sl-color-success-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success${Pr}:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
    box-shadow: var(--sl-focus-ring);
  }

  .button--standard.button--success:active:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--standard.button--neutral {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:hover:not(.button--disabled) {
    background-color: var(--sl-color-neutral-500);
    border-color: var(--sl-color-neutral-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral${Pr}:not(.button--disabled) {
    background-color: var(--sl-color-neutral-500);
    border-color: var(--sl-color-neutral-500);
    color: var(--sl-color-neutral-0);
    box-shadow: var(--sl-focus-ring);
  }

  .button--standard.button--neutral:active:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--standard.button--warning {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }
  .button--standard.button--warning:hover:not(.button--disabled) {
    background-color: var(--sl-color-warning-500);
    border-color: var(--sl-color-warning-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--warning${Pr}:not(.button--disabled) {
    background-color: var(--sl-color-warning-500);
    border-color: var(--sl-color-warning-500);
    color: var(--sl-color-neutral-0);
    box-shadow: var(--sl-focus-ring);
  }

  .button--standard.button--warning:active:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--standard.button--danger {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:hover:not(.button--disabled) {
    background-color: var(--sl-color-danger-500);
    border-color: var(--sl-color-danger-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger${Pr}:not(.button--disabled) {
    background-color: var(--sl-color-danger-500);
    border-color: var(--sl-color-danger-500);
    color: var(--sl-color-neutral-0);
    box-shadow: var(--sl-focus-ring);
  }

  .button--standard.button--danger:active:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /*
   * Outline buttons
   */

  .button--outline {
    background: none;
    border: solid 1px;
  }

  /* Default */
  .button--outline.button--default {
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--outline.button--default:hover:not(.button--disabled),
  .button--outline.button--default.button--checked:not(.button--disabled) {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--default${Pr}:not(.button--disabled) {
    border-color: var(--sl-color-primary-500);
    box-shadow: var(--sl-focus-ring);
  }

  .button--outline.button--default:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Primary */
  .button--outline.button--primary {
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-primary-600);
  }

  .button--outline.button--primary:hover:not(.button--disabled),
  .button--outline.button--primary.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--primary${Pr}:not(.button--disabled) {
    border-color: var(--sl-color-primary-500);
    box-shadow: var(--sl-focus-ring);
  }

  .button--outline.button--primary:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--outline.button--success {
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-success-600);
  }

  .button--outline.button--success:hover:not(.button--disabled),
  .button--outline.button--success.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--success${Pr}:not(.button--disabled) {
    border-color: var(--sl-color-success-500);
    box-shadow: var(--sl-focus-ring);
  }

  .button--outline.button--success:active:not(.button--disabled) {
    border-color: var(--sl-color-success-700);
    background-color: var(--sl-color-success-700);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--outline.button--neutral {
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-600);
  }

  .button--outline.button--neutral:hover:not(.button--disabled),
  .button--outline.button--neutral.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--neutral${Pr}:not(.button--disabled) {
    border-color: var(--sl-color-neutral-500);
    box-shadow: var(--sl-focus-ring);
  }

  .button--outline.button--neutral:active:not(.button--disabled) {
    border-color: var(--sl-color-neutral-700);
    background-color: var(--sl-color-neutral-700);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--outline.button--warning {
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-warning-600);
  }

  .button--outline.button--warning:hover:not(.button--disabled),
  .button--outline.button--warning.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--warning${Pr}:not(.button--disabled) {
    border-color: var(--sl-color-warning-500);
    box-shadow: var(--sl-focus-ring);
  }

  .button--outline.button--warning:active:not(.button--disabled) {
    border-color: var(--sl-color-warning-700);
    background-color: var(--sl-color-warning-700);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--outline.button--danger {
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-danger-600);
  }

  .button--outline.button--danger:hover:not(.button--disabled),
  .button--outline.button--danger.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--danger${Pr}:not(.button--disabled) {
    border-color: var(--sl-color-danger-500);
    box-shadow: var(--sl-focus-ring);
  }

  .button--outline.button--danger:active:not(.button--disabled) {
    border-color: var(--sl-color-danger-700);
    background-color: var(--sl-color-danger-700);
    color: var(--sl-color-neutral-0);
  }

  /*
   * Text buttons
   */

  .button--text {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-600);
  }

  .button--text:hover:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text${Pr}:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
    box-shadow: var(--sl-focus-ring);
  }

  .button--text:active:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-700);
  }

  /*
   * Size modifiers
   */

  .button--small {
    font-size: var(--sl-button-font-size-small);
    height: var(--sl-input-height-small);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
  }

  .button--medium {
    font-size: var(--sl-button-font-size-medium);
    height: var(--sl-input-height-medium);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
  }

  .button--large {
    font-size: var(--sl-button-font-size-large);
    height: var(--sl-input-height-large);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
  }

  /*
   * Pill modifier
   */

  .button--pill.button--small {
    border-radius: var(--sl-input-height-small);
  }

  .button--pill.button--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .button--pill.button--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Circle modifier
   */

  .button--circle {
    padding-left: 0;
    padding-right: 0;
  }

  .button--circle.button--small {
    width: var(--sl-input-height-small);
    border-radius: 50%;
  }

  .button--circle.button--medium {
    width: var(--sl-input-height-medium);
    border-radius: 50%;
  }

  .button--circle.button--large {
    width: var(--sl-input-height-large);
    border-radius: 50%;
  }

  .button--circle .button__prefix,
  .button--circle .button__suffix,
  .button--circle .button__caret {
    display: none;
  }

  /*
   * Caret modifier
   */

  .button--caret .button__suffix {
    display: none;
  }

  .button--caret .button__caret {
    display: flex;
    align-items: center;
  }

  .button--caret .button__caret svg {
    width: 1em;
    height: 1em;
  }

  /*
   * Loading modifier
   */

  .button--loading {
    position: relative;
    cursor: wait;
  }

  .button--loading .button__prefix,
  .button--loading .button__label,
  .button--loading .button__suffix,
  .button--loading .button__caret {
    visibility: hidden;
  }

  .button--loading sl-spinner {
    --indicator-color: currentColor;
    position: absolute;
    font-size: 1em;
    height: 1em;
    width: 1em;
    top: calc(50% - 0.5em);
    left: calc(50% - 0.5em);
  }

  /*
   * Badges
   */

  .button ::slotted(sl-badge) {
    position: absolute;
    top: 0;
    right: 0;
    transform: translateY(-50%) translateX(50%);
    pointer-events: none;
  }

  /*
   * Button spacing
   */

  .button--has-label.button--small .button__label {
    padding: 0 var(--sl-spacing-small);
  }

  .button--has-label.button--medium .button__label {
    padding: 0 var(--sl-spacing-medium);
  }

  .button--has-label.button--large .button__label {
    padding: 0 var(--sl-spacing-large);
  }

  .button--has-prefix.button--small {
    padding-left: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--small .button__label {
    padding-left: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--medium {
    padding-left: var(--sl-spacing-small);
  }

  .button--has-prefix.button--medium .button__label {
    padding-left: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large {
    padding-left: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large .button__label {
    padding-left: var(--sl-spacing-small);
  }

  .button--has-suffix.button--small,
  .button--caret.button--small {
    padding-right: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--small .button__label,
  .button--caret.button--small .button__label {
    padding-right: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--medium,
  .button--caret.button--medium {
    padding-right: var(--sl-spacing-small);
  }

  .button--has-suffix.button--medium .button__label,
  .button--caret.button--medium .button__label {
    padding-right: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large,
  .button--caret.button--large {
    padding-right: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large .button__label,
  .button--caret.button--large .button__label {
    padding-right: var(--sl-spacing-small);
  }

  /*
   * Button groups support a variety of button types (e.g. buttons with tooltips, buttons as dropdown triggers, etc.).
   * This means buttons aren't always direct descendants of the button group, thus we can't target them with the
   * ::slotted selector. To work around this, the button group component does some magic to add these special classes to
   * buttons and we style them here instead.
   */

  :host(.sl-button-group__button--first:not(.sl-button-group__button--last)) .button {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
  }

  :host(.sl-button-group__button--inner) .button {
    border-radius: 0;
  }

  :host(.sl-button-group__button--last:not(.sl-button-group__button--first)) .button {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
  }

  /* All except the first */
  :host(.sl-button-group__button:not(.sl-button-group__button--first)) {
    margin-left: calc(-1 * var(--sl-input-border-width));
  }

  /* Add a visual separator between solid buttons */
  :host(.sl-button-group__button:not(.sl-button-group__button--focus, .sl-button-group__button--first, [variant='default']):not(:hover, :active, :focus))
    .button:after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    border-left: solid 1px rgb(128 128 128 / 33%);
    mix-blend-mode: multiply;
  }

  /* Bump hovered, focused, and checked buttons up so their focus ring isn't clipped */
  :host(.sl-button-group__button--hover) {
    z-index: 1;
  }

  :host(.sl-button-group__button--focus),
  :host(.sl-button-group__button[checked]) {
    z-index: 2;
  }
`,Rr=ci`
  ${Dr}
  label {
    display: inline-block;
    position: relative;
  }
  /* We use a hidden input so constraint validation errors work, since they don't appear to show when used with buttons.
    We can't actually hide it, though, otherwise the messages will be suppressed by the browser. */
  .hidden-input {
    all: unset;
    position: absolute;
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    outline: dotted 1px red;
    opacity: 0;
    z-index: -1;
  }
`,Lr=(t,...e)=>({_$litStatic$:e.reduce(((e,o,i)=>e+(t=>{if(void 0!==t._$litStatic$)return t._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${t}. Use 'unsafeStatic' to pass non-literal values, but\n            take care to ensure page security.`)})(o)+t[i+1]),t[0])}),Mr=new Map,$r=(t=>(e,...o)=>{var i;const r=o.length;let n,a;const s=[],l=[];let c,u=0,d=!1;for(;u<r;){for(c=e[u];u<r&&void 0!==(a=o[u],n=null===(i=a)||void 0===i?void 0:i._$litStatic$);)c+=n+e[++u],d=!0;l.push(a),s.push(c),u++}if(u===r&&s.push(e[r]),d){const t=s.join("$$lit$$");void 0===(e=Mr.get(t))&&(s.raw=s,Mr.set(t,e=s)),o=l}return t(e,...o)})(Di),jr=class extends Event{constructor(t){super("formdata"),this.formData=t}},zr=class extends FormData{constructor(t){super(t),this.form=t,t.dispatchEvent(new jr(this))}append(t,e){let o=this.form.elements[t];if(o||(o=document.createElement("input"),o.type="hidden",o.name=t,this.form.appendChild(o)),this.has(t)){const i=this.getAll(t),r=i.indexOf(o.value);-1!==r&&i.splice(r,1),i.push(e),this.set(t,i)}else super.append(t,e);o.value=e}};function Fr(){window.FormData&&!function(){const t=document.createElement("form");let e=!1;return document.body.append(t),t.addEventListener("submit",(t=>{new FormData(t.target),t.preventDefault()})),t.addEventListener("formdata",(()=>e=!0)),t.dispatchEvent(new Event("submit",{cancelable:!0})),t.remove(),e}()&&(window.FormData=zr,window.addEventListener("submit",(t=>{t.defaultPrevented||new FormData(t.target)})))}"complete"===document.readyState?Fr():window.addEventListener("DOMContentLoaded",(()=>Fr()));var Ur=class{constructor(t,e){(this.host=t).addController(this),this.options=vr({form:t=>t.closest("form"),name:t=>t.name,value:t=>t.value,disabled:t=>t.disabled,reportValidity:t=>"function"!=typeof t.reportValidity||t.reportValidity()},e),this.handleFormData=this.handleFormData.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this)}hostConnected(){document.addEventListener("formdata",this.handleFormData,{capture:!0}),document.addEventListener("submit",this.handleFormSubmit,{capture:!0})}hostDisconnected(){document.removeEventListener("formdata",this.handleFormData,{capture:!0}),document.removeEventListener("submit",this.handleFormSubmit,{capture:!0})}handleFormData(t){const e=this.options.disabled(this.host),o=this.options.name(this.host),i=this.options.value(this.host);e||"string"!=typeof o||void 0===i||(Array.isArray(i)?i.forEach((e=>{t.formData.append(o,e.toString())})):t.formData.append(o,i.toString()))}handleFormSubmit(t){const e=this.options.form(this.host),o=this.options.disabled(this.host),i=this.options.reportValidity;t.target!==e||o||(null==e?void 0:e.noValidate)||i(this.host)||(t.preventDefault(),t.stopImmediatePropagation())}submit(t){const e=this.options.form(this.host);if(e){const o=document.createElement("button");o.type="submit",o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.clipPath="inset(50%)",o.style.overflow="hidden",o.style.whiteSpace="nowrap",t&&["formaction","formmethod","formnovalidate","formtarget"].forEach((e=>{t.hasAttribute(e)&&o.setAttribute(e,t.getAttribute(e))})),e.append(o),o.click(),o.remove()}}},Br=class{constructor(t,...e){this.slotNames=[],(this.host=t).addController(this),this.slotNames=e,this.handleSlotChange=this.handleSlotChange.bind(this)}hasDefaultSlot(){return[...this.host.childNodes].some((t=>{if(t.nodeType===t.TEXT_NODE&&""!==t.textContent.trim())return!0;if(t.nodeType===t.ELEMENT_NODE){const e=t;if("sl-visually-hidden"===e.tagName.toLowerCase())return!1;if(!e.hasAttribute("slot"))return!0}return!1}))}hasNamedSlot(t){return null!==this.host.querySelector(`:scope > [slot="${t}"]`)}test(t){return"[default]"===t?this.hasDefaultSlot():this.hasNamedSlot(t)}hostConnected(){this.host.shadowRoot.addEventListener("slotchange",this.handleSlotChange)}hostDisconnected(){this.host.shadowRoot.removeEventListener("slotchange",this.handleSlotChange)}handleSlotChange(t){const e=t.target;(this.slotNames.includes("[default]")&&!e.name||e.name&&this.slotNames.includes(e.name))&&this.host.requestUpdate()}};function Vr(t){if(!t)return"";const e=t.assignedNodes({flatten:!0});let o="";return[...e].forEach((t=>{t.nodeType===Node.TEXT_NODE&&(o+=t.textContent)})),o}var Hr=t=>null!=t?t:Li
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;function Gr(t,e){const o=vr({waitUntilFirstUpdate:!1},e);return(e,i)=>{const{update:r}=e;if(t in e){const n=t;e.update=function(t){if(t.has(n)){const e=t.get(n),r=this[n];e!==r&&(o.waitUntilFirstUpdate&&!this.hasUpdated||this[i](e,r))}r.call(this,t)}}}}function Kr(t,e,o){const i=new CustomEvent(e,vr({bubbles:!0,cancelable:!1,composed:!0,detail:{}},o));return t.dispatchEvent(i),i}function Wr(t,e){return new Promise((o=>{t.addEventListener(e,(function i(r){r.target===t&&(t.removeEventListener(e,i),o())}))}))}var Qr=class extends Zi{constructor(){super(...arguments),this.formSubmitController=new Ur(this,{value:t=>t.checked?t.value:void 0}),this.hasSlotController=new Br(this,"[default]","prefix","suffix"),this.hasFocus=!1,this.disabled=!1,this.checked=!1,this.invalid=!1,this.variant="default",this.size="medium",this.pill=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","radio")}click(){this.input.click()}focus(t){this.input.focus(t)}blur(){this.input.blur()}reportValidity(){return this.hiddenInput.reportValidity()}setCustomValidity(t){this.hiddenInput.setCustomValidity(t)}handleBlur(){this.hasFocus=!1,Kr(this,"sl-blur")}handleClick(){this.disabled||(this.checked=!0)}handleFocus(){this.hasFocus=!0,Kr(this,"sl-focus")}handleCheckedChange(){this.setAttribute("aria-checked",this.checked?"true":"false"),this.hasUpdated&&Kr(this,"sl-change")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false"),this.hasUpdated&&(this.input.disabled=this.disabled,this.invalid=!this.input.checkValidity())}render(){return $r`
      <div part="base">
        <input class="hidden-input" type="radio" aria-hidden="true" tabindex="-1" />
        <button
          part="button"
          class=${sr({button:!0,"button--default":"default"===this.variant,"button--primary":"primary"===this.variant,"button--success":"success"===this.variant,"button--neutral":"neutral"===this.variant,"button--warning":"warning"===this.variant,"button--danger":"danger"===this.variant,"button--small":"small"===this.size,"button--medium":"medium"===this.size,"button--large":"large"===this.size,"button--checked":this.checked,"button--disabled":this.disabled,"button--focused":this.hasFocus,"button--outline":!0,"button--pill":this.pill,"button--has-label":this.hasSlotController.test("[default]"),"button--has-prefix":this.hasSlotController.test("prefix"),"button--has-suffix":this.hasSlotController.test("suffix")})}
          ?disabled=${this.disabled}
          type="button"
          name=${Hr(this.name)}
          value=${Hr(this.value)}
          @blur=${this.handleBlur}
          @focus=${this.handleFocus}
          @click=${this.handleClick}
        >
          <span part="prefix" class="button__prefix">
            <slot name="prefix"></slot>
          </span>
          <span part="label" class="button__label">
            <slot></slot>
          </span>
          <span part="suffix" class="button__suffix">
            <slot name="suffix"></slot>
          </span>
        </button>
      </div>
    `}};Qr.styles=Rr,yr([Or(".button")],Qr.prototype,"input",2),yr([Or(".hidden-input")],Qr.prototype,"hiddenInput",2),yr([Ar()],Qr.prototype,"hasFocus",2),yr([wr()],Qr.prototype,"name",2),yr([wr()],Qr.prototype,"value",2),yr([wr({type:Boolean,reflect:!0})],Qr.prototype,"disabled",2),yr([wr({type:Boolean,reflect:!0})],Qr.prototype,"checked",2),yr([wr({type:Boolean,reflect:!0})],Qr.prototype,"invalid",2),yr([Gr("checked")],Qr.prototype,"handleCheckedChange",1),yr([Gr("disabled",{waitUntilFirstUpdate:!0})],Qr.prototype,"handleDisabledChange",1),yr([wr({reflect:!0})],Qr.prototype,"variant",2),yr([wr({reflect:!0})],Qr.prototype,"size",2),yr([wr({type:Boolean,reflect:!0})],Qr.prototype,"pill",2),Qr=yr([xr("sl-radio-button")],Qr);var Xr,Zr=ci`
  .form-control .form-control__label {
    display: none;
  }

  .form-control .form-control__help-text {
    display: none;
  }

  /* Label */
  .form-control--has-label .form-control__label {
    display: inline-block;
    color: var(--sl-input-label-color);
    margin-bottom: var(--sl-spacing-3x-small);
  }

  .form-control--has-label.form-control--small .form-control__label {
    font-size: var(--sl-input-label-font-size-small);
  }

  .form-control--has-label.form-control--medium .form-control__label {
    font-size: var(--sl-input-label-font-size-medium);
  }

  .form-control--has-label.form-control--large .form-control_label {
    font-size: var(--sl-input-label-font-size-large);
  }

  /* Help text */
  .form-control--has-help-text .form-control__help-text {
    display: block;
    color: var(--sl-input-help-text-color);
  }

  .form-control--has-help-text .form-control__help-text ::slotted(*) {
    margin-top: var(--sl-spacing-3x-small);
  }

  .form-control--has-help-text.form-control--small .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-small);
  }

  .form-control--has-help-text.form-control--medium .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-medium);
  }

  .form-control--has-help-text.form-control--large .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-large);
  }
`,Yr=ci`
  ${Ji}
  ${Zr}

  :host {
    display: block;
  }

  .input {
    flex: 1 1 auto;
    display: inline-flex;
    align-items: stretch;
    justify-content: start;
    position: relative;
    width: 100%;
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-input-font-weight);
    letter-spacing: var(--sl-input-letter-spacing);
    vertical-align: middle;
    overflow: hidden;
    cursor: text;
    transition: var(--sl-transition-fast) color, var(--sl-transition-fast) border, var(--sl-transition-fast) box-shadow,
      var(--sl-transition-fast) background-color;
  }

  /* Standard inputs */
  .input--standard {
    background-color: var(--sl-input-background-color);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
  }

  .input--standard:hover:not(.input--disabled) {
    background-color: var(--sl-input-background-color-hover);
    border-color: var(--sl-input-border-color-hover);
  }

  .input--standard.input--focused:not(.input--disabled) {
    background-color: var(--sl-input-background-color-focus);
    border-color: var(--sl-input-border-color-focus);
    box-shadow: var(--sl-focus-ring);
  }

  .input--standard.input--focused:not(.input--disabled) .input__control {
    color: var(--sl-input-color-focus);
  }

  .input--standard.input--disabled {
    background-color: var(--sl-input-background-color-disabled);
    border-color: var(--sl-input-border-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .input--standard.input--disabled .input__control {
    color: var(--sl-input-color-disabled);
  }

  .input--standard.input--disabled .input__control::placeholder {
    color: var(--sl-input-placeholder-color-disabled);
  }

  /* Filled inputs */
  .input--filled {
    border: none;
    background-color: var(--sl-input-filled-background-color);
    color: var(--sl-input-color);
  }

  .input--filled:hover:not(.input--disabled) {
    background-color: var(--sl-input-filled-background-color-hover);
  }

  .input--filled.input--focused:not(.input--disabled) {
    background-color: var(--sl-input-filled-background-color-focus);
    box-shadow: var(--sl-focus-ring);
  }

  .input--filled.input--disabled {
    background-color: var(--sl-input-filled-background-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .input__control {
    flex: 1 1 auto;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    min-width: 0;
    height: 100%;
    color: var(--sl-input-color);
    border: none;
    background: none;
    box-shadow: none;
    padding: 0;
    margin: 0;
    cursor: inherit;
    -webkit-appearance: none;
  }

  .input__control::-webkit-search-decoration,
  .input__control::-webkit-search-cancel-button,
  .input__control::-webkit-search-results-button,
  .input__control::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  .input__control:-webkit-autofill,
  .input__control:-webkit-autofill:hover,
  .input__control:-webkit-autofill:focus,
  .input__control:-webkit-autofill:active {
    box-shadow: 0 0 0 var(--sl-input-height-large) var(--sl-input-background-color-hover) inset !important;
    -webkit-text-fill-color: var(--sl-color-primary-500);
    caret-color: var(--sl-input-color);
  }

  .input--filled .input__control:-webkit-autofill,
  .input--filled .input__control:-webkit-autofill:hover,
  .input--filled .input__control:-webkit-autofill:focus,
  .input--filled .input__control:-webkit-autofill:active {
    box-shadow: 0 0 0 var(--sl-input-height-large) var(--sl-input-filled-background-color) inset !important;
  }

  .input__control::placeholder {
    color: var(--sl-input-placeholder-color);
    user-select: none;
  }

  .input:hover:not(.input--disabled) .input__control {
    color: var(--sl-input-color-hover);
  }

  .input__control:focus {
    outline: none;
  }

  .input__prefix,
  .input__suffix {
    display: inline-flex;
    flex: 0 0 auto;
    align-items: center;
    cursor: default;
  }

  .input__prefix ::slotted(sl-icon),
  .input__suffix ::slotted(sl-icon) {
    color: var(--sl-input-icon-color);
  }

  /*
   * Size modifiers
   */

  .input--small {
    border-radius: var(--sl-input-border-radius-small);
    font-size: var(--sl-input-font-size-small);
    height: var(--sl-input-height-small);
  }

  .input--small .input__control {
    height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-small);
  }

  .input--small .input__clear,
  .input--small .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-small) * 2);
  }

  .input--small .input__prefix ::slotted(*) {
    padding-left: var(--sl-input-spacing-small);
  }

  .input--small .input__suffix ::slotted(*) {
    padding-right: var(--sl-input-spacing-small);
  }

  .input--medium {
    border-radius: var(--sl-input-border-radius-medium);
    font-size: var(--sl-input-font-size-medium);
    height: var(--sl-input-height-medium);
  }

  .input--medium .input__control {
    height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-medium);
  }

  .input--medium .input__clear,
  .input--medium .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-medium) * 2);
  }

  .input--medium .input__prefix ::slotted(*) {
    padding-left: var(--sl-input-spacing-medium);
  }

  .input--medium .input__suffix ::slotted(*) {
    padding-right: var(--sl-input-spacing-medium);
  }

  .input--large {
    border-radius: var(--sl-input-border-radius-large);
    font-size: var(--sl-input-font-size-large);
    height: var(--sl-input-height-large);
  }

  .input--large .input__control {
    height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-large);
  }

  .input--large .input__clear,
  .input--large .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-large) * 2);
  }

  .input--large .input__prefix ::slotted(*) {
    padding-left: var(--sl-input-spacing-large);
  }

  .input--large .input__suffix ::slotted(*) {
    padding-right: var(--sl-input-spacing-large);
  }

  /*
   * Pill modifier
   */

  .input--pill.input--small {
    border-radius: var(--sl-input-height-small);
  }

  .input--pill.input--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .input--pill.input--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Clearable + Password Toggle
   */

  .input__clear,
  .input__password-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: inherit;
    color: var(--sl-input-icon-color);
    border: none;
    background: none;
    padding: 0;
    transition: var(--sl-transition-fast) color;
    cursor: pointer;
  }

  .input__clear:hover,
  .input__password-toggle:hover {
    color: var(--sl-input-icon-color-hover);
  }

  .input__clear:focus,
  .input__password-toggle:focus {
    outline: none;
  }

  .input--empty .input__clear {
    visibility: hidden;
  }

  /* Don't show the browser's password toggle in Edge */
  ::-ms-reveal {
    display: none;
  }
`,Jr=new Set,tn=new MutationObserver(rn),en=new Map,on=document.documentElement.lang||navigator.language;function rn(){on=document.documentElement.lang||navigator.language,[...Jr.keys()].map((t=>{"function"==typeof t.requestUpdate&&t.requestUpdate()}))}tn.observe(document.documentElement,{attributes:!0,attributeFilter:["lang"]});var nn=class{constructor(t){this.host=t,this.host.addController(this)}hostConnected(){Jr.add(this.host)}hostDisconnected(){Jr.delete(this.host)}term(t,...e){return function(t,e,...o){const i=t.toLowerCase().slice(0,2),r=t.length>2?t.toLowerCase():"",n=en.get(r),a=en.get(i);let s;if(n&&n[e])s=n[e];else if(a&&a[e])s=a[e];else{if(!Xr||!Xr[e])return console.error(`No translation found for: ${e}`),e;s=Xr[e]}return"function"==typeof s?s(...o):s}(this.host.lang||on,t,...e)}date(t,e){return function(t,e,o){return e=new Date(e),new Intl.DateTimeFormat(t,o).format(e)}(this.host.lang||on,t,e)}number(t,e){return function(t,e,o){return e=Number(e),isNaN(e)?"":new Intl.NumberFormat(t,o).format(e)}(this.host.lang||on,t,e)}relativeTime(t,e,o){return function(t,e,o,i){return new Intl.RelativeTimeFormat(t,i).format(e,o)}(this.host.lang||on,t,e,o)}};!function(...t){t.map((t=>{const e=t.$code.toLowerCase();en.set(e,t),Xr||(Xr=t)})),rn()}({$code:"en",$name:"English",$dir:"ltr",clearEntry:"Clear entry",close:"Close",copy:"Copy",currentValue:"Current value",hidePassword:"Hide password",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",toggleColorFormat:"Toggle color format"});var an={},sn=nr(class extends ar{constructor(t){if(super(t),t.type!==ir&&t.type!==er&&t.type!==rr)throw Error("The `live` directive is not allowed on child or event bindings");if(!(t=>void 0===t.strings)(t))throw Error("`live` bindings can only contain a single expression")}render(t){return t}update(t,[e]){if(e===Ri||e===Li)return e;const o=t.element,i=t.name;if(t.type===ir){if(e===o[i])return Ri}else if(t.type===rr){if(!!e===o.hasAttribute(i))return Ri}else if(t.type===er&&o.getAttribute(i)===e+"")return Ri;return((t,e=an)=>{t._$AH=e})(t),e}}),ln=class extends Zi{constructor(){super(...arguments),this.formSubmitController=new Ur(this),this.hasSlotController=new Br(this,"help-text","label"),this.localize=new nn(this),this.hasFocus=!1,this.isPasswordVisible=!1,this.type="text",this.size="medium",this.value="",this.filled=!1,this.pill=!1,this.label="",this.helpText="",this.clearable=!1,this.togglePassword=!1,this.disabled=!1,this.readonly=!1,this.required=!1,this.invalid=!1}get valueAsDate(){var t,e;return null!=(e=null==(t=this.input)?void 0:t.valueAsDate)?e:null}set valueAsDate(t){this.updateComplete.then((()=>{this.input.valueAsDate=t,this.value=this.input.value}))}get valueAsNumber(){var t,e;return null!=(e=null==(t=this.input)?void 0:t.valueAsNumber)?e:parseFloat(this.value)}set valueAsNumber(t){this.updateComplete.then((()=>{this.input.valueAsNumber=t,this.value=this.input.value}))}firstUpdated(){this.invalid=!this.input.checkValidity()}focus(t){this.input.focus(t)}blur(){this.input.blur()}select(){this.input.select()}setSelectionRange(t,e,o="none"){this.input.setSelectionRange(t,e,o)}setRangeText(t,e,o,i="preserve"){this.input.setRangeText(t,e,o,i),this.value!==this.input.value&&(this.value=this.input.value,Kr(this,"sl-input"),Kr(this,"sl-change"))}reportValidity(){return this.input.reportValidity()}setCustomValidity(t){this.input.setCustomValidity(t),this.invalid=!this.input.checkValidity()}handleBlur(){this.hasFocus=!1,Kr(this,"sl-blur")}handleChange(){this.value=this.input.value,Kr(this,"sl-change")}handleClearClick(t){this.value="",Kr(this,"sl-clear"),Kr(this,"sl-input"),Kr(this,"sl-change"),this.input.focus(),t.stopPropagation()}handleDisabledChange(){this.input.disabled=this.disabled,this.invalid=!this.input.checkValidity()}handleFocus(){this.hasFocus=!0,Kr(this,"sl-focus")}handleInput(){this.value=this.input.value,Kr(this,"sl-input")}handleInvalid(){this.invalid=!0}handleKeyDown(t){const e=t.metaKey||t.ctrlKey||t.shiftKey||t.altKey;"Enter"!==t.key||e||this.formSubmitController.submit()}handlePasswordToggle(){this.isPasswordVisible=!this.isPasswordVisible}handleValueChange(){this.invalid=!this.input.checkValidity()}render(){const t=this.hasSlotController.test("label"),e=this.hasSlotController.test("help-text"),o=!!this.label||!!t,i=!!this.helpText||!!e;return Di`
      <div
        part="form-control"
        class=${sr({"form-control":!0,"form-control--small":"small"===this.size,"form-control--medium":"medium"===this.size,"form-control--large":"large"===this.size,"form-control--has-label":o,"form-control--has-help-text":i})}
      >
        <label
          part="form-control-label"
          class="form-control__label"
          for="input"
          aria-hidden=${o?"false":"true"}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <div
            part="base"
            class=${sr({input:!0,"input--small":"small"===this.size,"input--medium":"medium"===this.size,"input--large":"large"===this.size,"input--pill":this.pill,"input--standard":!this.filled,"input--filled":this.filled,"input--disabled":this.disabled,"input--focused":this.hasFocus,"input--empty":0===this.value.length,"input--invalid":this.invalid})}
          >
            <span part="prefix" class="input__prefix">
              <slot name="prefix"></slot>
            </span>

            <input
              part="input"
              id="input"
              class="input__control"
              type=${"password"===this.type&&this.isPasswordVisible?"text":this.type}
              name=${Hr(this.name)}
              ?disabled=${this.disabled}
              ?readonly=${this.readonly}
              ?required=${this.required}
              placeholder=${Hr(this.placeholder)}
              minlength=${Hr(this.minlength)}
              maxlength=${Hr(this.maxlength)}
              min=${Hr(this.min)}
              max=${Hr(this.max)}
              step=${Hr(this.step)}
              .value=${sn(this.value)}
              autocapitalize=${Hr(this.autocapitalize)}
              autocomplete=${Hr(this.autocomplete)}
              autocorrect=${Hr(this.autocorrect)}
              ?autofocus=${this.autofocus}
              spellcheck=${Hr(this.spellcheck)}
              pattern=${Hr(this.pattern)}
              enterkeyhint=${Hr(this.enterkeyhint)}
              inputmode=${Hr(this.inputmode)}
              aria-describedby="help-text"
              aria-invalid=${this.invalid?"true":"false"}
              @change=${this.handleChange}
              @input=${this.handleInput}
              @invalid=${this.handleInvalid}
              @keydown=${this.handleKeyDown}
              @focus=${this.handleFocus}
              @blur=${this.handleBlur}
            />

            ${this.clearable&&this.value.length>0?Di`
                  <button
                    part="clear-button"
                    class="input__clear"
                    type="button"
                    aria-label=${this.localize.term("clearEntry")}
                    @click=${this.handleClearClick}
                    tabindex="-1"
                  >
                    <slot name="clear-icon">
                      <sl-icon name="x-circle-fill" library="system"></sl-icon>
                    </slot>
                  </button>
                `:""}
            ${this.togglePassword?Di`
                  <button
                    part="password-toggle-button"
                    class="input__password-toggle"
                    type="button"
                    aria-label=${this.localize.term(this.isPasswordVisible?"hidePassword":"showPassword")}
                    @click=${this.handlePasswordToggle}
                    tabindex="-1"
                  >
                    ${this.isPasswordVisible?Di`
                          <slot name="show-password-icon">
                            <sl-icon name="eye-slash" library="system"></sl-icon>
                          </slot>
                        `:Di`
                          <slot name="hide-password-icon">
                            <sl-icon name="eye" library="system"></sl-icon>
                          </slot>
                        `}
                  </button>
                `:""}

            <span part="suffix" class="input__suffix">
              <slot name="suffix"></slot>
            </span>
          </div>
        </div>

        <div
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${i?"false":"true"}
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </div>
    `}};ln.styles=Yr,yr([Or(".input__control")],ln.prototype,"input",2),yr([Ar()],ln.prototype,"hasFocus",2),yr([Ar()],ln.prototype,"isPasswordVisible",2),yr([wr({reflect:!0})],ln.prototype,"type",2),yr([wr({reflect:!0})],ln.prototype,"size",2),yr([wr()],ln.prototype,"name",2),yr([wr()],ln.prototype,"value",2),yr([wr({type:Boolean,reflect:!0})],ln.prototype,"filled",2),yr([wr({type:Boolean,reflect:!0})],ln.prototype,"pill",2),yr([wr()],ln.prototype,"label",2),yr([wr({attribute:"help-text"})],ln.prototype,"helpText",2),yr([wr({type:Boolean})],ln.prototype,"clearable",2),yr([wr({attribute:"toggle-password",type:Boolean})],ln.prototype,"togglePassword",2),yr([wr()],ln.prototype,"placeholder",2),yr([wr({type:Boolean,reflect:!0})],ln.prototype,"disabled",2),yr([wr({type:Boolean,reflect:!0})],ln.prototype,"readonly",2),yr([wr({type:Number})],ln.prototype,"minlength",2),yr([wr({type:Number})],ln.prototype,"maxlength",2),yr([wr()],ln.prototype,"min",2),yr([wr()],ln.prototype,"max",2),yr([wr({type:Number})],ln.prototype,"step",2),yr([wr()],ln.prototype,"pattern",2),yr([wr({type:Boolean,reflect:!0})],ln.prototype,"required",2),yr([wr({type:Boolean,reflect:!0})],ln.prototype,"invalid",2),yr([wr()],ln.prototype,"autocapitalize",2),yr([wr()],ln.prototype,"autocorrect",2),yr([wr()],ln.prototype,"autocomplete",2),yr([wr({type:Boolean})],ln.prototype,"autofocus",2),yr([wr()],ln.prototype,"enterkeyhint",2),yr([wr({type:Boolean})],ln.prototype,"spellcheck",2),yr([wr()],ln.prototype,"inputmode",2),yr([Gr("disabled",{waitUntilFirstUpdate:!0})],ln.prototype,"handleDisabledChange",1),yr([Gr("value",{waitUntilFirstUpdate:!0})],ln.prototype,"handleValueChange",1),ln=yr([xr("sl-input")],ln);var cn="";function un(t){cn=t}var dn=[...document.getElementsByTagName("script")],pn=dn.find((t=>t.hasAttribute("data-shoelace")));if(pn)un(pn.getAttribute("data-shoelace"));else{const t=dn.find((t=>/shoelace(\.min)?\.js($|\?)/.test(t.src)));let e="";t&&(e=t.getAttribute("src")),un(e.split("/").slice(0,-1).join("/"))}var hn={"check-lg":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-lg" viewBox="0 0 16 16">\n      <path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"></path>\n    </svg>\n  ',"chevron-down":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">\n      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>\n    </svg>\n  ',"chevron-left":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">\n      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>\n    </svg>\n  ',"chevron-right":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">\n      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>\n    </svg>\n  ',eye:'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">\n      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>\n      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>\n    </svg>\n  ',"eye-slash":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">\n      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>\n      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>\n      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>\n    </svg>\n  ',eyedropper:'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">\n      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>\n    </svg>\n  ',"grip-vertical":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">\n      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>\n    </svg>\n  ',"person-fill":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">\n      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>\n    </svg>\n  ',"play-fill":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">\n      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>\n    </svg>\n  ',"pause-fill":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">\n      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>\n    </svg>\n  ',"star-fill":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">\n      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>\n    </svg>\n  ',x:'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16">\n      <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>\n    </svg>\n  ',"x-circle-fill":'\n    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">\n      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>\n    </svg>\n  '},fn=[{name:"default",resolver:t=>`${cn.replace(/\/$/,"")}/assets/icons/${t}.svg`},{name:"system",resolver:t=>t in hn?`data:image/svg+xml,${encodeURIComponent(hn[t])}`:""}],mn=[];function vn(t){return fn.find((e=>e.name===t))}var gn=new Map;var bn=new Map;async function yn(t){if(bn.has(t))return bn.get(t);const e=await function(t,e="cors"){if(gn.has(t))return gn.get(t);const o=fetch(t,{mode:e}).then((async t=>({ok:t.ok,status:t.status,html:await t.text()})));return gn.set(t,o),o}(t),o={ok:e.ok,status:e.status,svg:null};if(e.ok){const t=document.createElement("div");t.innerHTML=e.html;const i=t.firstElementChild;o.svg="svg"===(null==i?void 0:i.tagName.toLowerCase())?i.outerHTML:""}return bn.set(t,o),o}var xn=ci`
  ${Ji}

  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    contain: strict;
    box-sizing: content-box !important;
  }

  .icon,
  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`,_n=class extends ar{constructor(t){if(super(t),this.it=Li,t.type!==or)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===Li||null==t)return this.vt=void 0,this.it=t;if(t===Ri)return t;if("string"!=typeof t)throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.it)return this.vt;this.it=t;const e=[t];return e.raw=e,this.vt={_$litType$:this.constructor.resultType,strings:e,values:[]}}};_n.directiveName="unsafeHTML",_n.resultType=1;var wn=class extends _n{};wn.directiveName="unsafeSVG",wn.resultType=2;var An=nr(wn),En=new DOMParser,On=class extends Zi{constructor(){super(...arguments),this.svg="",this.label="",this.library="default"}connectedCallback(){var t;super.connectedCallback(),t=this,mn.push(t)}firstUpdated(){this.setIcon()}disconnectedCallback(){var t;super.disconnectedCallback(),t=this,mn=mn.filter((e=>e!==t))}getUrl(){const t=vn(this.library);return this.name&&t?t.resolver(this.name):this.src}redraw(){this.setIcon()}async setIcon(){var t;const e=vn(this.library),o=this.getUrl();if(o)try{const i=await yn(o);if(o!==this.getUrl())return;if(i.ok){const o=En.parseFromString(i.svg,"text/html").body.querySelector("svg");null!==o?(null==(t=null==e?void 0:e.mutator)||t.call(e,o),this.svg=o.outerHTML,Kr(this,"sl-load")):(this.svg="",Kr(this,"sl-error"))}else this.svg="",Kr(this,"sl-error")}catch(t){Kr(this,"sl-error")}else this.svg.length>0&&(this.svg="")}handleChange(){this.setIcon()}render(){const t="string"==typeof this.label&&this.label.length>0;return Di` <div
      part="base"
      class="icon"
      role=${Hr(t?"img":void 0)}
      aria-label=${Hr(t?this.label:void 0)}
      aria-hidden=${Hr(t?void 0:"true")}
    >
      ${An(this.svg)}
    </div>`}};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function In(t){const e=t.tagName.toLowerCase();return"-1"!==t.getAttribute("tabindex")&&(!t.hasAttribute("disabled")&&((!t.hasAttribute("aria-disabled")||"false"===t.getAttribute("aria-disabled"))&&(!("input"===e&&"radio"===t.getAttribute("type")&&!t.hasAttribute("checked"))&&(null!==t.offsetParent&&("hidden"!==window.getComputedStyle(t).visibility&&(!("audio"!==e&&"video"!==e||!t.hasAttribute("controls"))||(!!t.hasAttribute("tabindex")||(!(!t.hasAttribute("contenteditable")||"false"===t.getAttribute("contenteditable"))||["button","input","select","textarea","a","audio","video","summary"].includes(e)))))))))}function Sn(t){var e,o;const i=[];!function t(e){e instanceof HTMLElement&&(i.push(e),null!==e.shadowRoot&&"open"===e.shadowRoot.mode&&t(e.shadowRoot)),[...e.querySelectorAll("*")].forEach((e=>t(e)))}(t);return{start:null!=(e=i.find((t=>In(t))))?e:null,end:null!=(o=i.reverse().find((t=>In(t))))?o:null}}On.styles=xn,yr([Ar()],On.prototype,"svg",2),yr([wr()],On.prototype,"name",2),yr([wr()],On.prototype,"src",2),yr([wr()],On.prototype,"label",2),yr([wr()],On.prototype,"library",2),yr([Gr("name"),Gr("src"),Gr("library")],On.prototype,"setIcon",1),On=yr([xr("sl-icon")],On);var Cn=[];var kn=new Set;function Nn(t){kn.add(t),document.body.classList.add("sl-scroll-lock")}function Tn(t){kn.delete(t),0===kn.size&&document.body.classList.remove("sl-scroll-lock")}function qn(t,e,o="vertical",i="smooth"){const r=function(t,e){return{top:Math.round(t.getBoundingClientRect().top-e.getBoundingClientRect().top),left:Math.round(t.getBoundingClientRect().left-e.getBoundingClientRect().left)}}(t,e),n=r.top+e.scrollTop,a=r.left+e.scrollLeft,s=e.scrollLeft,l=e.scrollLeft+e.offsetWidth,c=e.scrollTop,u=e.scrollTop+e.offsetHeight;"horizontal"!==o&&"both"!==o||(a<s?e.scrollTo({left:a,behavior:i}):a+t.clientWidth>l&&e.scrollTo({left:a-e.offsetWidth+t.clientWidth,behavior:i})),"vertical"!==o&&"both"!==o||(n<c?e.scrollTo({top:n,behavior:i}):n+t.clientHeight>u&&e.scrollTo({top:n-e.offsetHeight+t.clientHeight,behavior:i}))}var Pn=ci`
  ${Ji}

  :host {
    --width: 31rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .dialog {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: var(--sl-z-index-dialog);
  }

  .dialog__panel {
    display: flex;
    flex-direction: column;
    z-index: 2;
    width: var(--width);
    max-width: calc(100% - var(--sl-spacing-2x-large));
    max-height: calc(100% - var(--sl-spacing-2x-large));
    background-color: var(--sl-panel-background-color);
    border-radius: var(--sl-border-radius-medium);
    box-shadow: var(--sl-shadow-x-large);
  }

  .dialog__panel:focus {
    outline: none;
  }

  /* Ensure there's enough vertical padding for phones that don't update vh when chrome appears (e.g. iPhone) */
  @media screen and (max-width: 420px) {
    .dialog__panel {
      max-height: 80vh;
    }
  }

  .dialog--open .dialog__panel {
    display: flex;
    opacity: 1;
    transform: none;
  }

  .dialog__header {
    flex: 0 0 auto;
    display: flex;
  }

  .dialog__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .dialog__close {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-x-large);
    padding: 0 var(--header-spacing);
  }

  .dialog__body {
    flex: 1 1 auto;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .dialog__footer {
    flex: 0 0 auto;
    text-align: right;
    padding: var(--footer-spacing);
  }

  .dialog__footer ::slotted(sl-button:not(:first-of-type)) {
    margin-left: var(--sl-spacing-x-small);
  }

  .dialog:not(.dialog--has-footer) .dialog__footer {
    display: none;
  }

  .dialog__overlay {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
  }
`;function Dn(t,e,o){return new Promise((i=>{if((null==o?void 0:o.duration)===1/0)throw new Error("Promise-based animations must be finite.");const r=t.animate(e,gr(vr({},o),{duration:Rn()?0:o.duration}));r.addEventListener("cancel",i,{once:!0}),r.addEventListener("finish",i,{once:!0})}))}function Rn(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function Ln(t){return Promise.all(t.getAnimations().map((t=>new Promise((e=>{const o=requestAnimationFrame(e);t.addEventListener("cancel",(()=>o),{once:!0}),t.addEventListener("finish",(()=>o),{once:!0}),t.cancel()})))))}function Mn(t,e){return t.map((t=>gr(vr({},t),{height:"auto"===t.height?`${e}px`:t.height})))}var $n=new Map,jn=new WeakMap;function zn(t,e){$n.set(t,function(t){return null!=t?t:{keyframes:[],options:{duration:0}}}(e))}function Fn(t,e){const o=jn.get(t);if(null==o?void 0:o[e])return o[e];const i=$n.get(e);return i||{keyframes:[],options:{duration:0}}}var Un=class extends Zi{constructor(){super(...arguments),this.hasSlotController=new Br(this,"footer"),this.localize=new nn(this),this.open=!1,this.label="",this.noHeader=!1}connectedCallback(){super.connectedCallback(),this.modal=new class{constructor(t){this.tabDirection="forward",this.element=t,this.handleFocusIn=this.handleFocusIn.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this)}activate(){Cn.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){Cn=Cn.filter((t=>t!==this.element)),document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return Cn[Cn.length-1]===this.element}checkFocus(){if(this.isActive()&&!this.element.matches(":focus-within")){const{start:t,end:e}=Sn(this.element),o="forward"===this.tabDirection?t:e;"function"==typeof(null==o?void 0:o.focus)&&o.focus({preventScroll:!0})}}handleFocusIn(){this.checkFocus()}handleKeyDown(t){"Tab"===t.key&&t.shiftKey&&(this.tabDirection="backward"),requestAnimationFrame((()=>this.checkFocus()))}handleKeyUp(){this.tabDirection="forward"}}(this)}firstUpdated(){this.dialog.hidden=!this.open,this.open&&(this.modal.activate(),Nn(this))}disconnectedCallback(){super.disconnectedCallback(),Tn(this)}async show(){if(!this.open)return this.open=!0,Wr(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,Wr(this,"sl-after-hide")}requestClose(t){if(Kr(this,"sl-request-close",{cancelable:!0,detail:{source:t}}).defaultPrevented){const t=Fn(this,"dialog.denyClose");Dn(this.panel,t.keyframes,t.options)}else this.hide()}handleKeyDown(t){"Escape"===t.key&&(t.stopPropagation(),this.requestClose("keyboard"))}async handleOpenChange(){if(this.open){Kr(this,"sl-show"),this.originalTrigger=document.activeElement,this.modal.activate(),Nn(this);const t=this.querySelector("[autofocus]");t&&t.removeAttribute("autofocus"),await Promise.all([Ln(this.dialog),Ln(this.overlay)]),this.dialog.hidden=!1,requestAnimationFrame((()=>{Kr(this,"sl-initial-focus",{cancelable:!0}).defaultPrevented||(t?t.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),t&&t.setAttribute("autofocus","")}));const e=Fn(this,"dialog.show"),o=Fn(this,"dialog.overlay.show");await Promise.all([Dn(this.panel,e.keyframes,e.options),Dn(this.overlay,o.keyframes,o.options)]),Kr(this,"sl-after-show")}else{Kr(this,"sl-hide"),this.modal.deactivate(),await Promise.all([Ln(this.dialog),Ln(this.overlay)]);const t=Fn(this,"dialog.hide"),e=Fn(this,"dialog.overlay.hide");await Promise.all([Dn(this.panel,t.keyframes,t.options),Dn(this.overlay,e.keyframes,e.options)]),this.dialog.hidden=!0,Tn(this);const o=this.originalTrigger;"function"==typeof(null==o?void 0:o.focus)&&setTimeout((()=>o.focus())),Kr(this,"sl-after-hide")}}render(){return Di`
      <div
        part="base"
        class=${sr({dialog:!0,"dialog--open":this.open,"dialog--has-footer":this.hasSlotController.test("footer")})}
        @keydown=${this.handleKeyDown}
      >
        <div part="overlay" class="dialog__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="dialog__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${Hr(this.noHeader?this.label:void 0)}
          aria-labelledby=${Hr(this.noHeader?void 0:"title")}
          tabindex="0"
        >
          ${this.noHeader?"":Di`
                <header part="header" class="dialog__header">
                  <h2 part="title" class="dialog__title" id="title">
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <sl-icon-button
                    part="close-button"
                    exportparts="base:close-button__base"
                    class="dialog__close"
                    name="x"
                    label=${this.localize.term("close")}
                    library="system"
                    @click="${()=>this.requestClose("close-button")}"
                  ></sl-icon-button>
                </header>
              `}

          <div part="body" class="dialog__body">
            <slot></slot>
          </div>

          <footer part="footer" class="dialog__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};Un.styles=Pn,yr([Or(".dialog")],Un.prototype,"dialog",2),yr([Or(".dialog__panel")],Un.prototype,"panel",2),yr([Or(".dialog__overlay")],Un.prototype,"overlay",2),yr([wr({type:Boolean,reflect:!0})],Un.prototype,"open",2),yr([wr({reflect:!0})],Un.prototype,"label",2),yr([wr({attribute:"no-header",type:Boolean,reflect:!0})],Un.prototype,"noHeader",2),yr([Gr("open",{waitUntilFirstUpdate:!0})],Un.prototype,"handleOpenChange",1),Un=yr([xr("sl-dialog")],Un),zn("dialog.show",{keyframes:[{opacity:0,transform:"scale(0.8)"},{opacity:1,transform:"scale(1)"}],options:{duration:250,easing:"ease"}}),zn("dialog.hide",{keyframes:[{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.8)"}],options:{duration:250,easing:"ease"}}),zn("dialog.denyClose",{keyframes:[{transform:"scale(1)"},{transform:"scale(1.02)"},{transform:"scale(1)"}],options:{duration:250}}),zn("dialog.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}}),zn("dialog.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}});var Bn=ci`
  ${Ji}

  :host {
    display: inline-block;
  }

  .icon-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    font-size: inherit;
    color: var(--sl-color-neutral-600);
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-medium) color;
    -webkit-appearance: none;
  }

  .icon-button:hover:not(.icon-button--disabled),
  .icon-button:focus:not(.icon-button--disabled) {
    color: var(--sl-color-primary-600);
  }

  .icon-button:active:not(.icon-button--disabled) {
    color: var(--sl-color-primary-700);
  }

  .icon-button:focus {
    outline: none;
  }

  .icon-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .icon-button${Pr} {
    box-shadow: var(--sl-focus-ring);
  }
`,Vn=class extends Zi{constructor(){super(...arguments),this.label="",this.disabled=!1}render(){const t=!!this.href,e=Di`
      <sl-icon
        name=${Hr(this.name)}
        library=${Hr(this.library)}
        src=${Hr(this.src)}
        aria-hidden="true"
      ></sl-icon>
    `;return t?Di`
          <a
            part="base"
            class="icon-button"
            href=${Hr(this.href)}
            target=${Hr(this.target)}
            download=${Hr(this.download)}
            rel=${Hr(this.target?"noreferrer noopener":void 0)}
            role="button"
            aria-disabled=${this.disabled?"true":"false"}
            aria-label="${this.label}"
            tabindex=${this.disabled?"-1":"0"}
          >
            ${e}
          </a>
        `:Di`
          <button
            part="base"
            class=${sr({"icon-button":!0,"icon-button--disabled":this.disabled})}
            ?disabled=${this.disabled}
            type="button"
            aria-label=${this.label}
          >
            ${e}
          </button>
        `}};Vn.styles=Bn,yr([Or(".icon-button")],Vn.prototype,"button",2),yr([wr()],Vn.prototype,"name",2),yr([wr()],Vn.prototype,"library",2),yr([wr()],Vn.prototype,"src",2),yr([wr()],Vn.prototype,"href",2),yr([wr()],Vn.prototype,"target",2),yr([wr()],Vn.prototype,"download",2),yr([wr()],Vn.prototype,"label",2),yr([wr({type:Boolean,reflect:!0})],Vn.prototype,"disabled",2),Vn=yr([xr("sl-icon-button")],Vn);var Hn=ci`
  ${Ji}

  :host {
    display: block;
  }

  .menu-item {
    position: relative;
    display: flex;
    align-items: stretch;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-letter-spacing-normal);
    text-align: left;
    color: var(--sl-color-neutral-700);
    padding: var(--sl-spacing-2x-small) var(--sl-spacing-2x-small);
    transition: var(--sl-transition-fast) fill;
    user-select: none;
    white-space: nowrap;
    cursor: pointer;
  }

  .menu-item.menu-item--disabled {
    outline: none;
    color: var(--sl-color-neutral-400);
    cursor: not-allowed;
  }

  .menu-item .menu-item__label {
    flex: 1 1 auto;
  }

  .menu-item .menu-item__prefix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__prefix ::slotted(*) {
    margin-right: var(--sl-spacing-x-small);
  }

  .menu-item .menu-item__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__suffix ::slotted(*) {
    margin-left: var(--sl-spacing-x-small);
  }

  :host(:focus) {
    outline: none;
  }

  :host(:hover:not([aria-disabled='true'])) .menu-item,
  :host(${Pr}:not(.sl-focus-invisible):not([aria-disabled='true'])) .menu-item {
    outline: none;
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .menu-item .menu-item__check,
  .menu-item .menu-item__chevron {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 1.5em;
    visibility: hidden;
  }

  .menu-item--checked .menu-item__check,
  .menu-item--has-submenu .menu-item__chevron {
    visibility: visible;
  }
`,Gn=class extends Zi{constructor(){super(...arguments),this.checked=!1,this.value="",this.disabled=!1}firstUpdated(){this.setAttribute("role","menuitem")}handleCheckedChange(){this.setAttribute("aria-checked",this.checked?"true":"false")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}render(){return Di`
      <div
        part="base"
        class=${sr({"menu-item":!0,"menu-item--checked":this.checked,"menu-item--disabled":this.disabled,"menu-item--has-submenu":!1})}
      >
        <span class="menu-item__check">
          <sl-icon name="check-lg" library="default" aria-hidden="true"></sl-icon>
        </span>

        <span part="prefix" class="menu-item__prefix">
          <slot name="prefix"></slot>
        </span>

        <span part="label" class="menu-item__label">
          <slot></slot>
        </span>

        <span part="suffix" class="menu-item__suffix">
          <slot name="suffix"></slot>
        </span>

        <span class="menu-item__chevron">
          <sl-icon name="chevron-right" library="default" aria-hidden="true"></sl-icon>
        </span>
      </div>
    `}};Gn.styles=Hn,yr([Or(".menu-item")],Gn.prototype,"menuItem",2),yr([wr({type:Boolean,reflect:!0})],Gn.prototype,"checked",2),yr([wr()],Gn.prototype,"value",2),yr([wr({type:Boolean,reflect:!0})],Gn.prototype,"disabled",2),yr([Gr("checked")],Gn.prototype,"handleCheckedChange",1),yr([Gr("disabled")],Gn.prototype,"handleDisabledChange",1),Gn=yr([xr("sl-menu-item")],Gn);var Kn=ci`
  ${Ji}
  ${Zr}

  :host {
    display: block;
  }

  .select {
    display: block;
  }

  .select__control {
    display: inline-flex;
    align-items: center;
    justify-content: start;
    position: relative;
    width: 100%;
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-input-font-weight);
    letter-spacing: var(--sl-input-letter-spacing);
    vertical-align: middle;
    overflow: hidden;
    transition: var(--sl-transition-fast) color, var(--sl-transition-fast) border, var(--sl-transition-fast) box-shadow;
    cursor: pointer;
  }

  .select__menu {
    max-height: 50vh;
    overflow: auto;
  }

  /* Standard selects */
  .select--standard .select__control {
    background-color: var(--sl-input-background-color);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
    color: var(--sl-input-color);
  }

  .select--standard:not(.select--disabled) .select__control:hover {
    background-color: var(--sl-input-background-color-hover);
    border-color: var(--sl-input-border-color-hover);
    color: var(--sl-input-color-hover);
  }

  .select--standard.select--focused:not(.select--disabled) .select__control {
    background-color: var(--sl-input-background-color-focus);
    border-color: var(--sl-input-border-color-focus);
    box-shadow: var(--sl-focus-ring);
    outline: none;
    color: var(--sl-input-color-focus);
  }

  .select--standard.select--disabled .select__control {
    background-color: var(--sl-input-background-color-disabled);
    border-color: var(--sl-input-border-color-disabled);
    color: var(--sl-input-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
    outline: none;
  }

  /* Filled selects */
  .select--filled .select__control {
    border: none;
    background-color: var(--sl-input-filled-background-color);
    color: var(--sl-input-color);
  }

  .select--filled:hover:not(.select--disabled) .select__control {
    background-color: var(--sl-input-filled-background-color-hover);
  }

  .select--filled.select--focused:not(.select--disabled) .select__control {
    outline: none;
    background-color: var(--sl-input-filled-background-color-focus);
    box-shadow: var(--sl-focus-ring);
  }

  .select--filled.select--disabled .select__control {
    background-color: var(--sl-input-filled-background-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .select--disabled .select__tags,
  .select--disabled .select__clear {
    pointer-events: none;
  }

  .select__prefix {
    display: inline-flex;
    align-items: center;
    color: var(--sl-input-placeholder-color);
  }

  .select__label {
    flex: 1 1 auto;
    display: flex;
    align-items: center;
    user-select: none;
    overflow-x: auto;
    overflow-y: hidden;
    white-space: nowrap;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .select__label::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .select__clear {
    flex: 0 0 auto;
    display: inline-flex;
    align-items: center;
    width: 1.25em;
    font-size: inherit;
    color: var(--sl-input-icon-color);
    border: none;
    background: none;
    padding: 0;
    transition: var(--sl-transition-fast) color;
    cursor: pointer;
  }

  .select__clear:hover {
    color: var(--sl-input-icon-color-hover);
  }

  .select__suffix {
    display: inline-flex;
    align-items: center;
    color: var(--sl-input-placeholder-color);
  }

  .select__icon {
    flex: 0 0 auto;
    display: inline-flex;
    transition: var(--sl-transition-medium) transform ease;
  }

  .select--open .select__icon {
    transform: rotate(-180deg);
  }

  /* Placeholder */
  .select--placeholder-visible .select__label {
    color: var(--sl-input-placeholder-color);
  }

  .select--disabled.select--placeholder-visible .select__label {
    color: var(--sl-input-placeholder-color-disabled);
  }

  /* Tags */
  .select__tags {
    display: inline-flex;
    align-items: center;
    flex-wrap: wrap;
    justify-content: left;
    margin-left: var(--sl-spacing-2x-small);
  }

  /* Hidden input (for form control validation to show) */
  .select__hidden-select {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    clip: rect(0 0 0 0);
    clip-path: inset(50%);
    overflow: hidden;
    white-space: nowrap;
  }

  /*
   * Size modifiers
   */

  /* Small */
  .select--small .select__control {
    border-radius: var(--sl-input-border-radius-small);
    font-size: var(--sl-input-font-size-small);
    min-height: var(--sl-input-height-small);
  }

  .select--small .select__prefix ::slotted(*) {
    margin-left: var(--sl-input-spacing-small);
  }

  .select--small .select__label {
    margin: 0 var(--sl-input-spacing-small);
  }

  .select--small .select__clear {
    margin-right: var(--sl-input-spacing-small);
  }

  .select--small .select__suffix ::slotted(*) {
    margin-right: var(--sl-input-spacing-small);
  }

  .select--small .select__icon {
    margin-right: var(--sl-input-spacing-small);
  }

  .select--small .select__tags {
    padding-bottom: 2px;
  }

  .select--small .select__tags sl-tag {
    padding-top: 2px;
  }

  .select--small .select__tags sl-tag:not(:last-of-type) {
    margin-right: var(--sl-spacing-2x-small);
  }

  .select--small.select--has-tags .select__label {
    margin-left: 0;
  }

  /* Medium */
  .select--medium .select__control {
    border-radius: var(--sl-input-border-radius-medium);
    font-size: var(--sl-input-font-size-medium);
    min-height: var(--sl-input-height-medium);
  }

  .select--medium .select__prefix ::slotted(*) {
    margin-left: var(--sl-input-spacing-medium);
  }

  .select--medium .select__label {
    margin: 0 var(--sl-input-spacing-medium);
  }

  .select--medium .select__clear {
    margin-right: var(--sl-input-spacing-medium);
  }

  .select--medium .select__suffix ::slotted(*) {
    margin-right: var(--sl-input-spacing-medium);
  }

  .select--medium .select__icon {
    margin-right: var(--sl-input-spacing-medium);
  }

  .select--medium .select__tags {
    padding-bottom: 3px;
  }

  .select--medium .select__tags sl-tag {
    padding-top: 3px;
  }

  .select--medium .select__tags sl-tag:not(:last-of-type) {
    margin-right: var(--sl-spacing-2x-small);
  }

  .select--medium.select--has-tags .select__label {
    margin-left: 0;
  }

  /* Large */
  .select--large .select__control {
    border-radius: var(--sl-input-border-radius-large);
    font-size: var(--sl-input-font-size-large);
    min-height: var(--sl-input-height-large);
  }

  .select--large .select__prefix ::slotted(*) {
    margin-left: var(--sl-input-spacing-large);
  }

  .select--large .select__label {
    margin: 0 var(--sl-input-spacing-large);
  }

  .select--large .select__clear {
    margin-right: var(--sl-input-spacing-large);
  }

  .select--large .select__suffix ::slotted(*) {
    margin-right: var(--sl-input-spacing-large);
  }

  .select--large .select__icon {
    margin-right: var(--sl-input-spacing-large);
  }

  .select--large .select__tags {
    padding-bottom: 4px;
  }
  .select--large .select__tags sl-tag {
    padding-top: 4px;
  }

  .select--large .select__tags sl-tag:not(:last-of-type) {
    margin-right: var(--sl-spacing-2x-small);
  }

  .select--large.select--has-tags .select__label {
    margin-left: 0;
  }

  /*
   * Pill modifier
   */
  .select--pill.select--small .select__control {
    border-radius: var(--sl-input-height-small);
  }

  .select--pill.select--medium .select__control {
    border-radius: var(--sl-input-height-medium);
  }

  .select--pill.select--large .select__control {
    border-radius: var(--sl-input-height-large);
  }
`,Wn=class extends Zi{constructor(){super(...arguments),this.formSubmitController=new Ur(this),this.hasSlotController=new Br(this,"help-text","label"),this.localize=new nn(this),this.hasFocus=!1,this.isOpen=!1,this.displayLabel="",this.displayTags=[],this.multiple=!1,this.maxTagsVisible=3,this.disabled=!1,this.name="",this.placeholder="",this.size="medium",this.hoist=!1,this.value="",this.filled=!1,this.pill=!1,this.label="",this.placement="bottom",this.helpText="",this.required=!1,this.clearable=!1,this.invalid=!1}connectedCallback(){super.connectedCallback(),this.handleMenuSlotChange=this.handleMenuSlotChange.bind(this),this.resizeObserver=new ResizeObserver((()=>this.resizeMenu())),this.updateComplete.then((()=>{this.resizeObserver.observe(this),this.syncItemsFromValue()}))}firstUpdated(){this.invalid=!this.input.checkValidity()}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver.unobserve(this)}reportValidity(){return this.input.reportValidity()}setCustomValidity(t){this.input.setCustomValidity(t),this.invalid=!this.input.checkValidity()}getItemLabel(t){return Vr(t.shadowRoot.querySelector("slot:not([name])"))}getItems(){return[...this.querySelectorAll("sl-menu-item")]}getValueAsArray(){return this.multiple&&""===this.value?[]:Array.isArray(this.value)?this.value:[this.value]}focus(t){this.control.focus(t)}blur(){this.control.blur()}handleBlur(){this.isOpen||(this.hasFocus=!1,Kr(this,"sl-blur"))}handleClearClick(t){t.stopPropagation(),this.value=this.multiple?[]:"",Kr(this,"sl-clear"),this.syncItemsFromValue()}handleDisabledChange(){this.disabled&&this.isOpen&&this.dropdown.hide(),this.input.disabled=this.disabled,this.invalid=!this.input.checkValidity()}handleFocus(){this.hasFocus||(this.hasFocus=!0,Kr(this,"sl-focus"))}handleKeyDown(t){const e=t.target,o=this.getItems(),i=o[0],r=o[o.length-1];if("sl-tag"!==e.tagName.toLowerCase())if("Tab"!==t.key){if(["ArrowDown","ArrowUp"].includes(t.key)){if(t.preventDefault(),this.isOpen||this.dropdown.show(),"ArrowDown"===t.key)return this.menu.setCurrentItem(i),void i.focus();if("ArrowUp"===t.key)return this.menu.setCurrentItem(r),void r.focus()}t.ctrlKey||t.metaKey||this.isOpen||1!==t.key.length||(t.stopPropagation(),t.preventDefault(),this.dropdown.show(),this.menu.typeToSelect(t))}else this.isOpen&&this.dropdown.hide()}handleLabelClick(){this.focus()}handleMenuSelect(t){const e=t.detail.item;this.multiple?this.value=this.value.includes(e.value)?this.value.filter((t=>t!==e.value)):[...this.value,e.value]:this.value=e.value,this.syncItemsFromValue()}handleMenuShow(){this.resizeMenu(),this.isOpen=!0}handleMenuHide(){this.isOpen=!1,this.control.focus()}handleMultipleChange(){var t;const e=this.getValueAsArray();this.value=this.multiple?e:null!=(t=e[0])?t:"",this.syncItemsFromValue()}async handleMenuSlotChange(){const t=this.getItems(),e=[];t.forEach((t=>{e.includes(t.value)&&console.error(`Duplicate value found in <sl-select> menu item: '${t.value}'`,t),e.push(t.value)})),await Promise.all(t.map((t=>t.render))).then((()=>this.syncItemsFromValue()))}handleTagInteraction(t){t.composedPath().find((t=>{if(t instanceof HTMLElement){return t.classList.contains("tag__remove")}return!1}))&&t.stopPropagation()}async handleValueChange(){this.syncItemsFromValue(),await this.updateComplete,this.invalid=!this.input.checkValidity(),Kr(this,"sl-change")}resizeMenu(){this.menu.style.width=`${this.control.clientWidth}px`,this.dropdown.reposition()}syncItemsFromValue(){const t=this.getItems(),e=this.getValueAsArray();if(t.map((t=>t.checked=e.includes(t.value))),this.multiple){const o=t.filter((t=>e.includes(t.value)));if(this.displayLabel=o.length>0?this.getItemLabel(o[0]):"",this.displayTags=o.map((t=>Di`
          <sl-tag
            part="tag"
            exportparts="
              base:tag__base,
              content:tag__content,
              remove-button:tag__remove-button
            "
            variant="neutral"
            size=${this.size}
            ?pill=${this.pill}
            removable
            @click=${this.handleTagInteraction}
            @keydown=${this.handleTagInteraction}
            @sl-remove=${e=>{e.stopPropagation(),this.disabled||(t.checked=!1,this.syncValueFromItems())}}
          >
            ${this.getItemLabel(t)}
          </sl-tag>
        `)),this.maxTagsVisible>0&&this.displayTags.length>this.maxTagsVisible){const t=this.displayTags.length;this.displayLabel="",this.displayTags=this.displayTags.slice(0,this.maxTagsVisible),this.displayTags.push(Di`
          <sl-tag
            part="tag"
            exportparts="
              base:tag__base,
              content:tag__content,
              remove-button:tag__remove-button
            "
            variant="neutral"
            size=${this.size}
          >
            +${t-this.maxTagsVisible}
          </sl-tag>
        `)}}else{const o=t.find((t=>t.value===e[0]));this.displayLabel=o?this.getItemLabel(o):"",this.displayTags=[]}}syncValueFromItems(){const t=this.getItems().filter((t=>t.checked)).map((t=>t.value));this.multiple?this.value=this.value.filter((e=>t.includes(e))):this.value=t.length>0?t[0]:""}render(){const t=this.hasSlotController.test("label"),e=this.hasSlotController.test("help-text"),o=this.multiple?this.value.length>0:""!==this.value,i=!!this.label||!!t,r=!!this.helpText||!!e;return Di`
      <div
        part="form-control"
        class=${sr({"form-control":!0,"form-control--small":"small"===this.size,"form-control--medium":"medium"===this.size,"form-control--large":"large"===this.size,"form-control--has-label":i,"form-control--has-help-text":r})}
      >
        <label
          part="form-control-label"
          class="form-control__label"
          for="input"
          aria-hidden=${i?"false":"true"}
          @click=${this.handleLabelClick}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <sl-dropdown
            part="base"
            .hoist=${this.hoist}
            .placement=${this.placement}
            .stayOpenOnSelect=${this.multiple}
            .containingElement=${this}
            ?disabled=${this.disabled}
            class=${sr({select:!0,"select--open":this.isOpen,"select--empty":0===this.value.length,"select--focused":this.hasFocus,"select--clearable":this.clearable,"select--disabled":this.disabled,"select--multiple":this.multiple,"select--standard":!this.filled,"select--filled":this.filled,"select--has-tags":this.multiple&&this.displayTags.length>0,"select--placeholder-visible":""===this.displayLabel,"select--small":"small"===this.size,"select--medium":"medium"===this.size,"select--large":"large"===this.size,"select--pill":this.pill,"select--invalid":this.invalid})}
            @sl-show=${this.handleMenuShow}
            @sl-hide=${this.handleMenuHide}
          >
            <div
              part="control"
              slot="trigger"
              id="input"
              class="select__control"
              role="combobox"
              aria-describedby="help-text"
              aria-haspopup="true"
              aria-disabled=${this.disabled?"true":"false"}
              aria-expanded=${this.isOpen?"true":"false"}
              aria-controls="menu"
              tabindex=${this.disabled?"-1":"0"}
              @blur=${this.handleBlur}
              @focus=${this.handleFocus}
              @keydown=${this.handleKeyDown}
            >
              <span part="prefix" class="select__prefix">
                <slot name="prefix"></slot>
              </span>

              <div part="display-label" class="select__label">
                ${this.displayTags.length>0?Di` <span part="tags" class="select__tags"> ${this.displayTags} </span> `:this.displayLabel.length>0?this.displayLabel:this.placeholder}
              </div>

              ${this.clearable&&o?Di`
                    <button
                      part="clear-button"
                      class="select__clear"
                      @click=${this.handleClearClick}
                      aria-label=${this.localize.term("clearEntry")}
                      tabindex="-1"
                    >
                      <slot name="clear-icon">
                        <sl-icon name="x-circle-fill" library="system"></sl-icon>
                      </slot>
                    </button>
                  `:""}

              <span part="suffix" class="select__suffix">
                <slot name="suffix"></slot>
              </span>

              <span part="icon" class="select__icon" aria-hidden="true">
                <sl-icon name="chevron-down" library="system"></sl-icon>
              </span>

              <!-- The hidden input tricks the browser's built-in validation so it works as expected. We use an input
              instead of a select because, otherwise, iOS will show a list of options during validation. The focus
              handler is used to move focus to the primary control when it's marked invalid.  -->
              <input
                class="select__hidden-select"
                aria-hidden="true"
                ?required=${this.required}
                .value=${o?"1":""}
                tabindex="-1"
                @focus=${()=>this.control.focus()}
              />
            </div>

            <sl-menu part="menu" id="menu" class="select__menu" @sl-select=${this.handleMenuSelect}>
              <slot @slotchange=${this.handleMenuSlotChange}></slot>
            </sl-menu>
          </sl-dropdown>
        </div>

        <div
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${r?"false":"true"}
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </div>
    `}};Wn.styles=Kn,yr([Or(".select")],Wn.prototype,"dropdown",2),yr([Or(".select__control")],Wn.prototype,"control",2),yr([Or(".select__hidden-select")],Wn.prototype,"input",2),yr([Or(".select__menu")],Wn.prototype,"menu",2),yr([Ar()],Wn.prototype,"hasFocus",2),yr([Ar()],Wn.prototype,"isOpen",2),yr([Ar()],Wn.prototype,"displayLabel",2),yr([Ar()],Wn.prototype,"displayTags",2),yr([wr({type:Boolean,reflect:!0})],Wn.prototype,"multiple",2),yr([wr({attribute:"max-tags-visible",type:Number})],Wn.prototype,"maxTagsVisible",2),yr([wr({type:Boolean,reflect:!0})],Wn.prototype,"disabled",2),yr([wr()],Wn.prototype,"name",2),yr([wr()],Wn.prototype,"placeholder",2),yr([wr()],Wn.prototype,"size",2),yr([wr({type:Boolean})],Wn.prototype,"hoist",2),yr([wr()],Wn.prototype,"value",2),yr([wr({type:Boolean,reflect:!0})],Wn.prototype,"filled",2),yr([wr({type:Boolean,reflect:!0})],Wn.prototype,"pill",2),yr([wr()],Wn.prototype,"label",2),yr([wr()],Wn.prototype,"placement",2),yr([wr({attribute:"help-text"})],Wn.prototype,"helpText",2),yr([wr({type:Boolean,reflect:!0})],Wn.prototype,"required",2),yr([wr({type:Boolean})],Wn.prototype,"clearable",2),yr([wr({type:Boolean,reflect:!0})],Wn.prototype,"invalid",2),yr([Gr("disabled",{waitUntilFirstUpdate:!0})],Wn.prototype,"handleDisabledChange",1),yr([Gr("multiple")],Wn.prototype,"handleMultipleChange",1),yr([Gr("value",{waitUntilFirstUpdate:!0})],Wn.prototype,"handleValueChange",1),Wn=yr([xr("sl-select")],Wn);var Qn=ci`
  ${Ji}

  :host {
    display: inline-block;
  }

  .tag {
    display: flex;
    align-items: center;
    border: solid 1px;
    line-height: 1;
    white-space: nowrap;
    user-select: none;
    cursor: default;
  }

  .tag__remove::part(base) {
    color: inherit;
    padding: 0;
  }

  /*
   * Variant modifiers
   */

  .tag--primary {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-200);
    color: var(--sl-color-primary-800);
  }

  .tag--success {
    background-color: var(--sl-color-success-50);
    border-color: var(--sl-color-success-200);
    color: var(--sl-color-success-800);
  }

  .tag--neutral {
    background-color: var(--sl-color-neutral-50);
    border-color: var(--sl-color-neutral-200);
    color: var(--sl-color-neutral-800);
  }

  .tag--warning {
    background-color: var(--sl-color-warning-50);
    border-color: var(--sl-color-warning-200);
    color: var(--sl-color-warning-800);
  }

  .tag--danger {
    background-color: var(--sl-color-danger-50);
    border-color: var(--sl-color-danger-200);
    color: var(--sl-color-danger-800);
  }

  /*
   * Size modifiers
   */

  .tag--small {
    font-size: var(--sl-button-font-size-small);
    height: calc(var(--sl-input-height-small) * 0.8);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
    padding: 0 var(--sl-spacing-x-small);
  }

  .tag--small .tag__remove {
    margin-left: var(--sl-spacing-2x-small);
    margin-right: calc(-1 * var(--sl-spacing-3x-small));
  }

  .tag--medium {
    font-size: var(--sl-button-font-size-medium);
    height: calc(var(--sl-input-height-medium) * 0.8);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
    padding: 0 var(--sl-spacing-small);
  }

  .tag__remove {
    margin-left: var(--sl-spacing-2x-small);
    margin-right: calc(-1 * var(--sl-spacing-2x-small));
  }

  .tag--large {
    font-size: var(--sl-button-font-size-large);
    height: calc(var(--sl-input-height-large) * 0.8);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
    padding: 0 var(--sl-spacing-medium);
  }

  .tag__remove {
    font-size: 1.4em;
    margin-left: var(--sl-spacing-2x-small);
    margin-right: calc(-1 * var(--sl-spacing-x-small));
  }

  /*
   * Pill modifier
   */

  .tag--pill {
    border-radius: var(--sl-border-radius-pill);
  }
`,Xn=class extends Zi{constructor(){super(...arguments),this.localize=new nn(this),this.variant="neutral",this.size="medium",this.pill=!1,this.removable=!1}handleRemoveClick(){Kr(this,"sl-remove")}render(){return Di`
      <span
        part="base"
        class=${sr({tag:!0,"tag--primary":"primary"===this.variant,"tag--success":"success"===this.variant,"tag--neutral":"neutral"===this.variant,"tag--warning":"warning"===this.variant,"tag--danger":"danger"===this.variant,"tag--text":"text"===this.variant,"tag--small":"small"===this.size,"tag--medium":"medium"===this.size,"tag--large":"large"===this.size,"tag--pill":this.pill,"tag--removable":this.removable})}
      >
        <span part="content" class="tag__content">
          <slot></slot>
        </span>

        ${this.removable?Di`
              <sl-icon-button
                part="remove-button"
                exportparts="base:remove-button__base"
                name="x"
                library="system"
                label=${this.localize.term("remove")}
                class="tag__remove"
                @click=${this.handleRemoveClick}
              ></sl-icon-button>
            `:""}
      </span>
    `}};Xn.styles=Qn,yr([wr({reflect:!0})],Xn.prototype,"variant",2),yr([wr({reflect:!0})],Xn.prototype,"size",2),yr([wr({type:Boolean,reflect:!0})],Xn.prototype,"pill",2),yr([wr({type:Boolean})],Xn.prototype,"removable",2),Xn=yr([xr("sl-tag")],Xn);var Zn=ci`
  ${Ji}

  :host {
    display: block;
  }

  .menu {
    background: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-radius: var(--sl-border-radius-medium);
    background: var(--sl-panel-background-color);
    padding: var(--sl-spacing-x-small) 0;
  }

  ::slotted(sl-divider) {
    --spacing: var(--sl-spacing-x-small);
  }
`,Yn=class extends Zi{constructor(){super(...arguments),this.typeToSelectString=""}firstUpdated(){this.setAttribute("role","menu")}getAllItems(t={includeDisabled:!0}){return[...this.defaultSlot.assignedElements({flatten:!0})].filter((e=>"menuitem"===e.getAttribute("role")&&!(!t.includeDisabled&&e.disabled)))}getCurrentItem(){return this.getAllItems({includeDisabled:!1}).find((t=>"0"===t.getAttribute("tabindex")))}setCurrentItem(t){const e=this.getAllItems({includeDisabled:!1}),o=t.disabled?e[0]:t;e.forEach((t=>{t.setAttribute("tabindex",t===o?"0":"-1")}))}typeToSelect(t){var e;const o=this.getAllItems({includeDisabled:!1});clearTimeout(this.typeToSelectTimeout),this.typeToSelectTimeout=window.setTimeout((()=>this.typeToSelectString=""),1e3),"Backspace"===t.key?t.metaKey||t.ctrlKey?this.typeToSelectString="":this.typeToSelectString=this.typeToSelectString.slice(0,-1):this.typeToSelectString+=t.key.toLowerCase(),qr||o.forEach((t=>t.classList.remove("sl-focus-invisible")));for(const t of o){if(Vr(null==(e=t.shadowRoot)?void 0:e.querySelector("slot:not([name])")).toLowerCase().trim().startsWith(this.typeToSelectString)){this.setCurrentItem(t),t.focus();break}}}handleClick(t){const e=t.target.closest("sl-menu-item");!1===(null==e?void 0:e.disabled)&&Kr(this,"sl-select",{detail:{item:e}})}handleKeyUp(){if(!qr){this.getAllItems().forEach((t=>{t.classList.remove("sl-focus-invisible")}))}}handleKeyDown(t){if("Enter"===t.key){const e=this.getCurrentItem();t.preventDefault(),null==e||e.click()}if(" "===t.key&&t.preventDefault(),["ArrowDown","ArrowUp","Home","End"].includes(t.key)){const e=this.getAllItems({includeDisabled:!1}),o=this.getCurrentItem();let i=o?e.indexOf(o):0;if(e.length>0)return t.preventDefault(),"ArrowDown"===t.key?i++:"ArrowUp"===t.key?i--:"Home"===t.key?i=0:"End"===t.key&&(i=e.length-1),i<0&&(i=e.length-1),i>e.length-1&&(i=0),this.setCurrentItem(e[i]),void e[i].focus()}this.typeToSelect(t)}handleMouseDown(t){const e=t.target;"menuitem"===e.getAttribute("role")&&(this.setCurrentItem(e),qr||e.classList.add("sl-focus-invisible"))}handleSlotChange(){const t=this.getAllItems({includeDisabled:!1});t.length>0&&this.setCurrentItem(t[0])}render(){return Di`
      <div
        part="base"
        class="menu"
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @keyup=${this.handleKeyUp}
        @mousedown=${this.handleMouseDown}
      >
        <slot @slotchange=${this.handleSlotChange}></slot>
      </div>
    `}};function Jn(t){return t.split("-")[0]}function ta(t){return t.split("-")[1]}function ea(t){return["top","bottom"].includes(Jn(t))?"x":"y"}function oa(t){return"y"===t?"height":"width"}function ia(t,e,o){let{reference:i,floating:r}=t;const n=i.x+i.width/2-r.width/2,a=i.y+i.height/2-r.height/2,s=ea(e),l=oa(s),c=i[l]/2-r[l]/2,u="x"===s;let d;switch(Jn(e)){case"top":d={x:n,y:i.y-r.height};break;case"bottom":d={x:n,y:i.y+i.height};break;case"right":d={x:i.x+i.width,y:a};break;case"left":d={x:i.x-r.width,y:a};break;default:d={x:i.x,y:i.y}}switch(ta(e)){case"start":d[s]-=c*(o&&u?-1:1);break;case"end":d[s]+=c*(o&&u?-1:1)}return d}Yn.styles=Zn,yr([Or(".menu")],Yn.prototype,"menu",2),yr([Or("slot")],Yn.prototype,"defaultSlot",2),Yn=yr([xr("sl-menu")],Yn);function ra(t){return"number"!=typeof t?function(t){return vr({top:0,right:0,bottom:0,left:0},t)}(t):{top:t,right:t,bottom:t,left:t}}function na(t){return gr(vr({},t),{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}async function aa(t,e){var o;void 0===e&&(e={});const{x:i,y:r,platform:n,rects:a,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:h=0}=e,f=ra(h),m=s[p?"floating"===d?"reference":"floating":d],v=na(await n.getClippingRect({element:null==(o=await(null==n.isElement?void 0:n.isElement(m)))||o?m:m.contextElement||await(null==n.getDocumentElement?void 0:n.getDocumentElement(s.floating)),boundary:c,rootBoundary:u})),g=na(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({rect:"floating"===d?gr(vr({},a.floating),{x:i,y:r}):a.reference,offsetParent:await(null==n.getOffsetParent?void 0:n.getOffsetParent(s.floating)),strategy:l}):a[d]);return{top:v.top-g.top+f.top,bottom:g.bottom-v.bottom+f.bottom,left:v.left-g.left+f.left,right:g.right-v.right+f.right}}var sa=Math.min,la=Math.max;function ca(t,e,o){return la(t,sa(e,o))}var ua={left:"right",right:"left",bottom:"top",top:"bottom"};function da(t){return t.replace(/left|right|bottom|top/g,(t=>ua[t]))}var pa={start:"end",end:"start"};function ha(t){return t.replace(/start|end/g,(t=>pa[t]))}var fa=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var o;const{placement:i,middlewareData:r,rects:n,initialPlacement:a,platform:s,elements:l}=e,c=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:h="bestFit",flipAlignment:f=!0}=c,m=br(c,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment"]),v=Jn(i),g=p||(v===a||!f?[da(a)]:function(t){const e=da(t);return[ha(t),e,ha(e)]}(a)),b=[a,...g],y=await aa(e,m),x=[];let _=(null==(o=r.flip)?void 0:o.overflows)||[];if(u&&x.push(y[v]),d){const{main:t,cross:e}=function(t,e,o){void 0===o&&(o=!1);const i=ta(t),r=ea(t),n=oa(r);let a="x"===r?i===(o?"end":"start")?"right":"left":"start"===i?"bottom":"top";return e.reference[n]>e.floating[n]&&(a=da(a)),{main:a,cross:da(a)}}(i,n,await(null==s.isRTL?void 0:s.isRTL(l.floating)));x.push(y[t],y[e])}if(_=[..._,{placement:i,overflows:x}],!x.every((t=>t<=0))){var w,A;const t=(null!=(w=null==(A=r.flip)?void 0:A.index)?w:0)+1,e=b[t];if(e)return{data:{index:t,overflows:_},reset:{skip:!1,placement:e}};let o="bottom";switch(h){case"bestFit":{var E;const t=null==(E=_.slice().sort(((t,e)=>t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)-e.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)))[0])?void 0:E.placement;t&&(o=t);break}case"initialPlacement":o=a}return{reset:{placement:o}}}return{}}}};var ma=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){const{x:o,y:i,placement:r,rects:n,platform:a,elements:s}=e,l=function(t,e,o,i){void 0===i&&(i=!1);const r=Jn(t),n=ta(t),a="x"===ea(t),s=["left","top"].includes(r)?-1:1;let l=1;"end"===n&&(l=-1),i&&a&&(l*=-1);const c="function"==typeof o?o(gr(vr({},e),{placement:t})):o,{mainAxis:u,crossAxis:d}="number"==typeof c?{mainAxis:c,crossAxis:0}:vr({mainAxis:0,crossAxis:0},c);return a?{x:d*l,y:u*s}:{x:u*s,y:d*l}}(r,n,t,await(null==a.isRTL?void 0:a.isRTL(s.floating)));return{x:o+l.x,y:i+l.y,data:l}}}};var va=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){const{placement:o,rects:i,platform:r,elements:n}=e,a=t,{apply:s}=a,l=br(a,["apply"]),c=await aa(e,l),u=Jn(o),d=ta(o);let p,h;"top"===u||"bottom"===u?(p=u,h=d===(await(null==r.isRTL?void 0:r.isRTL(n.floating))?"start":"end")?"left":"right"):(h=u,p="end"===d?"top":"bottom");const f=la(c.left,0),m=la(c.right,0),v=la(c.top,0),g=la(c.bottom,0),b={height:i.floating.height-(["left","right"].includes(o)?2*(0!==v||0!==g?v+g:la(c.top,c.bottom)):c[p]),width:i.floating.width-(["top","bottom"].includes(o)?2*(0!==f||0!==m?f+m:la(c.left,c.right)):c[h])};return null==s||s(vr(vr({},b),i)),{reset:{rects:!0}}}}};function ga(t){return"[object Window]"===(null==t?void 0:t.toString())}function ba(t){if(null==t)return window;if(!ga(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function ya(t){return ba(t).getComputedStyle(t)}function xa(t){return ga(t)?"":t?(t.nodeName||"").toLowerCase():""}function _a(t){return t instanceof ba(t).HTMLElement}function wa(t){return t instanceof ba(t).Element}function Aa(t){return t instanceof ba(t).ShadowRoot||t instanceof ShadowRoot}function Ea(t){const{overflow:e,overflowX:o,overflowY:i}=ya(t);return/auto|scroll|overlay|hidden/.test(e+i+o)}function Oa(t){return["table","td","th"].includes(xa(t))}function Ia(t){const e=navigator.userAgent.toLowerCase().includes("firefox"),o=ya(t);return"none"!==o.transform||"none"!==o.perspective||"paint"===o.contain||["transform","perspective"].includes(o.willChange)||e&&"filter"===o.willChange||e&&!!o.filter&&"none"!==o.filter}var Sa=Math.min,Ca=Math.max,ka=Math.round;function Na(t,e){void 0===e&&(e=!1);const o=t.getBoundingClientRect();let i=1,r=1;return e&&_a(t)&&(i=t.offsetWidth>0&&ka(o.width)/t.offsetWidth||1,r=t.offsetHeight>0&&ka(o.height)/t.offsetHeight||1),{width:o.width/i,height:o.height/r,top:o.top/r,right:o.right/i,bottom:o.bottom/r,left:o.left/i,x:o.left/i,y:o.top/r}}function Ta(t){return(e=t,(e instanceof ba(e).Node?t.ownerDocument:t.document)||window.document).documentElement;var e}function qa(t){return ga(t)?{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}:{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Pa(t){return Na(Ta(t)).left+qa(t).scrollLeft}function Da(t,e,o){const i=_a(e),r=Ta(e),n=Na(t,i&&function(t){const e=Na(t);return ka(e.width)!==t.offsetWidth||ka(e.height)!==t.offsetHeight}(e));let a={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if(i||!i&&"fixed"!==o)if(("body"!==xa(e)||Ea(r))&&(a=qa(e)),_a(e)){const t=Na(e,!0);s.x=t.x+e.clientLeft,s.y=t.y+e.clientTop}else r&&(s.x=Pa(r));return{x:n.left+a.scrollLeft-s.x,y:n.top+a.scrollTop-s.y,width:n.width,height:n.height}}function Ra(t){return"html"===xa(t)?t:t.assignedSlot||t.parentNode||(Aa(t)?t.host:null)||Ta(t)}function La(t){return _a(t)&&"fixed"!==getComputedStyle(t).position?t.offsetParent:null}function Ma(t){const e=ba(t);let o=La(t);for(;o&&Oa(o)&&"static"===getComputedStyle(o).position;)o=La(o);return o&&("html"===xa(o)||"body"===xa(o)&&"static"===getComputedStyle(o).position&&!Ia(o))?e:o||function(t){let e=Ra(t);for(Aa(e)&&(e=e.host);_a(e)&&!["html","body"].includes(xa(e));){if(Ia(e))return e;e=e.parentNode}return null}(t)||e}function $a(t){if(_a(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=Na(t);return{width:e.width,height:e.height}}function ja(t){return["html","body","#document"].includes(xa(t))?t.ownerDocument.body:_a(t)&&Ea(t)?t:ja(Ra(t))}function za(t,e){var o;void 0===e&&(e=[]);const i=ja(t),r=i===(null==(o=t.ownerDocument)?void 0:o.body),n=ba(i),a=r?[n].concat(n.visualViewport||[],Ea(i)?i:[]):i,s=e.concat(a);return r?s:s.concat(za(Ra(a)))}function Fa(t,e){return"viewport"===e?na(function(t){const e=ba(t),o=Ta(t),i=e.visualViewport;let r=o.clientWidth,n=o.clientHeight,a=0,s=0;return i&&(r=i.width,n=i.height,Math.abs(e.innerWidth/i.scale-i.width)<.01&&(a=i.offsetLeft,s=i.offsetTop)),{width:r,height:n,x:a,y:s}}(t)):wa(e)?function(t){const e=Na(t),o=e.top+t.clientTop,i=e.left+t.clientLeft;return{top:o,left:i,x:i,y:o,right:i+t.clientWidth,bottom:o+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}(e):na(function(t){var e;const o=Ta(t),i=qa(t),r=null==(e=t.ownerDocument)?void 0:e.body,n=Ca(o.scrollWidth,o.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=Ca(o.scrollHeight,o.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0);let s=-i.scrollLeft+Pa(t);const l=-i.scrollTop;return"rtl"===ya(r||o).direction&&(s+=Ca(o.clientWidth,r?r.clientWidth:0)-n),{width:n,height:a,x:s,y:l}}(Ta(t)))}function Ua(t){const e=za(Ra(t)),o=["absolute","fixed"].includes(ya(t).position)&&_a(t)?Ma(t):t;return wa(o)?e.filter((t=>wa(t)&&function(t,e){const o=null==e.getRootNode?void 0:e.getRootNode();if(t.contains(e))return!0;if(o&&Aa(o)){let o=e;do{if(o&&t===o)return!0;o=o.parentNode||o.host}while(o)}return!1}(t,o)&&"body"!==xa(t))):[]}var Ba={getClippingRect:function(t){let{element:e,boundary:o,rootBoundary:i}=t;const r=[..."clippingAncestors"===o?Ua(e):[].concat(o),i],n=r[0],a=r.reduce(((t,o)=>{const i=Fa(e,o);return t.top=Ca(i.top,t.top),t.right=Sa(i.right,t.right),t.bottom=Sa(i.bottom,t.bottom),t.left=Ca(i.left,t.left),t}),Fa(e,n));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:o,strategy:i}=t;const r=_a(o),n=Ta(o);if(o===n)return e;let a={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if((r||!r&&"fixed"!==i)&&(("body"!==xa(o)||Ea(n))&&(a=qa(o)),_a(o))){const t=Na(o,!0);s.x=t.x+o.clientLeft,s.y=t.y+o.clientTop}return gr(vr({},e),{x:e.x-a.scrollLeft+s.x,y:e.y-a.scrollTop+s.y})},isElement:wa,getDimensions:$a,getOffsetParent:Ma,getDocumentElement:Ta,getElementRects:t=>{let{reference:e,floating:o,strategy:i}=t;return{reference:Da(e,Ma(o),i),floating:gr(vr({},$a(o)),{x:0,y:0})}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>"rtl"===ya(t).direction};var Va=(t,e,o)=>(async(t,e,o)=>{const{placement:i="bottom",strategy:r="absolute",middleware:n=[],platform:a}=o,s=await(null==a.isRTL?void 0:a.isRTL(e));let l=await a.getElementRects({reference:t,floating:e,strategy:r}),{x:c,y:u}=ia(l,i,s),d=i,p={};const h=new Set;for(let o=0;o<n.length;o++){const{name:f,fn:m}=n[o];if(h.has(f))continue;const{x:v,y:g,data:b,reset:y}=await m({x:c,y:u,initialPlacement:i,placement:d,strategy:r,middlewareData:p,rects:l,platform:a,elements:{reference:t,floating:e}});c=null!=v?v:c,u=null!=g?g:u,p=gr(vr({},p),{[f]:vr(vr({},p[f]),b)}),y&&("object"==typeof y&&(y.placement&&(d=y.placement),y.rects&&(l=!0===y.rects?await a.getElementRects({reference:t,floating:e,strategy:r}):y.rects),({x:c,y:u}=ia(l,d,s)),!1!==y.skip&&h.add(f)),o=-1)}return{x:c,y:u,placement:d,strategy:r,middlewareData:p}})(t,e,vr({platform:Ba},o)),Ha=ci`
  ${Ji}

  :host {
    display: inline-block;
  }

  .dropdown {
    position: relative;
  }

  .dropdown__trigger {
    display: block;
  }

  .dropdown__positioner {
    position: absolute;
    z-index: var(--sl-z-index-dropdown);
  }

  .dropdown__panel {
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    color: var(--color);
    box-shadow: var(--sl-shadow-large);
    overflow: auto;
    overscroll-behavior: none;
    pointer-events: none;
  }

  .dropdown--open .dropdown__panel {
    pointer-events: all;
  }

  .dropdown__positioner[data-placement^='top'] .dropdown__panel {
    transform-origin: bottom;
  }

  .dropdown__positioner[data-placement^='bottom'] .dropdown__panel {
    transform-origin: top;
  }

  .dropdown__positioner[data-placement^='left'] .dropdown__panel {
    transform-origin: right;
  }

  .dropdown__positioner[data-placement^='right'] .dropdown__panel {
    transform-origin: left;
  }
`,Ga=class extends Zi{constructor(){super(...arguments),this.open=!1,this.placement="bottom-start",this.disabled=!1,this.stayOpenOnSelect=!1,this.distance=0,this.skidding=0,this.hoist=!1}connectedCallback(){super.connectedCallback(),this.handleMenuItemActivate=this.handleMenuItemActivate.bind(this),this.handlePanelSelect=this.handlePanelSelect.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleDocumentMouseDown=this.handleDocumentMouseDown.bind(this),this.containingElement||(this.containingElement=this)}async firstUpdated(){this.panel.hidden=!this.open,this.open&&(await this.updateComplete,this.addOpenListeners(),this.startPositioner())}disconnectedCallback(){super.disconnectedCallback(),this.removeOpenListeners(),this.hide(),this.stopPositioner()}focusOnTrigger(){const t=this.trigger.querySelector("slot").assignedElements({flatten:!0})[0];"function"==typeof(null==t?void 0:t.focus)&&t.focus()}getMenu(){return this.panel.querySelector("slot").assignedElements({flatten:!0}).find((t=>"sl-menu"===t.tagName.toLowerCase()))}handleDocumentKeyDown(t){var e;if("Escape"===t.key)return this.hide(),void this.focusOnTrigger();if("Tab"===t.key){if(this.open&&"sl-menu-item"===(null==(e=document.activeElement)?void 0:e.tagName.toLowerCase()))return t.preventDefault(),this.hide(),void this.focusOnTrigger();setTimeout((()=>{var t,e,o;const i=(null==(t=this.containingElement)?void 0:t.getRootNode())instanceof ShadowRoot?null==(o=null==(e=document.activeElement)?void 0:e.shadowRoot)?void 0:o.activeElement:document.activeElement;this.containingElement&&(null==i?void 0:i.closest(this.containingElement.tagName.toLowerCase()))===this.containingElement||this.hide()}))}}handleDocumentMouseDown(t){const e=t.composedPath();this.containingElement&&!e.includes(this.containingElement)&&this.hide()}handleMenuItemActivate(t){qn(t.target,this.panel)}handlePanelSelect(t){const e=t.target;this.stayOpenOnSelect||"sl-menu"!==e.tagName.toLowerCase()||(this.hide(),this.focusOnTrigger())}handlePopoverOptionsChange(){this.updatePositioner()}handleTriggerClick(){this.open?this.hide():this.show()}handleTriggerKeyDown(t){if("Escape"===t.key)return this.focusOnTrigger(),void this.hide();if([" ","Enter"].includes(t.key))return t.preventDefault(),void this.handleTriggerClick();const e=this.getMenu();if(e){const o=e.defaultSlot.assignedElements({flatten:!0}),i=o[0],r=o[o.length-1];["ArrowDown","ArrowUp","Home","End"].includes(t.key)&&(t.preventDefault(),this.open||this.show(),o.length>0&&requestAnimationFrame((()=>{"ArrowDown"!==t.key&&"Home"!==t.key||(e.setCurrentItem(i),i.focus()),"ArrowUp"!==t.key&&"End"!==t.key||(e.setCurrentItem(r),r.focus())})));const n=["Tab","Shift","Meta","Ctrl","Alt"];this.open&&!n.includes(t.key)&&e.typeToSelect(t)}}handleTriggerKeyUp(t){" "===t.key&&t.preventDefault()}handleTriggerSlotChange(){this.updateAccessibleTrigger()}updateAccessibleTrigger(){const t=this.trigger.querySelector("slot").assignedElements({flatten:!0}).find((t=>Sn(t).start));let e;if(t){switch(t.tagName.toLowerCase()){case"sl-button":case"sl-icon-button":e=t.button;break;default:e=t}e.setAttribute("aria-haspopup","true"),e.setAttribute("aria-expanded",this.open?"true":"false")}}async show(){if(!this.open)return this.open=!0,Wr(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,Wr(this,"sl-after-hide")}reposition(){this.updatePositioner()}addOpenListeners(){this.panel.addEventListener("sl-activate",this.handleMenuItemActivate),this.panel.addEventListener("sl-select",this.handlePanelSelect),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("mousedown",this.handleDocumentMouseDown)}removeOpenListeners(){this.panel.removeEventListener("sl-activate",this.handleMenuItemActivate),this.panel.removeEventListener("sl-select",this.handlePanelSelect),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("mousedown",this.handleDocumentMouseDown)}async handleOpenChange(){if(this.disabled)this.open=!1;else if(this.updateAccessibleTrigger(),this.open){Kr(this,"sl-show"),this.addOpenListeners(),await Ln(this),this.startPositioner(),this.panel.hidden=!1;const{keyframes:t,options:e}=Fn(this,"dropdown.show");await Dn(this.panel,t,e),Kr(this,"sl-after-show")}else{Kr(this,"sl-hide"),this.removeOpenListeners(),await Ln(this);const{keyframes:t,options:e}=Fn(this,"dropdown.hide");await Dn(this.panel,t,e),this.panel.hidden=!0,this.stopPositioner(),Kr(this,"sl-after-hide")}}startPositioner(){this.stopPositioner(),this.updatePositioner(),this.positionerCleanup=function(t,e,o,i){void 0===i&&(i={});const{ancestorScroll:r=!0,ancestorResize:n=!0,elementResize:a=!0,animationFrame:s=!1}=i;let l=!1;const c=r&&!s,u=n&&!s,d=a&&!s,p=c||u?[...wa(t)?za(t):[],...za(e)]:[];p.forEach((t=>{c&&t.addEventListener("scroll",o,{passive:!0}),u&&t.addEventListener("resize",o)}));let h,f=null;d&&(f=new ResizeObserver(o),wa(t)&&f.observe(t),f.observe(e));let m=s?Na(t):null;return s&&function e(){if(l)return;const i=Na(t);!m||i.x===m.x&&i.y===m.y&&i.width===m.width&&i.height===m.height||o(),m=i,h=requestAnimationFrame(e)}(),()=>{var t;l=!0,p.forEach((t=>{c&&t.removeEventListener("scroll",o),u&&t.removeEventListener("resize",o)})),null==(t=f)||t.disconnect(),f=null,s&&cancelAnimationFrame(h)}}(this.trigger,this.positioner,this.updatePositioner.bind(this))}updatePositioner(){var t;this.open&&this.trigger&&this.positioner&&Va(this.trigger,this.positioner,{placement:this.placement,middleware:[ma({mainAxis:this.distance,crossAxis:this.skidding}),fa(),(void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:o,y:i,placement:r}=e,n=t,{mainAxis:a=!0,crossAxis:s=!1,limiter:l={fn:t=>{let{x:e,y:o}=t;return{x:e,y:o}}}}=n,c=br(n,["mainAxis","crossAxis","limiter"]),u={x:o,y:i},d=await aa(e,c),p=ea(Jn(r)),h="x"===p?"y":"x";let f=u[p],m=u[h];if(a){const t="y"===p?"bottom":"right";f=ca(f+d["y"===p?"top":"left"],f,f-d[t])}if(s){const t="y"===h?"bottom":"right";m=ca(m+d["y"===h?"top":"left"],m,m-d[t])}const v=l.fn(gr(vr({},e),{[p]:f,[h]:m}));return gr(vr({},v),{data:{x:v.x-o,y:v.y-i}})}}),va({apply:({width:t,height:e})=>{Object.assign(this.panel.style,{maxWidth:`${t}px`,maxHeight:`${e}px`})},padding:8})],strategy:this.hoist?"fixed":"absolute"}).then((({x:t,y:e,placement:o})=>{this.positioner.setAttribute("data-placement",o),Object.assign(this.positioner.style,{position:this.hoist?"fixed":"absolute",left:`${t}px`,top:`${e}px`})}))}stopPositioner(){this.positionerCleanup&&(this.positionerCleanup(),this.positionerCleanup=void 0,this.positioner.removeAttribute("data-placement"))}render(){return Di`
      <div
        part="base"
        id="dropdown"
        class=${sr({dropdown:!0,"dropdown--open":this.open})}
      >
        <span
          part="trigger"
          class="dropdown__trigger"
          @click=${this.handleTriggerClick}
          @keydown=${this.handleTriggerKeyDown}
          @keyup=${this.handleTriggerKeyUp}
        >
          <slot name="trigger" @slotchange=${this.handleTriggerSlotChange}></slot>
        </span>

        <!-- Position the panel with a wrapper since the popover makes use of translate. This let's us add animations
        on the panel without interfering with the position. -->
        <div class="dropdown__positioner">
          <div
            part="panel"
            class="dropdown__panel"
            aria-hidden=${this.open?"false":"true"}
            aria-labelledby="dropdown"
          >
            <slot></slot>
          </div>
        </div>
      </div>
    `}};Ga.styles=Ha,yr([Or(".dropdown__trigger")],Ga.prototype,"trigger",2),yr([Or(".dropdown__panel")],Ga.prototype,"panel",2),yr([Or(".dropdown__positioner")],Ga.prototype,"positioner",2),yr([wr({type:Boolean,reflect:!0})],Ga.prototype,"open",2),yr([wr({reflect:!0})],Ga.prototype,"placement",2),yr([wr({type:Boolean})],Ga.prototype,"disabled",2),yr([wr({attribute:"stay-open-on-select",type:Boolean,reflect:!0})],Ga.prototype,"stayOpenOnSelect",2),yr([wr({attribute:!1})],Ga.prototype,"containingElement",2),yr([wr({type:Number})],Ga.prototype,"distance",2),yr([wr({type:Number})],Ga.prototype,"skidding",2),yr([wr({type:Boolean})],Ga.prototype,"hoist",2),yr([Gr("distance"),Gr("hoist"),Gr("placement"),Gr("skidding")],Ga.prototype,"handlePopoverOptionsChange",1),yr([Gr("open",{waitUntilFirstUpdate:!0})],Ga.prototype,"handleOpenChange",1),Ga=yr([xr("sl-dropdown")],Ga),zn("dropdown.show",{keyframes:[{opacity:0,transform:"scale(0.9)"},{opacity:1,transform:"scale(1)"}],options:{duration:100,easing:"ease"}}),zn("dropdown.hide",{keyframes:[{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.9)"}],options:{duration:100,easing:"ease"}});var Ka=class extends Zi{constructor(){super(...arguments),this.formSubmitController=new Ur(this,{form:t=>{if(t.hasAttribute("form")){const e=t.getRootNode(),o=t.getAttribute("form");return e.getElementById(o)}return t.closest("form")}}),this.hasSlotController=new Br(this,"[default]","prefix","suffix"),this.hasFocus=!1,this.variant="default",this.size="medium",this.caret=!1,this.disabled=!1,this.loading=!1,this.outline=!1,this.pill=!1,this.circle=!1,this.type="button"}click(){this.button.click()}focus(t){this.button.focus(t)}blur(){this.button.blur()}handleBlur(){this.hasFocus=!1,Kr(this,"sl-blur")}handleFocus(){this.hasFocus=!0,Kr(this,"sl-focus")}handleClick(t){if(this.disabled||this.loading)return t.preventDefault(),void t.stopPropagation();"submit"===this.type&&this.formSubmitController.submit(this)}render(){const t=!!this.href,e=t?Lr`a`:Lr`button`;return $r`
      <${e}
        part="base"
        class=${sr({button:!0,"button--default":"default"===this.variant,"button--primary":"primary"===this.variant,"button--success":"success"===this.variant,"button--neutral":"neutral"===this.variant,"button--warning":"warning"===this.variant,"button--danger":"danger"===this.variant,"button--text":"text"===this.variant,"button--small":"small"===this.size,"button--medium":"medium"===this.size,"button--large":"large"===this.size,"button--caret":this.caret,"button--circle":this.circle,"button--disabled":this.disabled,"button--focused":this.hasFocus,"button--loading":this.loading,"button--standard":!this.outline,"button--outline":this.outline,"button--pill":this.pill,"button--has-label":this.hasSlotController.test("[default]"),"button--has-prefix":this.hasSlotController.test("prefix"),"button--has-suffix":this.hasSlotController.test("suffix")})}
        ?disabled=${Hr(t?void 0:this.disabled)}
        type=${this.type}
        name=${Hr(t?void 0:this.name)}
        value=${Hr(t?void 0:this.value)}
        href=${Hr(this.href)}
        target=${Hr(this.target)}
        download=${Hr(this.download)}
        rel=${Hr(this.target?"noreferrer noopener":void 0)}
        role="button"
        aria-disabled=${this.disabled?"true":"false"}
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <span part="prefix" class="button__prefix">
          <slot name="prefix"></slot>
        </span>
        <span part="label" class="button__label">
          <slot></slot>
        </span>
        <span part="suffix" class="button__suffix">
          <slot name="suffix"></slot>
        </span>
        ${this.caret?$r`
                <span part="caret" class="button__caret">
                  <svg
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <polyline points="6 9 12 15 18 9"></polyline>
                  </svg>
                </span>
              `:""}
        ${this.loading?$r`<sl-spinner></sl-spinner>`:""}
      </${e}>
    `}};Ka.styles=Dr,yr([Or(".button")],Ka.prototype,"button",2),yr([Ar()],Ka.prototype,"hasFocus",2),yr([wr({reflect:!0})],Ka.prototype,"variant",2),yr([wr({reflect:!0})],Ka.prototype,"size",2),yr([wr({type:Boolean,reflect:!0})],Ka.prototype,"caret",2),yr([wr({type:Boolean,reflect:!0})],Ka.prototype,"disabled",2),yr([wr({type:Boolean,reflect:!0})],Ka.prototype,"loading",2),yr([wr({type:Boolean,reflect:!0})],Ka.prototype,"outline",2),yr([wr({type:Boolean,reflect:!0})],Ka.prototype,"pill",2),yr([wr({type:Boolean,reflect:!0})],Ka.prototype,"circle",2),yr([wr()],Ka.prototype,"type",2),yr([wr()],Ka.prototype,"name",2),yr([wr()],Ka.prototype,"value",2),yr([wr()],Ka.prototype,"href",2),yr([wr()],Ka.prototype,"target",2),yr([wr()],Ka.prototype,"download",2),yr([wr()],Ka.prototype,"form",2),yr([wr({attribute:"formaction"})],Ka.prototype,"formAction",2),yr([wr({attribute:"formmethod"})],Ka.prototype,"formMethod",2),yr([wr({attribute:"formnovalidate",type:Boolean})],Ka.prototype,"formNoValidate",2),yr([wr({attribute:"formtarget"})],Ka.prototype,"formTarget",2),Ka=yr([xr("sl-button")],Ka);var Wa=ci`
  ${Ji}

  :host {
    --track-width: 2px;
    --track-color: rgb(128 128 128 / 25%);
    --indicator-color: var(--sl-color-primary-600);
    --speed: 2s;

    display: inline-flex;
    width: 1em;
    height: 1em;
  }

  .spinner {
    flex: 1 1 auto;
    height: 100%;
    width: 100%;
  }

  .spinner__track,
  .spinner__indicator {
    fill: none;
    stroke-width: var(--track-width);
    r: calc(0.5em - var(--track-width) / 2);
    cx: 0.5em;
    cy: 0.5em;
    transform-origin: 50% 50%;
  }

  .spinner__track {
    stroke: var(--track-color);
    transform-origin: 0% 0%;
    mix-blend-mode: multiply;
  }

  .spinner__indicator {
    stroke: var(--indicator-color);
    stroke-linecap: round;
    stroke-dasharray: 150% 75%;
    animation: spin var(--speed) linear infinite;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
      stroke-dasharray: 0.01em, 2.75em;
    }

    50% {
      transform: rotate(450deg);
      stroke-dasharray: 1.375em, 1.375em;
    }

    100% {
      transform: rotate(1080deg);
      stroke-dasharray: 0.01em, 2.75em;
    }
  }
`,Qa=class extends Zi{render(){return Di`
      <svg part="base" class="spinner" role="status">
        <circle class="spinner__track"></circle>
        <circle class="spinner__indicator"></circle>
      </svg>
    `}};Qa.styles=Wa,Qa=yr([xr("sl-spinner")],Qa);var Xa=ci`
  ${Ji}

  :host {
    --divider-width: 4px;
    --divider-hit-area: 12px;
    --min: 0%;
    --max: 100%;

    display: grid;
  }

  .start,
  .end {
    overflow: hidden;
  }

  .divider {
    flex: 0 0 var(--divider-width);
    display: flex;
    position: relative;
    align-items: center;
    justify-content: center;
    background-color: var(--sl-color-neutral-200);
    color: var(--sl-color-neutral-900);
    z-index: 1;
  }

  .divider:focus {
    outline: none;
  }

  :host(:not([disabled])) .divider${Pr} {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  :host([disabled]) .divider {
    cursor: not-allowed;
  }

  /* Horizontal */
  :host(:not([vertical], [disabled])) .divider {
    cursor: col-resize;
  }

  :host(:not([vertical])) .divider::after {
    display: flex;
    content: '';
    position: absolute;
    height: 100%;
    left: calc(var(--divider-hit-area) / -2 + var(--divider-width) / 2);
    width: var(--divider-hit-area);
  }

  /* Vertical */
  :host([vertical]) {
    flex-direction: column;
  }

  :host([vertical]:not([disabled])) .divider {
    cursor: row-resize;
  }

  :host([vertical]) .divider::after {
    content: '';
    position: absolute;
    width: 100%;
    top: calc(var(--divider-hit-area) / -2 + var(--divider-width) / 2);
    height: var(--divider-hit-area);
  }
`;function Za(t,e,o){return t<e?e:t>o?o:t}var Ya=class extends Zi{constructor(){super(...arguments),this.localize=new nn(this),this.position=50,this.vertical=!1,this.disabled=!1,this.snapThreshold=12}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver((t=>this.handleResize(t))),this.updateComplete.then((()=>this.resizeObserver.observe(this))),this.detectSize(),this.cachedPositionInPixels=this.percentageToPixels(this.position)}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver.unobserve(this)}detectSize(){const{width:t,height:e}=this.getBoundingClientRect();this.size=this.vertical?e:t}percentageToPixels(t){return this.size*(t/100)}pixelsToPercentage(t){return t/this.size*100}handleDrag(t){this.disabled||(t.preventDefault(),function(t,e){function o(o){const i=t.getBoundingClientRect(),r=t.ownerDocument.defaultView,n=i.left+r.pageXOffset,a=i.top+r.pageYOffset,s=o.pageX-n,l=o.pageY-a;e(s,l)}document.addEventListener("pointermove",o,{passive:!0}),document.addEventListener("pointerup",(function t(){document.removeEventListener("pointermove",o),document.removeEventListener("pointerup",t)}))}(this,((t,e)=>{let o=this.vertical?e:t;if("end"===this.primary&&(o=this.size-o),this.snap){this.snap.split(" ").forEach((t=>{let e;e=t.endsWith("%")?this.size*(parseFloat(t)/100):parseFloat(t),o>=e-this.snapThreshold&&o<=e+this.snapThreshold&&(o=e)}))}this.position=Za(this.pixelsToPercentage(o),0,100)})))}handleKeyDown(t){if(!this.disabled&&["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(t.key)){let e=this.position;const o=(t.shiftKey?10:1)*("end"===this.primary?-1:1);t.preventDefault(),("ArrowLeft"===t.key&&!this.vertical||"ArrowUp"===t.key&&this.vertical)&&(e-=o),("ArrowRight"===t.key&&!this.vertical||"ArrowDown"===t.key&&this.vertical)&&(e+=o),"Home"===t.key&&(e="end"===this.primary?100:0),"End"===t.key&&(e="end"===this.primary?0:100),this.position=Za(e,0,100)}}handlePositionChange(){this.cachedPositionInPixels=this.percentageToPixels(this.position),this.positionInPixels=this.percentageToPixels(this.position),Kr(this,"sl-reposition")}handlePositionInPixelsChange(){this.position=this.pixelsToPercentage(this.positionInPixels)}handleVerticalChange(){this.detectSize()}handleResize(t){const{width:e,height:o}=t[0].contentRect;this.size=this.vertical?o:e,this.primary&&(this.position=this.pixelsToPercentage(this.cachedPositionInPixels))}render(){const t=this.vertical?"gridTemplateRows":"gridTemplateColumns",e=this.vertical?"gridTemplateColumns":"gridTemplateRows",o=`\n      clamp(\n        0%,\n        clamp(\n          var(--min),\n          ${this.position}% - var(--divider-width) / 2,\n          var(--max)\n        ),\n        calc(100% - var(--divider-width))\n      )\n    `;return"end"===this.primary?this.style[t]=`auto var(--divider-width) ${o}`:this.style[t]=`${o} var(--divider-width) auto`,this.style[e]="",Di`
      <div part="panel start" class="start">
        <slot name="start"></slot>
      </div>

      <div
        part="divider"
        class="divider"
        tabindex=${Hr(this.disabled?void 0:"0")}
        role="separator"
        aria-label=${this.localize.term("resize")}
        @keydown=${this.handleKeyDown}
        @mousedown=${this.handleDrag}
        @touchstart=${this.handleDrag}
      >
        <slot name="handle"></slot>
      </div>

      <div part="panel end" class="end">
        <slot name="end"></slot>
      </div>
    `}};Ya.styles=Xa,yr([Or(".divider")],Ya.prototype,"divider",2),yr([wr({type:Number,reflect:!0})],Ya.prototype,"position",2),yr([wr({attribute:"position-in-pixels",type:Number})],Ya.prototype,"positionInPixels",2),yr([wr({type:Boolean,reflect:!0})],Ya.prototype,"vertical",2),yr([wr({type:Boolean,reflect:!0})],Ya.prototype,"disabled",2),yr([wr()],Ya.prototype,"primary",2),yr([wr()],Ya.prototype,"snap",2),yr([wr({type:Number,attribute:"snap-threshold"})],Ya.prototype,"snapThreshold",2),yr([Gr("position")],Ya.prototype,"handlePositionChange",1),yr([Gr("positionInPixels")],Ya.prototype,"handlePositionInPixelsChange",1),yr([Gr("vertical")],Ya.prototype,"handleVerticalChange",1),Ya=yr([xr("sl-split-panel")],Ya);var Ja=ci`
  ${Ji}

  :host {
    display: inline-block;
  }

  .radio {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-input-font-family);
    font-size: var(--sl-input-font-size-medium);
    font-weight: var(--sl-input-font-weight);
    color: var(--sl-input-color);
    vertical-align: middle;
    cursor: pointer;
  }

  .radio__icon {
    display: inline-flex;
    width: var(--sl-toggle-size);
    height: var(--sl-toggle-size);
  }

  .radio__icon svg {
    width: 100%;
    height: 100%;
  }

  .radio__control {
    flex: 0 0 auto;
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--sl-toggle-size);
    height: var(--sl-toggle-size);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
    border-radius: 50%;
    background-color: var(--sl-input-background-color);
    color: transparent;
    transition: var(--sl-transition-fast) border-color, var(--sl-transition-fast) background-color,
      var(--sl-transition-fast) color, var(--sl-transition-fast) box-shadow;
  }

  .radio__input {
    position: absolute;
    opacity: 0;
    padding: 0;
    margin: 0;
    pointer-events: none;
  }

  /* Hover */
  .radio:not(.radio--checked):not(.radio--disabled) .radio__control:hover {
    border-color: var(--sl-input-border-color-hover);
    background-color: var(--sl-input-background-color-hover);
  }

  /* Focus */
  .radio:not(.radio--checked):not(.radio--disabled) .radio__input${Pr} ~ .radio__control {
    border-color: var(--sl-input-border-color-focus);
    background-color: var(--sl-input-background-color-focus);
    box-shadow: var(--sl-focus-ring);
  }

  /* Checked */
  .radio--checked .radio__control {
    color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
  }

  /* Checked + hover */
  .radio.radio--checked:not(.radio--disabled) .radio__control:hover {
    border-color: var(--sl-color-primary-500);
    background-color: var(--sl-color-primary-500);
  }

  /* Checked + focus */
  .radio.radio--checked:not(.radio--disabled) .radio__input${Pr} ~ .radio__control {
    border-color: var(--sl-color-primary-500);
    background-color: var(--sl-color-primary-500);
    box-shadow: var(--sl-focus-ring);
  }

  /* Disabled */
  .radio--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* When the control isn't checked, hide the circle for Windows High Contrast mode a11y */
  .radio:not(.radio--checked) svg circle {
    opacity: 0;
  }

  .radio__label {
    line-height: var(--sl-toggle-size);
    margin-left: 0.5em;
    user-select: none;
  }
`,ts=class extends Zi{constructor(){super(...arguments),this.formSubmitController=new Ur(this,{value:t=>t.checked?t.value:void 0}),this.hasFocus=!1,this.disabled=!1,this.checked=!1,this.invalid=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","radio")}click(){this.input.click()}focus(t){this.input.focus(t)}blur(){this.input.blur()}reportValidity(){return this.input.reportValidity()}setCustomValidity(t){this.input.setCustomValidity(t),this.invalid=!this.input.checkValidity()}handleBlur(){this.hasFocus=!1,Kr(this,"sl-blur")}handleClick(){this.disabled||(this.checked=!0)}handleFocus(){this.hasFocus=!0,Kr(this,"sl-focus")}handleCheckedChange(){this.setAttribute("aria-checked",this.checked?"true":"false"),this.hasUpdated&&Kr(this,"sl-change")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false"),this.hasUpdated&&(this.input.disabled=this.disabled,this.invalid=!this.input.checkValidity())}render(){return Di`
      <label
        part="base"
        class=${sr({radio:!0,"radio--checked":this.checked,"radio--disabled":this.disabled,"radio--focused":this.hasFocus})}
      >
        <input
          class="radio__input"
          type="radio"
          name=${Hr(this.name)}
          value=${Hr(this.value)}
          .checked=${sn(this.checked)}
          .disabled=${this.disabled}
          @click=${this.handleClick}
          @blur=${this.handleBlur}
          @focus=${this.handleFocus}
        />
        <span part="control" class="radio__control">
          <span part="checked-icon" class="radio__icon">
            <svg viewBox="0 0 16 16">
              <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <g fill="currentColor">
                  <circle cx="8" cy="8" r="3.42857143"></circle>
                </g>
              </g>
            </svg>
          </span>
        </span>

        <span part="label" class="radio__label">
          <slot></slot>
        </span>
      </label>
    `}};ts.styles=Ja,yr([Or(".radio__input")],ts.prototype,"input",2),yr([Ar()],ts.prototype,"hasFocus",2),yr([wr()],ts.prototype,"name",2),yr([wr()],ts.prototype,"value",2),yr([wr({type:Boolean,reflect:!0})],ts.prototype,"disabled",2),yr([wr({type:Boolean,reflect:!0})],ts.prototype,"checked",2),yr([wr({type:Boolean,reflect:!0})],ts.prototype,"invalid",2),yr([Gr("checked")],ts.prototype,"handleCheckedChange",1),yr([Gr("disabled",{waitUntilFirstUpdate:!0})],ts.prototype,"handleDisabledChange",1),ts=yr([xr("sl-radio")],ts);var es=ci`
  ${Ji}

  :host {
    display: block;
  }

  .details {
    border: solid 1px var(--sl-color-neutral-200);
    border-radius: var(--sl-border-radius-medium);
    background-color: var(--sl-color-neutral-0);
    overflow-anchor: none;
  }

  .details--disabled {
    opacity: 0.5;
  }

  .details__header {
    display: flex;
    align-items: center;
    border-radius: inherit;
    padding: var(--sl-spacing-medium);
    user-select: none;
    cursor: pointer;
  }

  .details__header:focus {
    outline: none;
  }

  .details__header${Pr} {
    box-shadow: var(--sl-focus-ring);
  }

  .details--disabled .details__header {
    cursor: not-allowed;
  }

  .details--disabled .details__header${Pr} {
    outline: none;
    box-shadow: none;
  }

  .details__summary {
    flex: 1 1 auto;
    display: flex;
    align-items: center;
  }

  .details__summary-icon {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    transition: var(--sl-transition-medium) transform ease;
  }

  .details--open .details__summary-icon {
    transform: rotate(90deg);
  }

  .details__body {
    overflow: hidden;
  }

  .details__content {
    padding: var(--sl-spacing-medium);
  }
`,os=class extends Zi{constructor(){super(...arguments),this.open=!1,this.disabled=!1}firstUpdated(){this.body.hidden=!this.open,this.body.style.height=this.open?"auto":"0"}async show(){if(!this.open&&!this.disabled)return this.open=!0,Wr(this,"sl-after-show")}async hide(){if(this.open&&!this.disabled)return this.open=!1,Wr(this,"sl-after-hide")}handleSummaryClick(){this.disabled||(this.open?this.hide():this.show(),this.header.focus())}handleSummaryKeyDown(t){"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),this.open?this.hide():this.show()),"ArrowUp"!==t.key&&"ArrowLeft"!==t.key||(t.preventDefault(),this.hide()),"ArrowDown"!==t.key&&"ArrowRight"!==t.key||(t.preventDefault(),this.show())}async handleOpenChange(){if(this.open){Kr(this,"sl-show"),await Ln(this.body),this.body.hidden=!1;const{keyframes:t,options:e}=Fn(this,"details.show");await Dn(this.body,Mn(t,this.body.scrollHeight),e),this.body.style.height="auto",Kr(this,"sl-after-show")}else{Kr(this,"sl-hide"),await Ln(this.body);const{keyframes:t,options:e}=Fn(this,"details.hide");await Dn(this.body,Mn(t,this.body.scrollHeight),e),this.body.hidden=!0,this.body.style.height="auto",Kr(this,"sl-after-hide")}}render(){return Di`
      <div
        part="base"
        class=${sr({details:!0,"details--open":this.open,"details--disabled":this.disabled})}
      >
        <header
          part="header"
          id="header"
          class="details__header"
          role="button"
          aria-expanded=${this.open?"true":"false"}
          aria-controls="content"
          aria-disabled=${this.disabled?"true":"false"}
          tabindex=${this.disabled?"-1":"0"}
          @click=${this.handleSummaryClick}
          @keydown=${this.handleSummaryKeyDown}
        >
          <div part="summary" class="details__summary">
            <slot name="summary">${this.summary}</slot>
          </div>

          <span part="summary-icon" class="details__summary-icon">
            <sl-icon name="chevron-right" library="system"></sl-icon>
          </span>
        </header>

        <div class="details__body">
          <div part="content" id="content" class="details__content" role="region" aria-labelledby="header">
            <slot></slot>
          </div>
        </div>
      </div>
    `}};os.styles=es,yr([Or(".details")],os.prototype,"details",2),yr([Or(".details__header")],os.prototype,"header",2),yr([Or(".details__body")],os.prototype,"body",2),yr([wr({type:Boolean,reflect:!0})],os.prototype,"open",2),yr([wr()],os.prototype,"summary",2),yr([wr({type:Boolean,reflect:!0})],os.prototype,"disabled",2),yr([Gr("open",{waitUntilFirstUpdate:!0})],os.prototype,"handleOpenChange",1),os=yr([xr("sl-details")],os),zn("details.show",{keyframes:[{height:"0",opacity:"0"},{height:"auto",opacity:"1"}],options:{duration:250,easing:"linear"}}),zn("details.hide",{keyframes:[{height:"auto",opacity:"1"},{height:"0",opacity:"0"}],options:{duration:250,easing:"linear"}});var is=ci`
  ${Ji}

  :host {
    display: inline-block;
  }

  .checkbox {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-input-font-family);
    font-size: var(--sl-input-font-size-medium);
    font-weight: var(--sl-input-font-weight);
    color: var(--sl-input-color);
    vertical-align: middle;
    cursor: pointer;
  }

  .checkbox__control {
    flex: 0 0 auto;
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--sl-toggle-size);
    height: var(--sl-toggle-size);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
    border-radius: 2px;
    background-color: var(--sl-input-background-color);
    color: var(--sl-color-neutral-0);
    transition: var(--sl-transition-fast) border-color, var(--sl-transition-fast) background-color,
      var(--sl-transition-fast) color, var(--sl-transition-fast) box-shadow;
  }

  .checkbox__input {
    position: absolute;
    opacity: 0;
    padding: 0;
    margin: 0;
    pointer-events: none;
  }

  .checkbox__control .checkbox__icon {
    display: inline-flex;
    width: var(--sl-toggle-size);
    height: var(--sl-toggle-size);
  }

  .checkbox__control .checkbox__icon svg {
    width: 100%;
    height: 100%;
  }

  /* Hover */
  .checkbox:not(.checkbox--checked):not(.checkbox--disabled) .checkbox__control:hover {
    border-color: var(--sl-input-border-color-hover);
    background-color: var(--sl-input-background-color-hover);
  }

  /* Focus */
  .checkbox:not(.checkbox--checked):not(.checkbox--disabled)
    .checkbox__input${Pr}
    ~ .checkbox__control {
    border-color: var(--sl-input-border-color-focus);
    background-color: var(--sl-input-background-color-focus);
    box-shadow: var(--sl-focus-ring);
  }

  /* Checked/indeterminate */
  .checkbox--checked .checkbox__control,
  .checkbox--indeterminate .checkbox__control {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
  }

  /* Checked/indeterminate + hover */
  .checkbox.checkbox--checked:not(.checkbox--disabled) .checkbox__control:hover,
  .checkbox.checkbox--indeterminate:not(.checkbox--disabled) .checkbox__control:hover {
    border-color: var(--sl-color-primary-500);
    background-color: var(--sl-color-primary-500);
  }

  /* Checked/indeterminate + focus */
  .checkbox.checkbox--checked:not(.checkbox--disabled) .checkbox__input${Pr} ~ .checkbox__control,
  .checkbox.checkbox--indeterminate:not(.checkbox--disabled)
    .checkbox__input${Pr}
    ~ .checkbox__control {
    border-color: var(--sl-color-primary-500);
    background-color: var(--sl-color-primary-500);
    box-shadow: var(--sl-focus-ring);
  }

  /* Disabled */
  .checkbox--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .checkbox__label {
    line-height: var(--sl-toggle-size);
    margin-left: 0.5em;
    user-select: none;
  }
`,rs=class extends Zi{constructor(){super(...arguments),this.formSubmitController=new Ur(this,{value:t=>t.checked?t.value:void 0}),this.hasFocus=!1,this.disabled=!1,this.required=!1,this.checked=!1,this.indeterminate=!1,this.invalid=!1}firstUpdated(){this.invalid=!this.input.checkValidity()}click(){this.input.click()}focus(t){this.input.focus(t)}blur(){this.input.blur()}reportValidity(){return this.input.reportValidity()}setCustomValidity(t){this.input.setCustomValidity(t),this.invalid=!this.input.checkValidity()}handleClick(){this.checked=!this.checked,this.indeterminate=!1,Kr(this,"sl-change")}handleBlur(){this.hasFocus=!1,Kr(this,"sl-blur")}handleDisabledChange(){this.input.disabled=this.disabled,this.invalid=!this.input.checkValidity()}handleFocus(){this.hasFocus=!0,Kr(this,"sl-focus")}handleStateChange(){this.invalid=!this.input.checkValidity()}render(){return Di`
      <label
        part="base"
        class=${sr({checkbox:!0,"checkbox--checked":this.checked,"checkbox--disabled":this.disabled,"checkbox--focused":this.hasFocus,"checkbox--indeterminate":this.indeterminate})}
      >
        <input
          class="checkbox__input"
          type="checkbox"
          name=${Hr(this.name)}
          value=${Hr(this.value)}
          .indeterminate=${sn(this.indeterminate)}
          .checked=${sn(this.checked)}
          .disabled=${this.disabled}
          .required=${this.required}
          aria-checked=${this.checked?"true":"false"}
          @click=${this.handleClick}
          @blur=${this.handleBlur}
          @focus=${this.handleFocus}
        />

        <span part="control" class="checkbox__control">
          ${this.checked?Di`
                <span part="checked-icon" class="checkbox__icon">
                  <svg viewBox="0 0 16 16">
                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
                      <g stroke="currentColor" stroke-width="2">
                        <g transform="translate(3.428571, 3.428571)">
                          <path d="M0,5.71428571 L3.42857143,9.14285714"></path>
                          <path d="M9.14285714,0 L3.42857143,9.14285714"></path>
                        </g>
                      </g>
                    </g>
                  </svg>
                </span>
              `:""}
          ${!this.checked&&this.indeterminate?Di`
                <span part="indeterminate-icon" class="checkbox__icon">
                  <svg viewBox="0 0 16 16">
                    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
                      <g stroke="currentColor" stroke-width="2">
                        <g transform="translate(2.285714, 6.857143)">
                          <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>
                        </g>
                      </g>
                    </g>
                  </svg>
                </span>
              `:""}
        </span>

        <span part="label" class="checkbox__label">
          <slot></slot>
        </span>
      </label>
    `}};function ns(t,e,o,i){var r,n=arguments.length,a=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(n<3?r(a):n>3?r(e,o,a):r(e,o))||a);return n>3&&a&&Object.defineProperty(e,o,a),a
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}rs.styles=is,yr([Or('input[type="checkbox"]')],rs.prototype,"input",2),yr([Ar()],rs.prototype,"hasFocus",2),yr([wr()],rs.prototype,"name",2),yr([wr()],rs.prototype,"value",2),yr([wr({type:Boolean,reflect:!0})],rs.prototype,"disabled",2),yr([wr({type:Boolean,reflect:!0})],rs.prototype,"required",2),yr([wr({type:Boolean,reflect:!0})],rs.prototype,"checked",2),yr([wr({type:Boolean,reflect:!0})],rs.prototype,"indeterminate",2),yr([wr({type:Boolean,reflect:!0})],rs.prototype,"invalid",2),yr([Gr("disabled",{waitUntilFirstUpdate:!0})],rs.prototype,"handleDisabledChange",1),yr([Gr("checked",{waitUntilFirstUpdate:!0}),Gr("indeterminate",{waitUntilFirstUpdate:!0})],rs.prototype,"handleStateChange",1),rs=yr([xr("sl-checkbox")],rs);const as=window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ss=Symbol(),ls=new Map;class cs{constructor(t,e){if(this._$cssResult$=!0,e!==ss)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t}get styleSheet(){let t=ls.get(this.cssText);return as&&void 0===t&&(ls.set(this.cssText,t=new CSSStyleSheet),t.replaceSync(this.cssText)),t}toString(){return this.cssText}}const us=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,o,i)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(o)+t[i+1]),t[0]);return new cs(o,ss)},ds=as?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const o of t.cssRules)e+=o.cssText;return(t=>new cs("string"==typeof t?t:t+"",ss))(e)})(t):t
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;var ps;const hs=window.trustedTypes,fs=hs?hs.emptyScript:"",ms=window.reactiveElementPolyfillSupport,vs={toAttribute(t,e){switch(e){case Boolean:t=t?fs:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let o=t;switch(e){case Boolean:o=null!==t;break;case Number:o=null===t?null:Number(t);break;case Object:case Array:try{o=JSON.parse(t)}catch(t){o=null}}return o}},gs=(t,e)=>e!==t&&(e==e||t==t),bs={attribute:!0,type:String,converter:vs,reflect:!1,hasChanged:gs};class ys extends HTMLElement{constructor(){super(),this._$Et=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Ei=null,this.o()}static addInitializer(t){var e;null!==(e=this.l)&&void 0!==e||(this.l=[]),this.l.push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,o)=>{const i=this._$Eh(o,e);void 0!==i&&(this._$Eu.set(i,o),t.push(i))})),t}static createProperty(t,e=bs){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const o="symbol"==typeof t?Symbol():"__"+t,i=this.getPropertyDescriptor(t,o,e);void 0!==i&&Object.defineProperty(this.prototype,t,i)}}static getPropertyDescriptor(t,e,o){return{get(){return this[e]},set(i){const r=this[t];this[e]=i,this.requestUpdate(t,r,o)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||bs}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),this.elementProperties=new Map(t.elementProperties),this._$Eu=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const o of e)this.createProperty(o,t[o])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const o=new Set(t.flat(1/0).reverse());for(const t of o)e.unshift(ds(t))}else void 0!==t&&e.push(ds(t));return e}static _$Eh(t,e){const o=e.attribute;return!1===o?void 0:"string"==typeof o?o:"string"==typeof t?t.toLowerCase():void 0}o(){var t;this._$Ep=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Em(),this.requestUpdate(),null===(t=this.constructor.l)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,o;(null!==(e=this._$Eg)&&void 0!==e?e:this._$Eg=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(o=t.hostConnected)||void 0===o||o.call(t))}removeController(t){var e;null===(e=this._$Eg)||void 0===e||e.splice(this._$Eg.indexOf(t)>>>0,1)}_$Em(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Et.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,e)=>{as?t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((e=>{const o=document.createElement("style"),i=window.litNonce;void 0!==i&&o.setAttribute("nonce",i),o.textContent=e.cssText,t.appendChild(o)}))})(e,this.constructor.elementStyles),e}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,o){this._$AK(t,o)}_$ES(t,e,o=bs){var i,r;const n=this.constructor._$Eh(t,o);if(void 0!==n&&!0===o.reflect){const a=(null!==(r=null===(i=o.converter)||void 0===i?void 0:i.toAttribute)&&void 0!==r?r:vs.toAttribute)(e,o.type);this._$Ei=t,null==a?this.removeAttribute(n):this.setAttribute(n,a),this._$Ei=null}}_$AK(t,e){var o,i,r;const n=this.constructor,a=n._$Eu.get(t);if(void 0!==a&&this._$Ei!==a){const t=n.getPropertyOptions(a),s=t.converter,l=null!==(r=null!==(i=null===(o=s)||void 0===o?void 0:o.fromAttribute)&&void 0!==i?i:"function"==typeof s?s:null)&&void 0!==r?r:vs.fromAttribute;this._$Ei=a,this[a]=l(e,t.type),this._$Ei=null}}requestUpdate(t,e,o){let i=!0;void 0!==t&&(((o=o||this.constructor.getPropertyOptions(t)).hasChanged||gs)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===o.reflect&&this._$Ei!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,o))):i=!1),!this.isUpdatePending&&i&&(this._$Ep=this._$E_())}async _$E_(){this.isUpdatePending=!0;try{await this._$Ep}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Et&&(this._$Et.forEach(((t,e)=>this[e]=t)),this._$Et=void 0);let e=!1;const o=this._$AL;try{e=this.shouldUpdate(o),e?(this.willUpdate(o),null===(t=this._$Eg)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(o)):this._$EU()}catch(t){throw e=!1,this._$EU(),t}e&&this._$AE(o)}willUpdate(t){}_$AE(t){var e;null===(e=this._$Eg)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Ep}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,e)=>this._$ES(e,this[e],t))),this._$EC=void 0),this._$EU()}updated(t){}firstUpdated(t){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var xs;ys.finalized=!0,ys.elementProperties=new Map,ys.elementStyles=[],ys.shadowRootOptions={mode:"open"},null==ms||ms({ReactiveElement:ys}),(null!==(ps=globalThis.reactiveElementVersions)&&void 0!==ps?ps:globalThis.reactiveElementVersions=[]).push("1.3.1");const _s=globalThis.trustedTypes,ws=_s?_s.createPolicy("lit-html",{createHTML:t=>t}):void 0,As=`lit$${(Math.random()+"").slice(9)}$`,Es="?"+As,Os=`<${Es}>`,Is=document,Ss=(t="")=>Is.createComment(t),Cs=t=>null===t||"object"!=typeof t&&"function"!=typeof t,ks=Array.isArray,Ns=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Ts=/-->/g,qs=/>/g,Ps=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,Ds=/'/g,Rs=/"/g,Ls=/^(?:script|style|textarea|title)$/i,Ms=(t=>(e,...o)=>({_$litType$:t,strings:e,values:o}))(1),$s=Symbol.for("lit-noChange"),js=Symbol.for("lit-nothing"),zs=new WeakMap,Fs=Is.createTreeWalker(Is,129,null,!1),Us=(t,e)=>{const o=t.length-1,i=[];let r,n=2===e?"<svg>":"",a=Ns;for(let e=0;e<o;e++){const o=t[e];let s,l,c=-1,u=0;for(;u<o.length&&(a.lastIndex=u,l=a.exec(o),null!==l);)u=a.lastIndex,a===Ns?"!--"===l[1]?a=Ts:void 0!==l[1]?a=qs:void 0!==l[2]?(Ls.test(l[2])&&(r=RegExp("</"+l[2],"g")),a=Ps):void 0!==l[3]&&(a=Ps):a===Ps?">"===l[0]?(a=null!=r?r:Ns,c=-1):void 0===l[1]?c=-2:(c=a.lastIndex-l[2].length,s=l[1],a=void 0===l[3]?Ps:'"'===l[3]?Rs:Ds):a===Rs||a===Ds?a=Ps:a===Ts||a===qs?a=Ns:(a=Ps,r=void 0);const d=a===Ps&&t[e+1].startsWith("/>")?" ":"";n+=a===Ns?o+Os:c>=0?(i.push(s),o.slice(0,c)+"$lit$"+o.slice(c)+As+d):o+As+(-2===c?(i.push(void 0),e):d)}const s=n+(t[o]||"<?>")+(2===e?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==ws?ws.createHTML(s):s,i]};class Bs{constructor({strings:t,_$litType$:e},o){let i;this.parts=[];let r=0,n=0;const a=t.length-1,s=this.parts,[l,c]=Us(t,e);if(this.el=Bs.createElement(l,o),Fs.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(i=Fs.nextNode())&&s.length<a;){if(1===i.nodeType){if(i.hasAttributes()){const t=[];for(const e of i.getAttributeNames())if(e.endsWith("$lit$")||e.startsWith(As)){const o=c[n++];if(t.push(e),void 0!==o){const t=i.getAttribute(o.toLowerCase()+"$lit$").split(As),e=/([.?@])?(.*)/.exec(o);s.push({type:1,index:r,name:e[2],strings:t,ctor:"."===e[1]?Ws:"?"===e[1]?Xs:"@"===e[1]?Zs:Ks})}else s.push({type:6,index:r})}for(const e of t)i.removeAttribute(e)}if(Ls.test(i.tagName)){const t=i.textContent.split(As),e=t.length-1;if(e>0){i.textContent=_s?_s.emptyScript:"";for(let o=0;o<e;o++)i.append(t[o],Ss()),Fs.nextNode(),s.push({type:2,index:++r});i.append(t[e],Ss())}}}else if(8===i.nodeType)if(i.data===Es)s.push({type:2,index:r});else{let t=-1;for(;-1!==(t=i.data.indexOf(As,t+1));)s.push({type:7,index:r}),t+=As.length-1}r++}}static createElement(t,e){const o=Is.createElement("template");return o.innerHTML=t,o}}function Vs(t,e,o=t,i){var r,n,a,s;if(e===$s)return e;let l=void 0!==i?null===(r=o._$Cl)||void 0===r?void 0:r[i]:o._$Cu;const c=Cs(e)?void 0:e._$litDirective$;return(null==l?void 0:l.constructor)!==c&&(null===(n=null==l?void 0:l._$AO)||void 0===n||n.call(l,!1),void 0===c?l=void 0:(l=new c(t),l._$AT(t,o,i)),void 0!==i?(null!==(a=(s=o)._$Cl)&&void 0!==a?a:s._$Cl=[])[i]=l:o._$Cu=l),void 0!==l&&(e=Vs(t,l._$AS(t,e.values),l,i)),e}class Hs{constructor(t,e){this.v=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}p(t){var e;const{el:{content:o},parts:i}=this._$AD,r=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:Is).importNode(o,!0);Fs.currentNode=r;let n=Fs.nextNode(),a=0,s=0,l=i[0];for(;void 0!==l;){if(a===l.index){let e;2===l.type?e=new Gs(n,n.nextSibling,this,t):1===l.type?e=new l.ctor(n,l.name,l.strings,this,t):6===l.type&&(e=new Ys(n,this,t)),this.v.push(e),l=i[++s]}a!==(null==l?void 0:l.index)&&(n=Fs.nextNode(),a++)}return r}m(t){let e=0;for(const o of this.v)void 0!==o&&(void 0!==o.strings?(o._$AI(t,o,e),e+=o.strings.length-2):o._$AI(t[e])),e++}}class Gs{constructor(t,e,o,i){var r;this.type=2,this._$AH=js,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=o,this.options=i,this._$Cg=null===(r=null==i?void 0:i.isConnected)||void 0===r||r}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cg}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=Vs(this,t,e),Cs(t)?t===js||null==t||""===t?(this._$AH!==js&&this._$AR(),this._$AH=js):t!==this._$AH&&t!==$s&&this.$(t):void 0!==t._$litType$?this.T(t):void 0!==t.nodeType?this.k(t):(t=>{var e;return ks(t)||"function"==typeof(null===(e=t)||void 0===e?void 0:e[Symbol.iterator])})(t)?this.S(t):this.$(t)}M(t,e=this._$AB){return this._$AA.parentNode.insertBefore(t,e)}k(t){this._$AH!==t&&(this._$AR(),this._$AH=this.M(t))}$(t){this._$AH!==js&&Cs(this._$AH)?this._$AA.nextSibling.data=t:this.k(Is.createTextNode(t)),this._$AH=t}T(t){var e;const{values:o,_$litType$:i}=t,r="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=Bs.createElement(i.h,this.options)),i);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===r)this._$AH.m(o);else{const t=new Hs(r,this),e=t.p(this.options);t.m(o),this.k(e),this._$AH=t}}_$AC(t){let e=zs.get(t.strings);return void 0===e&&zs.set(t.strings,e=new Bs(t)),e}S(t){ks(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let o,i=0;for(const r of t)i===e.length?e.push(o=new Gs(this.M(Ss()),this.M(Ss()),this,this.options)):o=e[i],o._$AI(r),i++;i<e.length&&(this._$AR(o&&o._$AB.nextSibling,i),e.length=i)}_$AR(t=this._$AA.nextSibling,e){var o;for(null===(o=this._$AP)||void 0===o||o.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cg=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class Ks{constructor(t,e,o,i,r){this.type=1,this._$AH=js,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=r,o.length>2||""!==o[0]||""!==o[1]?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=js}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,o,i){const r=this.strings;let n=!1;if(void 0===r)t=Vs(this,t,e,0),n=!Cs(t)||t!==this._$AH&&t!==$s,n&&(this._$AH=t);else{const i=t;let a,s;for(t=r[0],a=0;a<r.length-1;a++)s=Vs(this,i[o+a],e,a),s===$s&&(s=this._$AH[a]),n||(n=!Cs(s)||s!==this._$AH[a]),s===js?t=js:t!==js&&(t+=(null!=s?s:"")+r[a+1]),this._$AH[a]=s}n&&!i&&this.C(t)}C(t){t===js?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class Ws extends Ks{constructor(){super(...arguments),this.type=3}C(t){this.element[this.name]=t===js?void 0:t}}const Qs=_s?_s.emptyScript:"";class Xs extends Ks{constructor(){super(...arguments),this.type=4}C(t){t&&t!==js?this.element.setAttribute(this.name,Qs):this.element.removeAttribute(this.name)}}class Zs extends Ks{constructor(t,e,o,i,r){super(t,e,o,i,r),this.type=5}_$AI(t,e=this){var o;if((t=null!==(o=Vs(this,t,e,0))&&void 0!==o?o:js)===$s)return;const i=this._$AH,r=t===js&&i!==js||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,n=t!==js&&(i===js||r);r&&this.element.removeEventListener(this.name,this,i),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,o;"function"==typeof this._$AH?this._$AH.call(null!==(o=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==o?o:this.element,t):this._$AH.handleEvent(t)}}class Ys{constructor(t,e,o){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=o}get _$AU(){return this._$AM._$AU}_$AI(t){Vs(this,t)}}const Js=window.litHtmlPolyfillSupport;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var tl,el;null==Js||Js(Bs,Gs),(null!==(xs=globalThis.litHtmlVersions)&&void 0!==xs?xs:globalThis.litHtmlVersions=[]).push("2.2.2");class ol extends ys{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var t,e;const o=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=o.firstChild),o}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Dt=((t,e,o)=>{var i,r;const n=null!==(i=null==o?void 0:o.renderBefore)&&void 0!==i?i:e;let a=n._$litPart$;if(void 0===a){const t=null!==(r=null==o?void 0:o.renderBefore)&&void 0!==r?r:null;n._$litPart$=a=new Gs(e.insertBefore(Ss(),t),t,void 0,null!=o?o:{})}return a._$AI(t),a})(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Dt)||void 0===t||t.setConnected(!1)}render(){return $s}}ol.finalized=!0,ol._$litElement$=!0,null===(tl=globalThis.litElementHydrateSupport)||void 0===tl||tl.call(globalThis,{LitElement:ol});const il=globalThis.litElementPolyfillSupport;null==il||il({LitElement:ol}),(null!==(el=globalThis.litElementVersions)&&void 0!==el?el:globalThis.litElementVersions=[]).push("3.2.0");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const rl=t=>e=>"function"==typeof e?((t,e)=>(window.customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:o,elements:i}=e;return{kind:o,elements:i,finisher(e){window.customElements.define(t,e)}}})(t,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,nl=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(o){o.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(o){o.createProperty(e.key,t)}};function al(t){return(e,o)=>void 0!==o?((t,e,o)=>{e.constructor.createProperty(o,t)})(t,e,o):nl(t,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}function sl(t){return al({...t,state:!0})}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ll=({finisher:t,descriptor:e})=>(o,i)=>{var r;if(void 0===i){const i=null!==(r=o.originalKey)&&void 0!==r?r:o.key,n=null!=e?{kind:"method",placement:"prototype",key:i,descriptor:e(o.key)}:{...o,key:i};return null!=t&&(n.finisher=function(e){t(e,i)}),n}{const r=o.constructor;void 0!==e&&Object.defineProperty(o,i,e(i)),null==t||t(r,i)}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;function cl(t,e){return ll({descriptor:o=>{const i={get(){var e,o;return null!==(o=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(t))&&void 0!==o?o:null},enumerable:!0,configurable:!0};if(e){const e="symbol"==typeof o?Symbol():"__"+o;i.get=function(){var o,i;return void 0===this[e]&&(this[e]=null!==(i=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(t))&&void 0!==i?i:null),this[e]}}return i}})}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function ul(t){return ll({descriptor:e=>({get(){var e,o;return null!==(o=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelectorAll(t))&&void 0!==o?o:[]},enumerable:!0,configurable:!0})})}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var dl;null===(dl=window.HTMLSlotElement)||void 0===dl||dl.prototype.assignedElements;
/**
@license
Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const pl=t=>e=>class extends e{connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._storeUnsubscribe=t.subscribe((()=>this.stateChanged(t.getState()))),this.stateChanged(t.getState())}disconnectedCallback(){this._storeUnsubscribe(),super.disconnectedCallback&&super.disconnectedCallback()}stateChanged(t){}};function hl(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var fl="function"==typeof Symbol&&Symbol.observable||"@@observable",ml=function(){return Math.random().toString(36).substring(7).split("").join(".")},vl={INIT:"@@redux/INIT"+ml(),REPLACE:"@@redux/REPLACE"+ml(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ml()}};function gl(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function bl(t){if(void 0===t)return"undefined";if(null===t)return"null";var e=typeof t;switch(e){case"boolean":case"string":case"number":case"symbol":case"function":return e}if(Array.isArray(t))return"array";if(function(t){return t instanceof Date||"function"==typeof t.toDateString&&"function"==typeof t.getDate&&"function"==typeof t.setDate}(t))return"date";if(function(t){return t instanceof Error||"string"==typeof t.message&&t.constructor&&"number"==typeof t.constructor.stackTraceLimit}(t))return"error";var o=function(t){return"function"==typeof t.constructor?t.constructor.name:null}(t);switch(o){case"Symbol":case"Promise":case"WeakMap":case"WeakSet":case"Map":case"Set":return o}return e.slice(8,-1).toLowerCase().replace(/\s/g,"")}function yl(t){var e=typeof t;return"production"!==process.env.NODE_ENV&&(e=bl(t)),e}function xl(t){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}function _l(){}"production"!==process.env.NODE_ENV&&"string"==typeof _l.name&&"isCrushed"!==_l.name&&xl('You are currently using minified code outside of NODE_ENV === "production". This means that you are running a slower development build of Redux. You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) to ensure you have the correct code for your production build.');class wl{constructor(t){this.hotkey="(Ctrl+Alt+G)",this.descricao="Adicionar Ttulo, Captulo, Seo e outros"+(t?" "+t:""),this.posicao=t}execute(t,e,o,i,r){return{type:"ADICIONAR_AGRUPADOR_ARTIGO",atual:t,novo:{tipo:e,posicao:i,manterNoMesmoGrupoDeAspas:r}}}}const Al=new wl,El=new wl("antes");function Ol(t){return{type:"ADICIONAR_ALERTA",alerta:{id:t.id,tipo:t.tipo,mensagem:t.mensagem,podeFechar:t.podeFechar}}}function Il(t){return{type:"REMOVER_ALERTA",id:t}}const Sl=new class{constructor(){this.descricao="Alterao com Assistente"}execute(t,e,o){return{type:"ASSISTENTE_ALTERACAO",atual:t,norma:e,dispositivos:o}}},Cl={agrupadorGenerico:{tipo:"DispositivoAgrupadorGenerico",name:void 0,tagId:"dg",descricao:void 0,descricaoPlural:void 0,tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo","Capitulo","Secao"],tiposPermitidosFilhos:["Parte","Livro","Titulo","Capitulo","Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},alinea:{tipo:"Alinea",name:"Alinea",tagId:"ali",descricao:"Alnea",descricaoPlural:"Alneas",tiposPermitidosPai:["Inciso"],tiposPermitidosFilhos:["Item"],tipoProvavelFilho:"Item",INDICADOR_SEQUENCIA:[";","; e","; ou"],INDICADOR_FIM_SEQUENCIA:["."],INDICADOR_DESDOBRAMENTO:[":"]},articulacao:{tipo:"Articulacao",name:"Articulacao",tagId:"",descricao:"Articulao",descricaoPlural:"Articulaes",tiposPermitidosPai:[],tiposPermitidosFilhos:["Parte","Livro","Titulo","Capitulo","Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["."],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:[":"]},artigo:{tipo:"Artigo",name:"Artigo",tagId:"art",descricao:"Artigo",descricaoPlural:"Artigos",tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo","Capitulo","Secao","Subsecao"],tiposPermitidosFilhos:["Paragrafo","Inciso"],tipoProvavelFilho:"Inciso",INDICADOR_SEQUENCIA:["."],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:[":"]},capitulo:{tipo:"Capitulo",name:"Capitulo",tagId:"cap",descricao:"Captulo",descricaoPlural:"Captulos",tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo"],tiposPermitidosFilhos:["Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},caput:{tipo:"Caput",name:"Caput",tagId:"cpt",descricao:"Caput",descricaoPlural:"Capita",tiposPermitidosPai:["Artigo"],tiposPermitidosFilhos:["Inciso"],tipoProvavelFilho:"Inciso",INDICADOR_SEQUENCIA:["."],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:[":"]},generico:{tipo:"DispositivoGenerico",name:void 0,tagId:"gen",descricao:"Dispositivo genrico",descricaoPlural:"Dispositivos genricos",tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo","Capitulo","Secao","Subsecao"],tiposPermitidosFilhos:["Paragrafo","Inciso","Alinea","Item"],tipoProvavelFilho:"DispositivoGenerico",INDICADOR_SEQUENCIA:[";","; e","; ou"],INDICADOR_FIM_SEQUENCIA:["."],INDICADOR_DESDOBRAMENTO:[":"]},inciso:{tipo:"Inciso",name:"Inciso",tagId:"inc",descricao:"Inciso",descricaoPlural:"Incisos",tiposPermitidosPai:["Artigo","Caput","Paragrafo"],tiposPermitidosFilhos:["Alinea"],tipoProvavelFilho:"Alinea",INDICADOR_SEQUENCIA:[";","; e","; ou"],INDICADOR_FIM_SEQUENCIA:["."],INDICADOR_DESDOBRAMENTO:[":"]},item:{tipo:"Item",name:"Item",tagId:"ite",descricao:"Item",descricaoPlural:"Itens",tiposPermitidosPai:["Alinea"],tiposPermitidosFilhos:[],tipoProvavelFilho:"DispositivoGenerico",INDICADOR_SEQUENCIA:[";","; e","; ou"],INDICADOR_FIM_SEQUENCIA:["."],INDICADOR_DESDOBRAMENTO:[":"]},livro:{tipo:"Livro",name:"Livro",tagId:"liv",descricao:"Livro",descricaoPlural:"Livros",tiposPermitidosPai:["Articulacao","Parte"],tiposPermitidosFilhos:["Titulo","Capitulo","Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},omissis:{tipo:"Omissis",name:"Omissis",tagId:"omi",descricao:"Linha pontilhada (omissis)",descricaoPlural:"Linhas pontilhadas (omissis)",tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo","Capitulo","Secao","Subsecao","Artigo","Caput","Paragrafo","Alinea","Inciso"],tiposPermitidosFilhos:["Parte","Livro","Titulo","Capitulo","Secao","Subsecao","Artigo","Paragrafo","Alinea","Inciso","Item"],tipoProvavelFilho:void 0,INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:["NA"]},paragrafo:{tipo:"Paragrafo",name:"Paragrafo",tagId:"par",descricao:"Pargrafo",descricaoPlural:"Pargrafos",tiposPermitidosPai:["Artigo"],tiposPermitidosFilhos:["Inciso"],tipoProvavelFilho:"Inciso",INDICADOR_SEQUENCIA:["."],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:[":"]},parte:{tipo:"Parte",name:"Parte",tagId:"prt",descricao:"Parte",descricaoPlural:"Partes",tiposPermitidosPai:["Articulacao"],tiposPermitidosFilhos:["Livro","Titulo","Capitulo","Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},secao:{tipo:"Secao",name:"Secao",tagId:"sec",descricao:"Seo",descricaoPlural:"Sees",tiposPermitidosPai:["Articulacao","Parte","Livro","Titulo","Capitulo"],tiposPermitidosFilhos:["Subsecao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},subsecao:{tipo:"Subsecao",name:"Subsecao",tagId:"sub",descricao:"Subseo",descricaoPlural:"Subsees",tiposPermitidosPai:["Secao"],tiposPermitidosFilhos:["Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},titulo:{tipo:"Titulo",name:"Titulo",tagId:"tit",descricao:"Ttulo",descricaoPlural:"Ttulos",tiposPermitidosPai:["Articulacao","Parte","Livro"],tiposPermitidosFilhos:["Capitulo","Secao","Artigo"],tipoProvavelFilho:"Artigo",INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:[""],INDICADOR_DESDOBRAMENTO:["NA"]},ementa:{tipo:"Ementa",name:"Ementa",tagId:"eme",descricao:"Ementa",descricaoPlural:"Ementas",tiposPermitidosPai:["Articulacao"],tiposPermitidosFilhos:[],tipoProvavelFilho:void 0,INDICADOR_SEQUENCIA:["NA"],INDICADOR_FIM_SEQUENCIA:["NA"],INDICADOR_DESDOBRAMENTO:["NA"]}};class kl{constructor(t,e){var o,i;this.isDispositivoAlteracao=!1,this.descricao=`Adicionar ${null!==(i=null===(o=null==t?void 0:t.descricao)||void 0===o?void 0:o.toLowerCase())&&void 0!==i?i:""} ${null!=e?e:""}`,this.tipo=null==t?void 0:t.tipo,this.posicao=e}execute(t,e,o,i=!1){return{type:"ADICIONAR_ELEMENTO",atual:t,novo:{tipo:null!=o?o:this.tipo,isDispositivoAlteracao:this.isDispositivoAlteracao,conteudo:{texto:e}},hasDesmembramento:i,posicao:this.posicao}}}const Nl=new kl,Tl=new kl(Cl.artigo),ql=new kl(Cl.artigo,"antes"),Pl=new kl(Cl.artigo,"depois"),Dl=new kl(Cl.alinea),Rl=new kl(Cl.alinea,"antes"),Ll=new kl(Cl.alinea,"depois"),Ml=new kl(Cl.inciso),$l=new kl(Cl.inciso,"antes"),jl=new kl(Cl.inciso,"depois"),zl=new kl(Cl.item),Fl=new kl(Cl.item,"antes"),Ul=new kl(Cl.item,"depois"),Bl=new kl(Cl.omissis),Vl=new kl(Cl.paragrafo),Hl=new kl(Cl.paragrafo,"antes"),Gl=new kl(Cl.paragrafo,"depois");const Kl=new class{constructor(){this.descricao="Adicionar Elemento from Clipboard"}execute(t,e,o,i=!1,r=!0,n="depois"){return{type:"ADICIONAR_ELEMENTOS_FROM_CLIPBOARD",atual:t,novo:{isDispositivoAlteracao:i,conteudo:{texto:e}},isColarSubstituindo:r,posicao:n}}};class Wl{constructor(t){this.descricao="Adicionar "+t.descricao,this.tipo=t.tipo}execute(t,e){return{type:"AGRUPAR_ELEMENTO",atual:t,novo:{tipo:this.tipo,uuid:+e}}}}const Ql=new Wl(Cl.parte),Xl=new Wl(Cl.livro),Zl=new Wl(Cl.titulo),Yl=new Wl(Cl.capitulo),Jl=new Wl(Cl.secao),tc=new Wl(Cl.subsecao);const ec=new class{constructor(){this.descricao="Atualizar"}execute(t){return{type:"APLICAR_ALTERACOES_EMENDA",alteracoesEmenda:t}}};const oc=new class{constructor(){this.descricao="Atualizar dispositivo"}execute(t){return this.tipo=t.tipo,{type:"ATUALIZAR_ELEMENTO",atual:t}}};const ic=new class{constructor(){this.descricao="Atualizar Norma Referenciada"}execute(t){return this.tipo=t.tipo,{type:"ATUALIZAR_REFERENCIA_ELEMENTO",atual:t}}};const rc=new class{constructor(){this.descricao="Atualizar dispositivo"}execute(t){return this.tipo=t.tipo,{type:"ATUALIZAR_TEXTO_ELEMENTO",atual:t}}};const nc=new class{constructor(){this.descricao="Corrigir automaticamente"}execute(t,e){return{type:"AUTO_FIX",atual:t,mensagem:e}}};const ac=new class{constructor(){this.descricao="Elemento selecionado"}execute(t){return{type:"ELEMENTO_SELECIONADO",atual:t}}};const sc=new class{constructor(){this.descricao="Adicionar artigo para alterar outra norma"}execute(t){return{type:"INFORMAR_DADOS_ASSISTENTE",atual:t}}};class lc{constructor(t,e,o,i){this.descricao=t,this.nomeAcao=e,this.hotkey=o,this.existeNaNormaAlterada=i}execute(t){return{type:"INFORMAR_EXISTENCIA_NA_NORMA",subType:this.nomeAcao,atual:t,existeNaNormaAlterada:this.existeNaNormaAlterada}}}const cc=new lc("Considerar existente na norma","considerarExistenteNaNorma","(Ctrl+Alt+X)",!0),uc=new lc("Considerar novo na norma","considerarNovoNaNorma","(Ctrl+Alt+X)",!1);class dc{constructor(){this.descricao="Informar norma alterada"}execute(t){return{type:"INFORMAR_NORMA",atual:t}}}const pc=new dc;class hc{constructor(){this.hotkey="(Alt+)",this.descricao="Mover para baixo"}execute(t){return{type:"Mover para baixo",atual:t}}}const fc=new hc;class mc{constructor(){this.hotkey="(Alt+)",this.descricao="Mover para cima"}execute(t){return{type:"Mover para cima",atual:t}}}const vc=new mc;class gc{constructor(){this.hotkey="(Ctrl+D)",this.descricao="Remover"}execute(t){return{type:"REMOVER_ELEMENTO",atual:t}}}const bc=new gc;class yc{constructor(){this.hotkey="(Ctrl+Alt+N)",this.descricao="Numerar dispositivo"}execute(t,e){return this.tipo=t.tipo,{type:"RENUMERAR_ELEMENTO",atual:t,novo:{numero:e}}}}const xc=new yc;const _c=new class{constructor(){this.descricao="Abandonar modificaes"}execute(t){return{type:"RESTAURAR_ELEMENTO",atual:t}}};const wc=new class{constructor(){this.descricao="Suprimir apenas o Agrupador"}execute(t){return{type:"SUPRIMIR_AGRUPADOR",atual:t}}};const Ac=new class{constructor(){this.descricao="Suprimir"}execute(t){return{type:"SUPRIMIR_ELEMENTO",atual:t}}};class Ec{constructor(t,e,o,i){this.descricao=e,this.tipo=t.tipo,this.nomeAcao=o,this.hotkey=i}execute(t){return{type:"TRANSFORMAR_TIPO_ELEMENTO",subType:this.nomeAcao,atual:t,novo:{tipo:this.tipo}}}}const Oc=new Ec(Cl.omissis,"Omitir Alneas","transformarAlineaEmOmissisAlinea","(Ctrl+Alt+O)"),Ic=new Ec(Cl.omissis,"Omitir Incisos","transformarIncisoCaputEmOmissisIncisoCaput","(Ctrl+Alt+O)"),Sc=new Ec(Cl.omissis,"Omitir Itens","transformarItemEmOmissisItem","(Ctrl+Alt+O)"),Cc=new Ec(Cl.omissis,"Omitir Pargrafos","transformarParagrafoEmOmissisParagrafo","(Ctrl+Alt+O)"),kc=new Ec(Cl.omissis,"Omitir Incisos","transformarIncisoParagrafoEmOmissisIncisoParagrafo","(Ctrl+Alt+O)"),Nc=new Ec(Cl.inciso,"Transformar em Inciso","transformarAlineaEmIncisoCaput","(Shift+Tab)"),Tc=new Ec(Cl.inciso,"Transformar em Inciso","transformarAlineaEmIncisoParagrafo","(Shift+Tab)"),qc=new Ec(Cl.item,"Transformar em Item","transformarAlineaEmItem","(Tab)"),Pc=new Ec(Cl.paragrafo,"Transformar em Pargrafo","transformarArtigoEmParagrafo","(Tab)"),Dc=new Ec(Cl.inciso,"Transformar em Inciso","transformarDispositivoGenericoEmInciso"),Rc=new Ec(Cl.alinea,"Transformar em Alnea","transformarDispositivoGenericoEmAlinea"),Lc=new Ec(Cl.item,"Transformar em Item","transformarDispositivoGenericoEmItem"),Mc=new Ec(Cl.paragrafo,"Transformar em Pargrafo","transformarIncisoParagrafoEmParagrafo","(Shift+Tab)"),$c=new Ec(Cl.paragrafo,"Transformar em Pargrafo","transformarIncisoCaputEmParagrafo","(Shift+Tab)"),jc=new Ec(Cl.alinea,"Transformar em Alnea","transformarIncisoCaputEmAlinea","(Tab)"),zc=new Ec(Cl.alinea,"Transformar em Alnea","transformarIncisoParagrafoEmAlinea","(Tab)"),Fc=new Ec(Cl.alinea,"Transformar em Alnea","transformarOmissisEmAlinea"),Uc=new Ec(Cl.artigo,"Transformar em Artigo","transformarOmissisEmArtigo"),Bc=new Ec(Cl.inciso,"Transformar em Inciso","transformarOmissisEmIncisoCaput"),Vc=new Ec(Cl.inciso,"Transformar em Inciso","transformarOmissisEmIncisoParagrafo"),Hc=new Ec(Cl.item,"Transformar em Item","transformarOmissisEmItem"),Gc=new Ec(Cl.paragrafo,"Transformar em Pargrafo","transformarOmissisEmParagrafo"),Kc=new Ec(Cl.alinea,"Transformar em Alnea","transformarItemEmAlinea","(Shift+Tab)"),Wc=new Ec(Cl.artigo,"Transformar em Artigo","transformarParagrafoEmArtigo","(Shift+Tab)"),Qc=new Ec(Cl.inciso,"Transformar em Inciso","transformarParagrafoEmIncisoParagrafo","(Tab)"),Xc=new Ec(Cl.inciso,"Transformar em Inciso","transformarParagrafoEmIncisoCaput","(Tab)");const Zc=new class{constructor(){this.descricao="Articulao validada"}execute(){return{type:"VALIDAR_ARTICULACAO"}}};const Yc=new class{constructor(){this.descricao="Elemento validado"}execute(t){return{type:"VALIDAR_ELEMENTO",atual:t}}};class Jc{constructor(){this.descricao="Atualizar nota de alterao"}execute(t,e){return this.tipo=t.tipo,{type:"ATUALIZAR_NOTA_ALTERACAO",atual:t,notaAlteracao:e}}}const tu=new Jc;const eu=new class{constructor(){this.descricao="Remover dispositivo sem texto"}execute(t,e){return{type:"REMOVER_ELEMENTO_SEM_TEXTO",atual:t,key:e}}};var ou;!function(t){t.DISPOSITIVO_ADICIONADO="Dispositivo Adicionado",t.DISPOSITIVO_NOVO="Dispositivo Novo",t.DISPOSITIVO_MODIFICADO="Dispositivo Modificado",t.DISPOSITIVO_ORIGINAL="Dispositivo Original",t.DISPOSITIVO_SUPRIMIDO="Dispositivo Suprimido"}(ou||(ou={}));const iu=t=>[ou.DISPOSITIVO_ADICIONADO.toString(),ou.DISPOSITIVO_MODIFICADO.toString(),ou.DISPOSITIVO_SUPRIMIDO.toString()].includes(t.situacao.descricaoSituacao),ru=".................................................................................................................................................................................................................................................................................",nu=t=>t.tipo===Cl.articulacao.tipo,au=t=>t.tipo===Cl.generico.tipo,su=t=>t.tipo===Cl.artigo.tipo,lu=t=>t.tipo===Cl.caput.tipo,cu=t=>t.tipo===Cl.paragrafo.tipo,uu=t=>t.tipo===Cl.inciso.tipo,du=t=>uu(t)&&lu(t.pai),pu=t=>uu(t)&&cu(t.pai),hu=t=>t.tipo===Cl.alinea.tipo,fu=t=>t.tipo===Cl.item.tipo,mu=t=>t.tipo===Cl.omissis.tipo,vu=t=>[Cl.articulacao.tipo,Cl.agrupadorGenerico.tipo,Cl.capitulo.tipo,Cl.livro.tipo,Cl.parte.tipo,Cl.secao.tipo,Cl.subsecao.tipo,Cl.titulo.tipo].includes(t.tipo),gu=t=>vu(t)&&!nu(t),bu=t=>t.tipo===Cl.agrupadorGenerico.tipo,yu=t=>[Cl.paragrafo.tipo,Cl.inciso.tipo,Cl.alinea.tipo,Cl.item.tipo].includes(t.tipo),xu=t=>t.tipo===Cl.ementa.tipo,_u=t=>void 0!==t&&((t=>t.tipo===Cl.capitulo.tipo)(t)||(t=>t.tipo===Cl.parte.tipo)(t)||(t=>t.tipo===Cl.livro.tipo)(t)||(t=>t.tipo===Cl.titulo.tipo)(t)),wu=t=>mu(t)||t.texto.startsWith(ru)||t.texto.indexOf(ru)>-1;var Au;function Eu(t){if(!t)return t;if(nu(t))return t;if(void 0===t.pai)throw new Error("No foi encontrada a articulao");return Eu(t.pai)}function Ou(t,e){if(e.uuid===t)return e;if(null!==e.filhos){let o=null;const i=e.hasAlteracao()?e.alteracoes.filhos:e.filhos;for(let e=0;null===o&&e<i.length;e++)o=Ou(t,i[e]);return o}return null}!function(t){t.EMENDA="emenda",t.EMENDA_ARTIGO_ONDE_COUBER="emendaArtigoOndeCouber",t.NORMA="norma",t.PROJETO="projeto"}(Au||(Au={}));const Iu=(t,e)=>{if(void 0===e)throw new Error("uuid no foi informado");return Ou(e,t)},Su=t=>{var e;return Bu(t)?Su(t.filhos[t.filhos.length-1]):(null==t?void 0:t.hasAlteracao())&&(null===(e=t.alteracoes)||void 0===e?void 0:e.filhos.length)?Su(t.alteracoes.filhos[t.alteracoes.filhos.length-1]):t},Cu=t=>{if(su(t)){const e=t;return[e.caput,...e.filhos.filter((t=>cu(t)||mu(t)&&!lu(t.pai)))]}return[...t.filhos]},ku=t=>su(t)?Eu(t).artigos.filter((e=>e.tipo===t.tipo)):t.pai?t.pai.filhos.filter((e=>e.tipo===t.tipo)):[t],Nu=(t,e,o)=>{if(null==t?void 0:t.filhos){for(let i=null==t?void 0:t.indexOf(e);i>=0;i--){const e=null==t?void 0:t.filhos[i];vu(e)&&o.push(e)}if(null==t?void 0:t.pai)return Nu(t.pai,e.pai,o)}return o},Tu=t=>su(t.pai)?t.pai:Tu(t.pai),qu=t=>{const e=t.pai;return su(e)&&!pd(e)?t.pai:qu(t.pai)},Pu=(t,e)=>{if(!t.pai)return;if(dd(t)){const o=t.pai.caput;return!e||e(o)?o:Pu(o,e)}const o=su(t.pai)?Ru(t.pai):t.pai.filhos,i=o.indexOf(t),r=i?Su(o[i-1]):t.pai;return!e||e(r)?r:Pu(r,e)},Du=(t,e,o)=>{if(!t)return;let i;if(o)i=td(o);else{const e=su(t)?Ru(t):t.filhos;e.length&&(i=e[0])}return i||Ad(t)?i?!e||e(i)?i:Du(i,e):void 0:Du(t.pai,e,t)},Ru=t=>[t.caput,...Bd(t)],Lu=(t,e)=>{if(null==t?void 0:t.filhos){for(let o=(null==t?void 0:t.indexOf(e))-1;o>=0;o--){const e=null==t?void 0:t.filhos[o];if(su(e))return e;if(vu(e))return Mu(e)}if(null==t?void 0:t.pai)return Lu(t.pai,e.pai)}},Mu=t=>{if(void 0!==t&&t.filhos)for(let e=t.filhos.length-1;e>=0;e--){const o=t.filhos[e];if(su(o))return o;if(vu(o))return Mu(o)}},$u=t=>{const e=t.pai.indexOf(t);return t.pai.filhos.filter(((t,o)=>o>e&&vu(t)))[0]},ju=t=>{var e;return(null===(e=t.filhos)||void 0===e?void 0:e.filter((t=>au(t))).length)>0},zu=t=>1===ku(t).length,Fu=t=>{const e=ku(t);return e[e.length-1]===t},Uu=t=>ku(t)[0]===t,Bu=t=>t.filhos&&t.filhos.length>0,Vu=t=>{var e;const o=null===(e=t.pai)||void 0===e?void 0:e.indexOf(t);return o&&o>0?t.pai.filhos[o-1]:void 0},Hu=t=>{const e=ku(t),o=e.indexOf(t);return o>0?e[o-1]:void 0},Gu=t=>{const e=t.pai.indexOf(t);if(0===e)return;const o=t.pai.filhos.filter(((o,i)=>i<e&&(o.tipo===t.tipo||o.tipo===Bl.tipo)));return o.pop()},Ku=t=>{const e=t.pai.indexOf(t);if(0===e)return;const o=t.pai.filhos.filter(((o,i)=>i<e&&o.pai===t.pai));return o.pop()},Wu=t=>{const e=t.pai,o=Cu(e),i=o.indexOf(t);if(!(i>0))return e;t=o[i-1];let r=Cu(t);for(;r.length;)t=r[r.length-1],r=Cu(t);return t},Qu=t=>{if(!t.pai)return;const e=t.pai.indexOf(t);return e<t.pai.filhos.length-1?t.pai.filhos[e+1]:void 0},Xu=t=>{const e=ku(t),o=e.indexOf(t);return o<e.length-1?e[o+1]:void 0},Zu=t=>{var e,o,i;const r=null===(e=t.pai)||void 0===e?void 0:e.indexOf(t);return null!==(i=null===(o=t.pai)||void 0===o?void 0:o.filhos.filter(((e,o)=>o<r&&e.tipo===t.tipo&&e.pai===t.pai)))&&void 0!==i?i:[]},Yu=t=>{var e,o,i;const r=null===(e=t.pai)||void 0===e?void 0:e.indexOf(t);return null!==(i=null===(o=t.pai)||void 0===o?void 0:o.filhos.filter(((e,o)=>o>r&&e.tipo===t.tipo)))&&void 0!==i?i:[]},Ju=t=>{const e=t.pai.indexOf(t);if(e===t.pai.filhos.length-1)return;const o=t.pai.filhos.filter(((o,i)=>i>e&&(o.tipo===t.tipo||o.tipo===Bl.tipo)));return o[0]},td=t=>{const e=t.pai.indexOf(t);if(e===t.pai.filhos.length-1)return;const o=t.pai.filhos.filter(((o,i)=>i>e&&o.pai===t.pai));return o[0]},ed=(t,e=!1)=>{if(su(t)){const e=Eu(t),o=Eu(t).indexOfArtigo(t);return e.artigos.filter(((t,e)=>e>o))}const o=t.pai.indexOf(t);return t.pai.filhos.filter(((t,i)=>e?i>o:i>=o)).filter((e=>t.tipo===e.tipo))},od=t=>su(t)&&zu(t),id=t=>cu(t)&&zu(t),rd=t=>t.cabecaAlteracao||nd(t)?t:rd(t.pai),nd=t=>!!t.pai&&dd(t.pai),ad=t=>Yu(t).filter((t=>hd(t)&&"1"===t.numero)).length>0,sd=t=>{const e=rd(t),o=yd(e);if(o[o.length-1]===(lu(t)?t.pai:t)){if(e.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&!dd(e.pai)){const t=Du(e,(t=>su(t)||gu(t)||!pd(t)));return!(t&&pd(t)&&!dd(t.pai)&&t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO)}return!0}return!1},ld=(t,e)=>{if(void 0!==t&&!su(t)){for(let o=e+1;o<t.filhos.length;o++){const e=t.filhos[o];if(yu(e))return e}return ld(t.pai,t.pai.indexOf(t))}},cd=t=>{if(Qu(t))return!1;if(cu(t)||!yu(t))return!1;const e=ld(t.pai,t.pai.indexOf(t));return!(e&&!cu(e))},ud=t=>!vu(t)&&(su(t)&&(t=t.caput),!bd([],t.filhos).some((t=>!vd(t)))),dd=t=>nu(t)&&void 0!==t.pai,pd=t=>{if(!!t.isDispositivoAlteracao)return!0;try{return void 0!==Eu(t).pai}catch(t){return!1}},hd=t=>t.situacao.descricaoSituacao===ou.DISPOSITIVO_ORIGINAL,fd=t=>t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO||t.situacao.descricaoSituacao===ou.DISPOSITIVO_NOVO,md=t=>t.situacao.descricaoSituacao===ou.DISPOSITIVO_MODIFICADO,vd=t=>t.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO,gd=t=>md(t)||vd(t),bd=(t,e)=>(null==e||e.forEach((e=>{t.push(e),Bu(e)&&bd(t,e.filhos)})),t),yd=t=>xd(t,[]),xd=(t,e)=>{e.push(t);const o=t.hasAlteracao()?t.alteracoes.filhos:t.filhos;return o.length&&o.forEach((t=>xd(t,e))),e},_d=(t,e)=>{if(t)if(e(t),t.tipo===Cl.artigo.tipo){const o=t;o.caput&&(_d(o.caput,e),t.alteracoes&&_d(t.alteracoes,e),t.filhos.filter((t=>cu(t)||mu(t)&&!lu(t.pai))).forEach((t=>{_d(t,e)})))}else t.alteracoes&&_d(t.alteracoes,e),t.filhos.forEach((t=>{_d(t,e)}))},wd=(t,e)=>{if(!t)return;let o=e(t);if(o)return o;if(t.tipo===Cl.artigo.tipo){const i=t;if(i.caput){if(o=wd(i.caput,e),o)return o;if(t.alteracoes&&(o=wd(t.alteracoes,e),o))return o;for(const i of t.filhos.filter((t=>cu(t)||mu(t)&&!lu(t.pai))))if(o=wd(i,e),o)return o}}else{if(t.alteracoes&&(o=wd(t.alteracoes,e),o))return o;for(const i of t.filhos)if(o=wd(i,e),o)return o}},Ad=t=>t&&!t.pai&&t.tipo===Cl.articulacao.tipo,Ed=(t,e)=>{var o;if("ementa"===e)return null===(o=t.projetoNorma)||void 0===o?void 0:o.ementa;const i=Od(e);let r=t;if(i){const o=t.artigos.find((t=>i===t.id));if(o){if(e===i||e===i+"_cpt")return o;r=o}}return wd(r,(t=>e===t.id?t:void 0))},Od=t=>{const e=/^art\d+(-\d+)*/.exec(t);return(null==e?void 0:e.length)?e[0]:void 0},Id=(t,e)=>{if(!t||!e)return!1;let o=t.pai;for(;o;){if(o===e)return!0;o=o.pai}return!1},Sd=t=>{if(!t)return!1;let e=t.pai;for(;e;){if(e.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO)return!0;e=e.pai}return!1},Cd=t=>{if(!t||!t.pai||vu(t.pai))return;const e=Qu(t);if(e&&mu(e))return e;if(lu(t)){const e=t.pai.filhos.filter((t=>cu(t)||mu(t)));return e.length>0&&mu(e[0])?e[0]:void 0}return t.pai?Cd(t.pai):void 0},kd=t=>t.situacao.existeNaNormaAlterada,Nd=t=>{var e;const o=t.situacao.existeNaNormaAlterada;if(!pd(t)||void 0===o)return;return[ou.DISPOSITIVO_ADICIONADO+""].includes(null===(e=t.situacao)||void 0===e?void 0:e.descricaoSituacao)&&!o},Td=t=>{var e;const o="Caput"===t.tipo?t.pai:t;return!pd(o)||null!==(e=Nd(o))&&void 0!==e&&e},qd=t=>{if("Articulacao"!==t.tipo&&pd(t)&&sd(t)){return rd(t).situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO}return!1},Pd=(t,e=!1)=>{if(vu(t)){if(!e){const e=t.filhos.find((t=>gu(t)));if(e)return e}if(t.pai){const e=Xu(t);return e||Pd(t.pai,!0)}}},Dd=t=>Pd(t.pai),Rd=t=>{var e,o;if(!vu(t)&&!su(t)&&!xu(t))return[];if(pd(t))return["Parte","Livro","Titulo","Capitulo","Secao","Subsecao"];const i=Ud(t);if(!i)return["Parte","Livro","Titulo","Capitulo"];const r=Fd(t);if(!vu(t)&&r===i)return[i.tipo,jd(i.tipo)].filter(Boolean);const n=vu(t)?t:t.pai;if(!r)return Md(i.tipo,null!==(e=zd(n.tipo))&&void 0!==e?e:n.tipo);const a=Md(jd(r.tipo),null!==(o=zd(n.tipo))&&void 0!==o?o:n.tipo),s=$d(i.tipo);return a.filter((t=>t&&$d(t)>=s))},Ld=t=>{const e=[];if(xu(t))return[];if(!vu(t))return Rd(t);if(pd(t))return["Parte","Livro","Titulo","Capitulo","Secao","Subsecao"];e.push(t.tipo);const o=Ud(t),i=jd(t.tipo);(!o||t===o||$d(null!=i?i:"")>=$d(o.tipo))&&e.push(i);const r=(t=>{const e=yd(Eu(t)).filter(vu);return e[e.indexOf(t)-1]})(t);return r&&e.push(...Rd(r)),[...new Set(e)]},Md=(t="",e="")=>["Parte","Livro","Titulo","Capitulo","Secao","Subsecao"].slice($d(t),$d(e)+1),$d=t=>["Parte","Livro","Titulo","Capitulo","Secao","Subsecao"].indexOf(t),jd=t=>{const e=["Parte","Livro","Titulo","Capitulo","Secao","Subsecao"];return e[e.indexOf(t)-1]},zd=t=>{const e=["Parte","Livro","Titulo","Capitulo","Secao","Subsecao"],o=e.indexOf(t);return-1===o?void 0:e[o+1]},Fd=t=>{const e=yd(Eu(t)),o=e.indexOf(t);return e.filter(((t,e)=>e>o&&vu(t)&&!nu(t)))[0]},Ud=t=>Eu(t).filhos.filter(vu)[0],Bd=t=>t.filhos.filter((e=>e.pai===t)),Vd=t=>{var e,o;return!!(null===(o=null===(e=Eu(t).projetoNorma)||void 0===e?void 0:e.ementa)||void 0===o?void 0:o.texto)};function Hd(t){return Zd(t.replace(/(<([^>]+)>)/gi,"").trim())}function Gd(t,e){return!0===e.map((e=>new RegExp(Qd(Wd(e))+"\\s*$").test(t))).filter((t=>t))[0]}function Kd(t){switch(t[0].trim()){case".":return"ponto";case":":return"dois pontos";case";":return"ponto e vrgula";case",":return"vrgula";default:return t[0].trim()}}function Wd(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function Qd(t){return t.replace(/\s+/g,"\\s+")}function Xd(t){return t?t.charAt(0).toUpperCase()+t.slice(1).toLowerCase():""}function Zd(t){return t.replace(/\s{2,}/g," ")}function Yd(t){return t.replace(/(<([^>]+)>)/gi,"")}class Jd{constructor(t){this.strs=new Array,t&&this.append(t)}append(t){t&&this.strs.push(t)}toString(){return function(t){let e="";return t.forEach((t=>{e+=t})),e}(this.strs)}}const tp=/[\u0300-\u036f]/g,ep=(t,e)=>t.replace(new RegExp(`<${e}[^<]*(?:(?!</${e}>)<[^<]*)*</${e}>`,"gi"),"");var op,ip;!function(t){t[t.INFO=0]="INFO",t[t.WARNING=1]="WARNING",t[t.ERROR=2]="ERROR"}(op||(op={})),function(t){t.INFORMAR_NORMA=" necessrio informar a norma a ser alterada",t.OMISSIS_ANTES=" necessrio um omissis antes deste dispositivo",t.OMISSIS_SEQUENCIAIS="No pode haver mais de um omissis sequencialmente",t.RENUMERAR_DISPOSITIVO="Numere o dispositivo"}(ip||(ip={}));const rp=t=>{var e;const o=su(t)?t.caput:t;return Gd(o.texto,null!==(e=o.INDICADOR_DESDOBRAMENTO)&&void 0!==e?e:[])},np=t=>{var e;const o=su(t)?t.caput:t;return Gd(o.texto,null!==(e=o.INDICADOR_FIM_SEQUENCIA)&&void 0!==e?e:[])},ap=t=>{var e;const o=su(t)?t.caput:t;return Gd(o.texto,null!==(e=o.INDICADOR_SEQUENCIA)&&void 0!==e?e:[])},sp=ru,lp=t=>new RegExp(Qd(Wd("o seguinte acrscimo:"))+"\\s*$").test(t)||new RegExp(Qd(Wd("os seguintes acrscimos:"))+"\\s*$").test(t)||new RegExp(Qd(Wd("passa a vigorar com a seguinte alterao:"))+"\\s*$").test(t)||new RegExp(Qd(Wd("passa a vigorar com as seguintes alteraes:"))+"\\s*$").test(t),cp=t=>/^[.]*(?:\s*)["]?(\s*)?\(NR\)\s*$/.test(t)?sp:/["]?(\s*)?\(NR\)?\s*$/.test(t)?t.replace(/["](?!.*["])/,""):t!==ru&&t!==sp&&new RegExp("^[.]+$").test(t)?ru:t,up=t=>{var e,o;const i=[];var r;return(nu(t)||t.texto)&&0!==t.texto.trim().length||i.push({tipo:op.ERROR,descricao:`No foi informado um texto para ${t.artigoDefinido+" "+(null===(e=t.descricao)||void 0===e?void 0:e.toLowerCase())}.`}),nu(t)||!t.texto||function(t){const e=document.createElement("div");return e.innerHTML=t,e.innerHTML===t}(t.texto)||i.push({tipo:op.ERROR,descricao:"O contedo do dispositivo no  um HTML vlido."}),!nu(t)&&t.texto&&t.texto.trim().length>500&&i.push({tipo:op.WARNING,descricao:"Pelo princpio da conciso, o texto dos dispositivos no deve ser extenso, devendo ser utilizadas frases curtas e concisas."}),t.texto&&-1!==t.texto.indexOf("r$")&&i.push({tipo:op.WARNING,descricao:"O texto do dispositivo possui r$ (real brasileiro) com letra minscula. Deveria ser R$ com letra maiscula."}),yu(t)&&!cu(t)&&t.texto&&/^[A-Z-]/.test(Hd(t.texto))&&0!==t.texto.indexOf("R$")&&i.push({tipo:op.WARNING,descricao:`${t.descricao} deveria iniciar com letra minscula, a no ser que se trate de uma situao especial, como nome prprio.`}),!yu(t)||cu(t)||mu(t)||!t.texto||-1!==t.texto.indexOf(ru)||/^[.]+$/.test(t.texto)||Bu(t)&&!ud(t)||cd(t)||void 0===t.INDICADOR_SEQUENCIA||ap(t)||i.push({tipo:op.ERROR,descricao:`${t.descricao} deveria terminar com ponto e vrgula.`}),!su(t)&&!cu(t)||!t.texto||-1!==t.texto.indexOf(ru)||/^[.]+$/.test(t.texto)||/^[...]{3,}/.test(t.texto)||/^[A-Z-]/.test(Hd(t.texto))||i.push({tipo:op.ERROR,descricao:`${t.descricao} deveria iniciar com letra maiscula.`}),pd(t)||vu(t)||mu(t)||!t.texto||-1!==t.texto.indexOf(ru)||ud(t)||/^[.]+$/.test(t.texto)||!(!su(t)&&Bu(t)||su(t)&&Bu(t.caput))||rp(t)||i.push({tipo:op.ERROR,descricao:`${t.descricao} deveria terminar com ${Kd(t.INDICADOR_DESDOBRAMENTO)}.`}),pd(t)||!yu(t)||cu(t)||!t.texto||ju(t.pai)||Bu(t)&&!ud(t)||!cd(t)||np(t)||i.push({tipo:op.ERROR,descricao:`ltimo dispositivo de uma sequncia deveria terminar com ${Kd(t.INDICADOR_FIM_SEQUENCIA)}.`}),pd(t)||!su(t)&&!cu(t)||!t.texto||-1!==t.texto.indexOf(ru)||/^[.]+$/.test(t.texto)||Bu(t)&&!ud(t)||t.alteracoes||ap(t)||void 0!==(r=t.texto)&&/.*:[\s]{1,2}["].*[.]["]$/.test(r)||i.push({tipo:op.ERROR,descricao:`${t.descricao} deveria terminar com ${Kd(t.INDICADOR_SEQUENCIA)}.`}),pd(t)||!su(t)||!t.texto||-1!==t.texto.indexOf(ru)||ud(t)||/^[.]+$/.test(t.texto)||!t.hasAlteracao()||rp(t)||lp(t.texto)||i.push({tipo:op.ERROR,descricao:`${t.descricao} deveria terminar com ${Kd(t.INDICADOR_DESDOBRAMENTO)}.`}),pd(t)||!su(t)||!t.texto||-1!==t.texto.indexOf(ru)||/^[.]+$/.test(t.texto)||t.alteracoes||Bu(t)&&Bu(t.caput)||nd(t)||!rp(t)||i.push({tipo:op.ERROR,descricao:`${t.descricao} deveria terminar com ${Kd(t.INDICADOR_SEQUENCIA)}.`}),!su(t)||!t.texto||-1!==t.texto.indexOf(ru)||/^[.]+$/.test(t.texto)||Bu(t)&&Bu(t.caput)||!t.alteracoes||t.hasAlteracao()||!rp(t)||i.push({tipo:op.ERROR,descricao:`${t.descricao} deveria informar alteraes propostas.`}),!pd(t)&&su(t)&&t.hasAlteracao()&&!(null===(o=t.alteracoes)||void 0===o?void 0:o.base)&&i.push({tipo:op.ERROR,descricao:ip.INFORMAR_NORMA,fix:!0}),!pd(t)||vu(t)||!t.texto||-1!==t.texto.indexOf(ru)||ud(t)||/^[.]+$/.test(t.texto)||su(t)||!Bu(t)||rp(t)||i.push({tipo:op.ERROR,descricao:`${t.descricao} deveria terminar com ${Kd(t.INDICADOR_DESDOBRAMENTO)}.`}),pd(t)&&!vu(t)&&t.texto&&-1===t.texto.indexOf(ru)&&!ud(t)&&!/^[.]+$/.test(t.texto)&&su(t)&&Bu(t.caput)&&!rp(t)&&i.push({tipo:op.ERROR,descricao:`${t.descricao} deveria terminar com ${Kd(t.INDICADOR_DESDOBRAMENTO)}.`}),!pd(t)||vu(t)||!t.texto||-1!==t.texto.indexOf(ru)||ud(t)||/^[.]+$/.test(t.texto)||!rp(t)||(!su(t)||Bu(t.caput))&&Bu(t)||i.push({tipo:op.ERROR,descricao:`${t.descricao} no deveria terminar com ${Kd(t.INDICADOR_DESDOBRAMENTO)}.`}),!(pd(t)&&cu(t)&&t.texto&&-1===t.texto.indexOf(ru))||/^[.]+$/.test(t.texto)||Bu(t)||zu(t)||Fu(t)||ap(t)||Qu(t)&&mu(Qu(t))||i.push({tipo:op.ERROR,descricao:`${t.descricao} deveria terminar com ${Kd(t.INDICADOR_SEQUENCIA)}.`}),pd(t)&&t.texto&&t===rd(t)&&0===t.filhos.length&&(t.texto===sp||t.texto.indexOf(ru)>=0)&&i.push({tipo:op.ERROR,descricao:"No foi informada nenhuma alterao."}),!pd(t)||!t.texto||-1!==t.texto.indexOf(ru)||/^[.]+$/.test(t.texto)||!yu(t)||cu(t)||mu(t)||0!==t.pai.filhos.filter((t=>mu(t))).length||ju(t.pai)||Bu(t)&&!ud(t)||np(t)||sd(t)||!cd(t)||i.push({tipo:op.ERROR,descricao:`ltimo dispositivo de uma sequncia deveria terminar com ${Kd(t.INDICADOR_FIM_SEQUENCIA)}.`}),[...new Set(i)]},dp=t=>vu(t)?(t=>{var e,o,i;const r=[];var n,a;return nu(t)||t.texto&&0!==t.texto.trim().length||r.push({tipo:op.ERROR,descricao:`No foi informado um texto para ${t.artigoDefinido} ${null===(e=t.descricao)||void 0===e?void 0:e.toLowerCase()}.`}),!nu(t)&&t.texto&&(n=t.texto,/[.,:]\s*$/.test(n))&&r.push({tipo:op.ERROR,descricao:`No pode haver sinal de pontuao ao final do texto d${t.artigoDefinido} ${null===(o=t.descricao)||void 0===o?void 0:o.toLowerCase()}.`}),!nu(t)&&(a=t.texto,/<.+>/g.test(null==a?void 0:a.trim()))&&r.push({tipo:op.ERROR,descricao:`Texto d${t.artigoDefinido} ${null===(i=t.descricao)||void 0===i?void 0:i.toLowerCase()} no pode possuir formatao.`}),r})(t):up(t);var pp;function hp(t){return class extends t{constructor(){super(...arguments),this.tipoGenero="feminino",this.artigoDefinido="a",this.pronomePossessivoSingular=" da ",this.pronomePossessivoPlural=" das ",this.artigoDefinidoSingular=" a ",this.artigoDefinidoPlural=" as ",this.artigoIndefinidoSingular=" uma ",this.artigoDefinidoPrecedidoPreposicaoASingular="  ",this.artigoDefinidoPrecedidoPreposicaoAPlural=" s ",this.contracaoEmArtigoDefinidoSingular=" na "}}}function fp(t){return class extends t{constructor(){super(...arguments),this.tipoGenero="indefinido",this.artigoDefinido="",this.pronomePossessivoSingular="",this.pronomePossessivoPlural="",this.artigoDefinidoSingular="",this.artigoDefinidoPlural="",this.artigoIndefinidoSingular="",this.artigoDefinidoPrecedidoPreposicaoASingular="",this.artigoDefinidoPrecedidoPreposicaoAPlural="",this.contracaoEmArtigoDefinidoSingular=""}}}function mp(t){return class extends t{constructor(){super(...arguments),this.tipoGenero="masculino",this.artigoDefinido="o",this.pronomePossessivoSingular=" do ",this.pronomePossessivoPlural=" dos ",this.artigoDefinidoSingular=" o ",this.artigoDefinidoPlural=" os ",this.artigoIndefinidoSingular=" um ",this.artigoDefinidoPrecedidoPreposicaoASingular=" ao ",this.artigoDefinidoPrecedidoPreposicaoAPlural=" aos ",this.contracaoEmArtigoDefinidoSingular=" no "}}}!function(t){t.MASCULINO="masculino",t.FEMININO="feminino",t.INDEFINIDO="indefinido"}(pp||(pp={}));const vp=new(hp(Object)),gp=new(mp(Object)),bp=new(fp(Object)),yp=t=>"F"===t?vp:"M"===t?gp:bp;class xp{constructor(t,e){this.nome=t,this.genero="string"==typeof e?yp(e):e}}const _p={autoridades:[{urn:"federal",descricao:"Federal"},{urn:"senado.federal",descricao:"Senado Federal"},{urn:"congresso.nacional",descricao:"Congresso Nacional"}],tiposDocumento:[{urn:"lei",descricao:"Lei",genero:"F"},{urn:"lei.complementar",descricao:"Lei Complementar",genero:"F"},{urn:"lei.delegada",descricao:"Lei Delegada",genero:"F"},{urn:"decreto.legislativo",descricao:"Decreto Legislativo",genero:"M"},{urn:"decreto.lei",descricao:"Decreto-Lei",genero:"M"},{urn:"decreto",descricao:"Decreto",genero:"M"},{urn:"consolidacao.leis.trabalho",descricao:"Consolidao das Leis do Trabalho",genero:"F"},{urn:"resolucao",descricao:"Resoluo",genero:"F"},{urn:"regimento.interno",descricao:"Regimento Interno",genero:"M"},{urn:"constituicao",descricao:"Constituio",genero:"F"},{urn:"ato.disposicoes.constitucionais.transitorias",descricao:"Ato das Disposies Constitucionais Transitrias",genero:"M"},{urn:"medida.provisoria",descricao:"Medida Provisria",genero:"F"},{urn:"medida.provisoria;mpv",descricao:"Medida Provisria",genero:"F"},{urn:"emenda.constitucional",descricao:"Emenda Constitucional",genero:"F"},{urn:"emenda.constitucional.revisao",descricao:"Emenda Constitucional de Reviso",genero:"F"},{urn:"proposta.emenda.constitucional;pec",descricao:"Proposta de Emenda Constitucional",genero:"F"},{urn:"projeto.lei;pl",descricao:"Projeto de Lei",genero:"M"},{urn:"projeto.lei;pls",descricao:"Projeto de Lei do Senado",genero:"M"},{urn:"projeto.lei.complementar;plp",descricao:"Projeto de Lei Complementar",genero:"M"},{urn:"projeto.lei.complementar;pls",descricao:"Projeto de Lei Complementar do Senado",genero:"M"},{urn:"projeto.lei;plc",descricao:"Projeto de Lei da Cmara",genero:"M"},{urn:"projeto.lei.complementar;plc",descricao:"Projeto de Lei Complementar da Cmara",genero:"M"},{urn:"projeto.lei.conversao;plv",descricao:"Projeto de Lei de Converso",genero:"M"},{urn:"projeto.resolucao;prs",descricao:"Projeto de Resoluo do Senado",genero:"M"},{urn:"projeto.decreto.legislativo;pds",descricao:"Projeto de Decreto Legislativo",genero:"M"},{urn:"projeto.decreto.legislativo;pdl",descricao:"Projeto de Decreto Legislativo",genero:"M"},{urn:"substitutivo.projeto.lei.senado;scd",descricao:"Substitutivo da Cmara dos Deputados",genero:"M"},{urn:"emenda.projeto.lei.senado;ecd",descricao:"Emenda(s) da Cmara dos Deputados",genero:"F"}],fakeUrns:[{sigla:"PEC",urnAutoridade:"senado.federal",urnTipoDocumento:"proposta.emenda.constitucional;pec"},{sigla:"PL",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei;pl"},{sigla:"PLS",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei;pls"},{sigla:"PLP",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei.complementar;plp"},{sigla:"PLC",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei;plc"},{sigla:"PLV",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei.conversao;plv"},{sigla:"PRS",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.resolucao;prs"},{sigla:"PDS",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.decreto.legislativo;pds"},{sigla:"PDL",urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.decreto.legislativo;pdl"},{sigla:"SCD",urnAutoridade:"senado.federal",urnTipoDocumento:"substitutivo.projeto.lei.senado;scd"},{sigla:"ECD",urnAutoridade:"senado.federal",urnTipoDocumento:"emenda.projeto.lei.senado;ecd"},{sigla:"MPV",urnAutoridade:"senado.federal",urnTipoDocumento:"medida.provisoria;mpv"}],siglas:[{urnAutoridade:"federal",urnTipoDocumento:"medida.provisoria",sigla:"MPV"},{urnAutoridade:"congresso.nacional",urnTipoDocumento:"projeto.lei",sigla:"PLN"},{urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei",sigla:"PLS"},{urnAutoridade:"congresso.nacional",urnTipoDocumento:"medida.provisoria",sigla:"MPV"},{urnAutoridade:"senado.federal",urnTipoDocumento:"projeto.lei.senado.federal",sigla:"PLS"},{urnAutoridade:"camara.deputados",urnTipoDocumento:"projeto.lei",sigla:"PLC"}],atalhosUrn:[{urnTipoDocumento:"constituicao",urnAutoridade:"federal",urn:"urn:lex:br:federal:constituicao:1988-10-05;1988",nome:"Constituio Federal"},{urnTipoDocumento:"ato.disposicoes.constitucionais.transitorias",urnAutoridade:"federal",urn:"urn:lex:br:federal:ato.disposicoes.constitucionais.transitorias:1988-10-05;1988",nome:"Ato das Disposies Constitucionais Transitrias - ADCT"},{urnTipoDocumento:"consolidacao.leis.trabalho",urnAutoridade:"federal",urn:"urn:lex:br:federal:decreto.lei:1943-05-01;5452",nome:"Consolidao das Leis do Trabalho - CLT, aprovada pelo Decreto-Lei n 5.452, de 1 de maio de 1943",genero:"F"},{urnTipoDocumento:"regimento.interno",urnAutoridade:"senado.federal",urn:"urn:lex:br:senado.federal:resolucao:1970-11-27;93",nome:"Regimento Interno do Senado Federal",genero:"M"},{urnTipoDocumento:"regimento.interno",urnAutoridade:"congresso.nacional",urn:"urn:lex:br:congresso.nacional:resolucao:1970-08-11;1",nome:"Regimento Comum do Congresso Nacional",genero:"M"}],eventos:[{urn:"leitura",tipoTextoProcessoLegislativo:"Texto inicial",genero:"M"},{urn:"aprovacao.substitutivo.decisao.terminativa",tipoTextoProcessoLegislativo:"Redao do vencido em turno suplementar na Comisso",substitutivo:"s",genero:"F"},{urn:"aprovacao.substitutivo",tipoTextoProcessoLegislativo:"Redao do vencido em turno suplementar no Plenrio",substitutivo:"s",genero:"F"},{urn:"apresentacao.substitutivo",tipoTextoProcessoLegislativo:"Texto do substitutivo",substitutivo:"s",genero:"M"}]},wp=t=>{var e,o,i,r,n;const a=null!==(e=Ap(t))&&void 0!==e?e:{},s=t=>t.urnTipoDocumento===a.urn;return null!==(n=null!==(i=null===(o=_p.siglas.find(s))||void 0===o?void 0:o.sigla)&&void 0!==i?i:null===(r=_p.fakeUrns.find(s))||void 0===r?void 0:r.sigla)&&void 0!==n?n:""},Ap=t=>{var e;const o=null===(e=t.replace("urn:lex:br:",""))||void 0===e?void 0:e.split(":");return _p.tiposDocumento.filter((t=>t.urn===o[1]))[0]},Ep=t=>{var e,o,i;const r=null===(e=t.replace("urn:lex:br:",""))||void 0===e?void 0:e.split(":");return(null===(o=r[2])||void 0===o?void 0:o.indexOf(";"))>-1?null===(i=r[2])||void 0===i?void 0:i.substring(r[2].indexOf(";")+1):""},Op=t=>new Intl.NumberFormat("pt-BR",{style:"decimal"}).format(+t),Ip=t=>{var e,o,i,r;const n=null===(e=t.replace("urn:lex:br:",""))||void 0===e?void 0:e.split(":");if(n.length<3)return"";if("LEXML_URN_ID"===n[2])return"";if(/^\d{4};$/.test(n[2]))return n[2].split(";")[0];const a=null===(r=null===(i=null===(o=n[2])||void 0===o?void 0:o.substring(0,n[2].indexOf(";")))||void 0===i?void 0:i.split("-"))||void 0===r?void 0:r.reverse();return a?a.join("/"):""},Sp=t=>{var e,o,i,r,n;const a=["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"],s=null===(e=t.replace("urn:lex:br:",""))||void 0===e?void 0:e.split(":"),l=null===(o=s[2])||void 0===o?void 0:o.substring(0,s[2].indexOf(";"));if(/^\d{4}$/.test(l)||/\d{4}$/.test(l))return l;const c=null===(n=null===(r=null===(i=s[2])||void 0===i?void 0:i.substring(0,s[2].indexOf(";")))||void 0===r?void 0:r.split("-"))||void 0===n?void 0:n.reverse();return c?(c[1]=a[+c[1]-1],c.join(" de ")):""},Cp=t=>/^\d{4}$/.test(Ip(t))?Ip(t):Ip(t).split("/").slice(-1)[0],kp=t=>{const e=t.indexOf("!");return-1!==e?t.substring(0,e):t},Np=t=>{var e,o;const i=null===(e=(t=>{var e;const o=null===(e=t.replace("urn:lex:br:",""))||void 0===e?void 0:e.split(":");return _p.autoridades.filter((t=>t.urn===o[0]))[0]})(t))||void 0===e?void 0:e.urn,r=null===(o=Ap(t))||void 0===o?void 0:o.urn,n=/^\d{1,5}$/.test(Ep(t)),a=/\d{4}[-]/.test(Ip(t))||/^\d{4}$/.test(Ip(t))?Ip(t):(t=>{const e=t.match(/^(0[1-9]|[12][0-9]|3[01])[-/](0[1-9]|1[012])[-/](\d{4})$/);return e?`${e[3]}-${e[2]}-${e[1]}`:""})(Ip(t));return(null==t?void 0:t.startsWith("urn:lex:br:"))&&i&&r&&n&&a},Tp=t=>{var e;const o=kp(t),i=Ep(o),r=null===(e=Ap(o))||void 0===e?void 0:e.descricao,n=Ip(o),[a,s,l]=n.split("/").map((t=>parseInt(t))),c=n.includes("/")?qp(new Date(l,s-1,a)):a;return(r||"")+(i?" n "+parseInt(i).toLocaleString("pt-BR"):"")+", de "+c},qp=t=>t?t.getDate()+" de "+t.toLocaleDateString("pt-BR",{month:"long"})+" de "+t.getFullYear():void 0,Pp={M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1},Dp=t=>/^0(-[a-z]+)?$/i.test(t),Rp=t=>/^\d+$/.test(t),Lp=t=>/^\d{1,}(([-]?[1-9]+){0,2})$/.test(t),Mp=t=>/[a-zA-Z]+/.test(t),$p=t=>/^(?=[MDCLXVI])M*(C[MD]|D?C{0,3})(X[CL]|L?X{0,3})(I[XV]|V?I{0,3})$/i.test(t),jp=t=>{if(!Mp(t))return t;t=t.toLowerCase();let e=0;return[...t].forEach((t=>e=t.toLowerCase().charCodeAt(0)-97+1+26*e)),e.toString()},zp=t=>{const e=parseInt(t);return e?Fp(e):t},Fp=t=>{let e="",o=0;for(;t>0;)o=(t-1)%26,t=(t-o-1)/26,e=e.replace(/^/,String.fromCharCode(97+o));return e},Up=t=>{if(t.startsWith("0"))return"0";if(!$p(t))throw new Error("O valor '"+t+"' no  um nmero em algarismo romano vlido.");let e=0,o=1;for(let i=(t=t.toLowerCase()).length-1;i>=0;i--){const r=Bp(t.charAt(i));r>o&&(o=r),r<o?e-=r:e+=r}return e.toString()},Bp=t=>{switch(t.toLowerCase()){case"i":return 1;case"v":return 5;case"x":return 10;case"l":return 50;case"c":return 100;case"d":return 500;case"m":return 1e3;default:return 0}},Vp=t=>{let e,o="",i=-1===t.search(/-/)?parseInt(t):parseInt(t.substring(0,t.search(/-/)));const r=-1===t.search(/-/)?"":t.substring(t.search(/-/));for(const t in Pp){if(e=Math.floor(i/Pp[t]),e>=0)for(let i=0;i<e;i++)o+=t;i%=Pp[t]}return o+r},Hp=(t,e,o)=>{const i=-1===t.search(/-/)?t.replace("",""):t.substring(0,t.search(/-/)).replace("",""),r=-1===t.search(/-/)?"":t.substring(t.search(/-/));return("0"===i?"0":e?e(i):i)+(r?o?o(r):r:"")},Gp=t=>{const e=null==t?void 0:t.split("-"),o=null==e?void 0:e.map((t=>{var e;return t&&(Rp(t)?null===(e=zp(t))||void 0===e?void 0:e.toUpperCase():t)}));return(null==o?void 0:o.length)>0?null==o?void 0:o.join("-"):""},Kp=t=>{const e=null==t?void 0:t.split("-"),o=null==e?void 0:e.map((t=>t&&(Mp(t)?jp(t):t)));return(null==o?void 0:o.length)>0?null==o?void 0:o.join("-"):""},Wp=(t,e)=>{if(t===e)return 0;const o=null==t?void 0:t.split("-"),i=null==e?void 0:e.split("-"),[r,...n]=o,[a,...s]=i;if(!r||a&&parseInt(r)<parseInt(a))return 1;if(!a||r&&parseInt(r)>parseInt(a))return-1;if(t&&e&&e.includes(t))return 1;for(let t=0;t<3;t++){const e=t>=(null==n?void 0:n.length)?0:n[t],o=t>=(null==s?void 0:s.length)?0:s[t];if(+e>+o)return-1;if(+e<+o)return 1}return 0},Qp=t=>Jp(t),Xp={Artigo:t=>Rp(t.replace("",""))||/^(artigo )?[u]nico$/i.test(t),Paragrafo:t=>Rp(t.replace("",""))||/^(par[a]grafo )?[u]nico$/i.test(t),Inciso:$p,Alinea:Mp,Item:Rp},Zp=t=>{const e=null==t?void 0:t.split("-");return t&&Rp(e[0])&&1===e.length?(e[0]=""+(+e[0]+1),e.join("-")):t&&Rp(e[e.length-1])?(e[e.length-1]=""+(+e[e.length-1]+1),e.join("-")):t},Yp=t=>{const e=null==t?void 0:t.split("-");return t&&Rp(e[e.length-1])?(e[e.length-1]=e[e.length-1]+"-1",e.join("-")):t},Jp=t=>{const e=su(t)?(t=>{const e=Eu(t).indexOfArtigo(t);return e<1?[]:Eu(t).artigos.filter(((t,o)=>o<e))})(t):Zu(t),o=su(t)?(t=>{const e=Eu(t).indexOfArtigo(t);return-1===e||Eu(t).artigos.length===e+1?[]:Eu(t).artigos.filter(((t,o)=>o>e))})(t):Yu(t),i=e&&e.filter((t=>hd(t)||gd(t))).reverse()[0],r=o&&o.filter((t=>hd(t)||gd(t)))[0],n=null==e?void 0:e.filter((t=>t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO)).reverse()[0];if(!Hu(t)&&!r)return"1";if(!i&&r)return n?"0"===n.numero?Yp("0"):Zp(n.numero):"0";if(i&&!r)return Zp(Hu(t).numero);if(i&&r)return i===Hu(t)?Yp(i.numero):Zp(Hu(t).numero);const a=(t=>{let e=0;const o=t.tipo;for(;void 0!==t&&!hd(t)&&!gd(t)&&t.tipo===o;)e++,t=su(t)?Lu(t.pai,t):Vu(t);return e})(t);return""+a},th=t=>pd(t)?(t=>{var e,o,i,r,n,a,s,l,c;const u=[];return null===t&&u.push({tipo:op.ERROR,descricao:"O dispositivo no foi informado"}),null!==t&&void 0!==t.numero&&0===t.numero.trim().length&&u.push({tipo:op.ERROR,descricao:"O dispositivo no contm numerao"}),null===t||mu(t)||0!==(null===(e=t.rotulo)||void 0===e?void 0:e.trim().length)||u.push({tipo:op.ERROR,descricao:"O dispositivo no contm rtulo"}),null===t||au(t)||!(null===(o=t.rotulo)||void 0===o?void 0:o.endsWith(t.tipo))&&(null===(i=t.rotulo)||void 0===i?void 0:i.toLowerCase())!==(null===(r=Cl[t.tipo.toLowerCase()].descricao)||void 0===r?void 0:r.toLowerCase())||t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&"1"===(null===(n=Xu(t))||void 0===n?void 0:n.numero)&&(null===(a=Xu(t))||void 0===a?void 0:a.situacao.descricaoSituacao)!==ou.DISPOSITIVO_ADICIONADO||u.push({tipo:op.ERROR,descricao:ip.RENUMERAR_DISPOSITIVO,fix:!0}),null!==t&&pd(t)&&cu(t)&&!zu(t)&&(null===(s=t.rotulo)||void 0===s?void 0:s.endsWith("nico."))&&u.push({tipo:op.ERROR,descricao:`Quando houver mais de um ${t.descricao}, no pode se tratar de '${t.descricao} nico'`}),null===t||nd(t)||void 0===t.numero||!Uu(t)||mu(t)||Vu(t)&&(void 0===Vu(t)||mu(Su(Vu(t))))||"1"===t.numero||"1u"===t.numero||u.push({tipo:op.ERROR,descricao:ip.OMISSIS_ANTES,fix:!0}),null!==t&&!nd(t)&&void 0!==t.numero&&t.pai.indexOf(t)>0&&Hu(t)&&t.tipo!==(null===(l=Hu(t))||void 0===l?void 0:l.rotulo)&&!mu(Vu(t))&&!((t,e)=>{if(-1===t.numero.indexOf("-")&&-1===e.numero.indexOf("-"))return+t.numero+1==+e.numero;const o=t.numero.split("-"),i=e.numero.split("-");if(i.length>o.length){const t=i.pop();return o.join("-")===i.join("-")&&"1"===t}{o.length>i.length&&o.pop();const t=o.pop(),e=i.pop();return o.join("-")===i.join("-")&&+t+1==+e}})(Vu(t),t)&&t.numero!==(null===(c=Hu(t))||void 0===c?void 0:c.numero)&&u.push({tipo:op.ERROR,descricao:ip.OMISSIS_ANTES,fix:!0}),null!==t&&void 0!==t.numero&&t.pai.indexOf(t)>0&&Zu(t).filter((t=>void 0!==t.numero)).filter((e=>e!==t)).filter((e=>t.numero!==e.numero&&1===Wp(t.numero,e.numero))).length>0&&u.push({tipo:op.ERROR,descricao:"O dispositivo tem nmero menor ao de algum dispositivo anterior"}),null!==t&&void 0!==t.numero&&!t.pai.isLastFilho(t)&&ed(t).filter((e=>e!==t&&t.pai===e.pai&&void 0!==e.numero)).filter((e=>1===Wp(e.numero,t.numero))).length>0&&u.push({tipo:op.ERROR,descricao:"O dispositivo tem nmero maior do que algum dispositivo posterior"}),null!==t&&void 0!==t.numero&&ku(t).filter((e=>e.numero&&e.numero===t.numero)).length>1&&u.push({tipo:op.ERROR,descricao:"O dispositivo tem nmero igual ao de outro dispositivo"}),u})(t):(t=>{const e=[];return null===t&&e.push({tipo:op.ERROR,descricao:"O dispositivo no foi informado"}),null!==t&&t.numero&&0===t.numero.trim().length&&e.push({tipo:op.ERROR,descricao:"O dispositivo no contm numerao"}),null!==t&&!mu(t)&&t.rotulo&&0===t.rotulo.trim().length&&e.push({tipo:op.ERROR,descricao:"O dispositivo no contm rtulo"}),e})(t),eh=t=>nu(t)&&void 0===t.pai||hd(t)||t.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO?[]:(t=>{var e,o,i,r;const n=[];if(null===t&&n.push({tipo:op.ERROR,descricao:"O dispositivo no foi informado"}),null!==t&&t.filhos.length>0&&0===t.tiposPermitidosFilhos.length&&n.push({tipo:op.ERROR,descricao:`Segundo a Legislao vigente, ${t.descricao} no poderia possuir filhos`}),null===t||!pd(t)||t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO||"1"!==(null===(e=Xu(t))||void 0===e?void 0:e.numero)&&"1u"!==(null===(o=Xu(t))||void 0===o?void 0:o.numero)||(null===(i=Xu(t))||void 0===i?void 0:i.situacao.descricaoSituacao)===ou.DISPOSITIVO_ADICIONADO||n.push({tipo:op.ERROR,descricao:"No  permitido um dispositivo de alterao da norma antes do primeiro dispositivo"}),null!==t&&(au(t)||bu(t))&&n.push({tipo:op.ERROR,descricao:"No foi possvel validar a natureza deste dispositivo com base na legislao vigente"}),null===t||!t.pai||bu(t.pai)||mu(t)||au(t)||t.tiposPermitidosPai.includes(t.pai.tipo)||n.push({tipo:op.ERROR,descricao:`Segundo a Legislao vigente, ${t.descricao} somente poderia pertencer a ${t.tiposPermitidosPai.join(", ")}`}),null!==t&&!au&&t.filhos.length>0&&(0===t.tiposPermitidosFilhos.length||t.filhos.filter((e=>!t.tiposPermitidosFilhos.includes(e.tipo))).length>0)){const e=0===t.tiposPermitidosFilhos.length?"no poderia possuir filhos":`somente poderia possuir ${t.tiposPermitidosFilhos.join(", ")}`;n.push({tipo:op.ERROR,descricao:`Segundo a Legislao vigente, ${t.descricao} ${e}`})}var a,s;return null!==t&&mu(t)&&void 0!==Vu(t)&&mu(Su(Vu(t))||mu(Vu(t)))&&n.push({tipo:op.ERROR,descricao:"No pode haver mais de um omissis sequencialmente"}),null!==t&&t.pai&&mu(t)&&lu(t.pai)&&void 0===Qu(t)&&Cl.omissis.tipo===(null===(r=t.pai.pai.filhos.filter((t=>!lu(t.pai)))[0])||void 0===r?void 0:r.tipo)&&n.push({tipo:op.ERROR,descricao:ip.OMISSIS_SEQUENCIAIS,fix:!0}),null!==t&&mu(t)&&t.pai&&!Qu(t)&&t.pai&&void 0!==Qu(lu(t.pai)?t.pai.pai:t.pai)&&mu(Qu(lu(t.pai)?t.pai.pai:t.pai))&&n.push({tipo:op.ERROR,descricao:ip.OMISSIS_SEQUENCIAIS,fix:!0}),null!==t&&mu(t)&&t.pai&&void 0!==Ju(t)&&mu(Ju(t))&&(a=t,s=Ju(t),a.pai===s.pai&&((t,e)=>t.pai.indexOf(t)+1===e.pai.indexOf(e))(a,s))&&n.push({tipo:op.ERROR,descricao:ip.OMISSIS_SEQUENCIAIS,fix:!0}),null!==t&&mu(t)&&void 0!==Vu(t)&&hd(Vu(t))&&void 0!==Vu(t).numero&&void 0!==Qu(t)&&hd(Qu(t))&&void 0!==Qu(t).numero&&0===Wp(""+(+Vu(t).numero+1),Qu(t).numero)&&n.push({tipo:op.ERROR,descricao:"No pode haver omissis entre dispositivos originais sequenciais"}),n})(t).concat(dp(t),th(t),(t=>{const e=[];return t.alteracoes&&t.alteracoes.base?(Np(t.alteracoes.base)||e.push({tipo:op.ERROR,descricao:"No foi informada uma norma alterada vlida"}),e):[]})(t));class oh{constructor(t){this.descricaoSituacao=ou.DISPOSITIVO_SUPRIMIDO,this.dispositivoOriginal=t}getAcoesPermitidas(t,e){const o=[];return(du(t)?t.pai.pai:t.pai).situacao.descricaoSituacao!==ou.DISPOSITIVO_SUPRIMIDO&&(o.push(_c),o.push(...e.filter((e=>e.descricao.startsWith("Adicionar")&&t.tipo===e.tipo)))),o}}const ih=t=>nu(t)?"cpt_alt1":t.tagId?t.tagId+(lu(t)?"":mu(t)?function(t){if(t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO){const e=ku(t).filter((e=>e.pai===t.pai));return e.sort(((e,o)=>{const i=(e.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO?1:0)-(o.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO?1:0);return i||t.pai.indexOf(e)-t.pai.indexOf(o)})),e.indexOf(t)+1}return Zu(t).length+1}(t):t.numero?(su(t)||cu(t))&&"1"===t.numero&&zu(t)?"1u":t.numero:`[sn:${t.uuid}]`):void 0;const rh=(t,e=[])=>{if(nu(t)&&void 0===t.pai)return;const o=ih(t);if(o&&e.unshift(o),su(t)){if(pd(t)){const o=Eu(t);rh(o,e)}}else rh(t.pai,e)},nh=t=>{const e=[];return rh(t,e),e.join("_")},ah=t=>{var e,o;return void 0!==(null===(o=null===(e=t.hierarquia)||void 0===e?void 0:e.pai)||void 0===o?void 0:o.uuidAlteracao)||void 0!==t.uuidAlteracao},sh=(t,e=0)=>void 0===(null==t?void 0:t.pai)||vu(t)?e:su(t)?pd(t)?++e:e:(e=nd(null==t?void 0:t.pai)?e+2:++e,su(null==t?void 0:t.pai)?e:sh(t.pai,e)),lh=t=>{var e;const o=t.pai?lu(t.pai)?t.pai.pai:t.pai:void 0;return{tipo:null==o?void 0:o.tipo,uuid:null==o?void 0:o.uuid,uuidAlteracao:o&&pd(t)?null===(e=Eu(t).pai)||void 0===e?void 0:e.uuid:void 0,existeNaNormaAlterada:(null==o?void 0:o.situacao.descricaoSituacao)===ou.DISPOSITIVO_ADICIONADO?o.situacao.existeNaNormaAlterada:void 0}},ch=(t,e=!0,o=!1)=>{var i,r,n;const a=t.pai,s="Articulacao"!==t.tipo&&pd(t)&&sd(t);let l,c,u;if(s){const e=rd(t);l=e.notaAlteracao,c=e.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO}if(o){const e=Pu(t);e&&(u=ch(lu(e)||dd(e)?e.pai:e))}return{tipo:t.tipo,nivel:sh(t),agrupador:vu(t),hierarquia:{pai:a?lh(t):void 0,posicao:a?a.indexOf(t):void 0,numero:t.numero},editavel:!(nu(t)||t.situacao instanceof oh),sendoEditado:!1,uuid:t.uuid,lexmlId:t.numero&&nh(t),numero:t.numero,rotulo:null!==(i=t.rotulo)&&void 0!==i?i:"",conteudo:{texto:t.texto},norma:null===(r=t.alteracoes)||void 0===r?void 0:r.base,existeNaNormaAlterada:fd(t)?t.situacao.existeNaNormaAlterada:void 0,index:0,acoesPossiveis:e?t.getAcoesPossiveis(t):[],descricaoSituacao:null===(n=t.situacao)||void 0===n?void 0:n.descricaoSituacao,mensagens:hd(t)?[]:t.mensagens,abreAspas:nd(t),fechaAspas:s,notaAlteracao:l,dispositivoAlteracao:pd(t),tipoOmissis:"Omissis"===t.tipo?gh(a):void 0,podeEditarNotaAlteracao:c,tiposAgrupadoresQuePodemSerInseridosAntes:Ld(t),tiposAgrupadoresQuePodemSerInseridosDepois:Rd(t),artigoDefinido:t.artigoDefinido,elementoAnteriorNaSequenciaDeLeitura:u}},uh=t=>{const e=ch(t);return e.mensagens=eh(t),e},dh=(t,e,o=!1)=>{const i=o?ch:uh;void 0!==e.filhos&&e.filhos.forEach((e=>{var r;const n=i(e);su(e)&&(n.conteudo.texto=e.caput.texto),t.push(n),su(e)&&e.hasAlteracao()&&(null===(r=e.alteracoes)||void 0===r||r.filhos.forEach((e=>{t.push(i(e)),dh(t,e,o)}))),dh(t,e,o)}))},ph=(t,e=!1)=>{var o;const i=e?ch:uh,r=[];return r.push(i(t,!0)),nu(t)&&!pd(t)&&Vd(t)&&!yd(Eu(t)).some((t=>t.situacao.tipoEmenda===Au.EMENDA_ARTIGO_ONDE_COUBER))&&r.push(i(t.projetoNorma.ementa,!0)),su(t)&&t.hasAlteracao()&&su(t)&&t.hasAlteracao()&&(null===(o=t.alteracoes)||void 0===o||o.filhos.forEach((t=>{r.push(i(t)),dh(r,t,e)}))),dh(r,t,e),r},hh=(t,e,o=!1)=>{var i,r;if("Ementa"===e.tipo)return null===(i=t.projetoNorma)||void 0===i?void 0:i.ementa;const n=((t,e)=>{var o,i;return!ah(e)||dd(t)?t:null!==(i=null===(o=hh(t,{uuid:e.hierarquia?e.hierarquia.pai.uuidAlteracao:e.uuidAlteracao}))||void 0===o?void 0:o.alteracoes)&&void 0!==i?i:t})(t,e);if(!o&&ah(e)){const t=n.pai?n.pai:hh(n,{uuid:e.hierarquia?e.hierarquia.pai.uuidAlteracao:e.uuidAlteracao});if(!(null==t?void 0:t.alteracoes))return;return null===(r=t.alteracoes)||void 0===r?void 0:r.filhos.flatMap((t=>{const e=[];return xd(t,e),e})).filter((t=>t.uuid===e.uuid))[0]}if((null==e?void 0:e.tipo)===Cl.artigo.tipo){const t=n.filhos.find((t=>t.uuid===e.uuid));if(t)return t}const a=(null==e?void 0:e.tipo)===Cl.articulacao.tipo||void 0===(null==e?void 0:e.uuid)?n:Iu(n,e.uuid);return null!==a?a:void 0},fh=(t,e,o)=>{var i;const r=eh(e);if(r.length>0||e.mensagens&&(null===(i=e.mensagens)||void 0===i?void 0:i.length)>0){e.mensagens=r;const i=ch(e,o);i.mensagens=eh(e),t.push(i)}},mh=(t,e=!0)=>{const o=[];if(!t)return[];if(pd(t)&&Bu(t)&&t.filhos.filter((t=>t.tipo===Cl.omissis.tipo)).length>0&&(fh(o,t),t.filhos.filter((t=>t.tipo===Cl.omissis.tipo)).forEach((t=>fh(o,t)))),yu(t)||au(t)){const i=du(t)?t.pai.pai:t.pai;fh(o,i),vu(i)&&fh(o,du(t)?t.pai.pai:t.pai),ku(t).forEach((i=>{(e||i!==t)&&fh(o,i,!0)}))}else!e||nu(t)||vu(t)||fh(o,t,!0);const i=Vu(t);return void 0!==i&&mu(i)&&fh(o,i,!1),o},vh=t=>(su(t)||cu(t))&&ku(t).length<=2?ku(t).filter((e=>t.uuid!==e.uuid)):ed(t,!0).filter((e=>e.tipo===t.tipo)),gh=t=>{switch(null==t?void 0:t.tipo){case"Caput":return"inciso-caput";case"Inciso":return"alinea";case"Alinea":return"item";case"Artigo":return"paragrafo";case"Paragrafo":return"inciso-paragrafo";default:return""}},bh=t=>{var e,o,i;return!(!t.dispositivoAlteracao||void 0===t.existeNaNormaAlterada||"Omissis"===t.tipo||t.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO)&&("Artigo"===t.tipo||(null===(i=null===(o=null===(e=t.hierarquia)||void 0===e?void 0:e.pai)||void 0===o?void 0:o.existeNaNormaAlterada)||void 0===i||i))};var yh;!function(t){t.ArticulacaoAtualizada="ArticulacaoAtualizada",t.ComandoEmendaGerado="ComandoEmendaGerado",t.DocumentoCarregado="DocumentoCarregado",t.InformarDadosAssistente="InformarDadosAssistente",t.InformarNorma="InformarNorma",t.ElementoModificado="ElementoModificado",t.ElementoIncluido="ElementoIncluido",t.ElementoRemovido="ElementoRemovido",t.ElementoRenumerado="ElementoRenumerado",t.ElementoRestaurado="ElementoRestaurado",t.ElementoSuprimido="ElementoSuprimido",t.ElementoValidado="ElementoValidado",t.ElementoSelecionado="ElementoSelecionado",t.ElementoMarcado="ElementoMarcado",t.SituacaoElementoModificada="SituacaoElementoModificada",t.AtualizacaoAlertas="AtualizacaoAlertas",t.ElementoReferenciado="ElementoReferenciado"}(yh||(yh={}));const xh=(t,e)=>((t,e)=>{const o=ph(t);return{articulacao:t,modo:e,past:[],present:[],future:[],ui:{events:[{stateType:yh.DocumentoCarregado,elementos:o}],alertas:[]}}})(e.articulacao,e.classificacao);const _h=function(t=0){return{next:()=>++t}}();function wh(t){return class extends t{constructor(){super(...arguments),this.mensagens=[]}}}class Ah{constructor(t){this.tipoAcao=t,this.isDispositivoAlteracao=!0,this.descricao="INICIAR_BLOCO"===t?"Adicionar alterao de norma":"Finalizar alterao de norma"}execute(t,e,o,i=!1){return{type:"ADICIONAR_ELEMENTO",subType:this.tipoAcao,atual:t,novo:{tipo:o,isDispositivoAlteracao:this.isDispositivoAlteracao,conteudo:{texto:e}},hasDesmembramento:i}}}const Eh=new Ah("INICIAR_BLOCO"),Oh=new Ah("FINALIZAR_BLOCO");function Ih(t){return class extends t{get alteracoes(){}hasAlteracao(){return!1}}}var Sh;function Ch(t){return class extends t{constructor(){super(...arguments),this.tipoConteudo=Sh.ConteudoTexto,this.texto=""}}}function kh(t){return class extends t{addFilho(t,e){if(e&&this.filhos.indexOf(e)>=0){const o=this.filhos.indexOf(e)+1;this.isLastFilho(e)?this.filhos.push(t):this.filhos.splice(o,0,t)}else this.filhos.push(t);su(t)&&Eu(t).addArtigo(t,e)}addFilhoOnPosition(t,e){var o;if(t.pai=this,this.filhos.splice(e,0,t),su(t)){const e=null!==(o=Vu(t))&&void 0!==o?o:Lu(t.pai.pai,t.pai),i=Eu(t),r=e?i.indexOfArtigo(e)+1:0;i.addArtigoOnPosition(t,r)}}hasArtigos(){return this.filhos.filter((t=>su(t))).length>0}isLastFilho(t){return this.filhos.indexOf(t)===this.filhos.length-1}get filhos(){var t;return this._filhos=null!==(t=this._filhos)&&void 0!==t?t:[],this._filhos}indexOf(t){return this.filhos.indexOf(t)}removeFilho(t){this._filhos=this.filhos.filter((e=>e.uuid!==t.uuid)),su(t)&&Eu(t).removeArtigo(t)}renumeraFilhos(){var t;Td(this)&&(this.filhos.filter((t=>pd(t)&&ad(t)||t.situacao.descricaoSituacao===ou.DISPOSITIVO_NOVO||t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO)).filter((t=>!su(t))).forEach((t=>{t.numero=Qp(t),t.createRotulo(t),t.id=nh(t)})),null===(t=Eu(this.filhos[0]))||void 0===t||t.renumeraArtigos())}}}function Nh(t){return class extends t{addFilho(t,e){if(e){const o=this.filhos.indexOf(e)+1;this.isLastFilho(e)?this.filhos.push(t):this.filhos.splice(o,0,t)}else this.filhos.push(t)}addFilhoOnPosition(t,e){t.pai=this,this.filhos.splice(e,0,t)}hasArtigos(){return this.filhos.filter((t=>su(t))).length>0}isLastFilho(t){return this.filhos.indexOf(t)===this.filhos.length-1}get filhos(){var t;return this._filhos=null!==(t=this._filhos)&&void 0!==t?t:[],this._filhos}indexOf(t){return this.filhos.indexOf(t)}removeFilho(t){this._filhos=this.filhos.filter((e=>e.uuid!==t.uuid))}renumeraFilhos(){Td(this)&&this.filhos.forEach((t=>{(pd(t)&&ad(t)||t.situacao.descricaoSituacao===ou.DISPOSITIVO_NOVO||t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO)&&(t.numero=Qp(t),t.createRotulo(t),t.id=nh(t))}))}}}function Th(t){return class extends t{constructor(){super(...arguments),this.type="NumeracaoAgrupadorLcp95",this.informouAgrupadorUnico=!1}getNomeAgrupadorUnico(t){const e=`${t.descricao} nic${t.artigoDefinido}`;return["Secao","Subsecao"].includes(t.tipo)?e:e.toUpperCase()}normalizaNumeracao(t){var e;const o=null!==(e=t.split(" ")[1])&&void 0!==e?e:t,i=/[CDILMVX]+(-[a-zA-Z]+)*/.exec(o);return i?i[0]:Qd(o).trim().replace(/-$/,"").trim()}createNumeroFromRotulo(t){if(t&&!["parte","livro","ttulo","captulo","seo","subseo"].some((e=>e===t.toLowerCase())))if(this.informouAgrupadorUnico=/.*[u]nic[ao]/i.test(t),this.informouAgrupadorUnico)this.numero="1";else{const e=this.normalizaNumeracao(t);if(!e)return void(this.numero=void 0);const o=Hp(e,Dp(t)?null:Up,Kp);this.numero=Lp(o)?o:void 0}}createRotulo(t){var e,o,i;const r=void 0===t.descricao?null!==(e=t.name)&&void 0!==e?e:"":["Secao","Subsecao"].includes(t.tipo)?t.descricao:t.descricao.toLocaleUpperCase();void 0===this.numero||t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&t.situacao.tipoEmenda===Au.EMENDA_ARTIGO_ONDE_COUBER&&"Articulacao"===(null===(o=t.pai)||void 0===o?void 0:o.tipo)?this.rotulo=r:void 0===this.numero||Lp(this.numero)?t.isDispositivoAlteracao&&nd(t)?this.rotulo=this.informouAgrupadorUnico?this.getNomeAgrupadorUnico(t):r+" "+Hp(this.numero,Vp,t.isDispositivoAlteracao?Gp:void 0):1!==ku(t).length||(null===(i=t.pai)||void 0===i?void 0:i.situacao).existeNaNormaAlterada?this.rotulo=r+" "+Hp(this.numero,Vp,t.isDispositivoAlteracao?Gp:void 0):this.rotulo=this.getNomeAgrupadorUnico(t):this.rotulo=r+" "+this.numero}setMaiusculaPrimeiraLetraDaDescricao(t){const e=t.split("-"),[o,...i]=e,r=o.toLocaleLowerCase().split(" ");for(let t=0;t<r.length;t++)r[t]=$p(r[t])?r[1].toUpperCase():Xd(r[t]);return r.join(" ")+(i.length>0?"-"+i.join(""):"")}getNumeracaoParaComandoEmenda(){if(void 0===this.numero)return"[ainda no numerado]";const t=this.rotulo.trim().replace(/^.+? +/,"");return t.toLowerCase().startsWith("nic")?this.setMaiusculaPrimeiraLetraDaDescricao(t):t}getNumeracaoComRotuloParaComandoEmenda(){const t=new Jd;return t.append(this.setMaiusculaPrimeiraLetraDaDescricao(this.rotulo)),t.toString()}}}function qh(t){return class extends t{constructor(){super(...arguments),this.type="NumeracaoIndisponivel"}createRotulo(){this.rotulo=void 0}createNumeroFromRotulo(){}getNumeracaoParaComandoEmenda(){return""}getNumeracaoComRotuloParaComandoEmenda(){return""}}}!function(t){t.ConteudoTexto="Contedo de Texto"}(Sh||(Sh={}));const Ph=new class{constructor(){this.descricao="Omitir texto do dispositivo"}execute(t){return t.conteudo.texto=ru,rc.execute(t)}};const Dh=new class{constructor(){this.descricao="Remover linha pontilhada"}execute(t){return t.conteudo.texto="",rc.execute(t)}},Rh=[];Rh.push(pc),Rh.push(sc),Rh.push(cc),Rh.push(uc),Rh.push(tu),Rh.push(fc),Rh.push(vc),Rh.push(xc),Rh.push(Eh),Rh.push(Oh),Rh.push(Oc),Rh.push(Ic),Rh.push(Sc),Rh.push(Cc),Rh.push(kc),Rh.push(Nc),Rh.push(Tc),Rh.push(qc),Rh.push(Pc),Rh.push(Dc),Rh.push(Rc),Rh.push(Lc),Rh.push(zc),Rh.push(Mc),Rh.push(Kc),Rh.push($c),Rh.push(jc),Rh.push(Fc),Rh.push(Uc),Rh.push(Bc),Rh.push(Vc),Rh.push(Hc),Rh.push(Gc),Rh.push(Wc),Rh.push(Qc),Rh.push(Xc),Rh.push(bc),Rh.push(_c),Rh.push(Ac),Rh.push(wc),Rh.push(Yc),Rh.push(Ql),Rh.push(Xl),Rh.push(Zl),Rh.push(Yl),Rh.push(Jl),Rh.push(tc),Rh.push(ql),Rh.push(Pl),Rh.push(Rl),Rh.push(Ll),Rh.push($l),Rh.push(jl),Rh.push(Fl),Rh.push(Ul),Rh.push(Hl),Rh.push(Gl),Rh.push(Al),Rh.push(El),Rh.push(Ph),Rh.push(Dh);const Lh=[];Lh.push(Nl),Lh.push(Tl),Lh.push(Dl),Lh.push(Ml),Lh.push(zl),Lh.push(Vl);const Mh=t=>Rh.includes(t),$h=[...Rh,...Lh,Zc],jh=t=>$h.filter((e=>e instanceof Wl&&e.tipo===t))[0],zh=t=>{var e,o;return pd(t.pai)&&0===t.filhos.length&&t.tipo!==Cl.omissis.name&&(null===(e=Vu(t))||void 0===e?void 0:e.tipo)!==Cl.omissis.name&&(null===(o=Qu(t))||void 0===o?void 0:o.tipo)!==Cl.omissis.name};var Fh;!function(t){t.AGRUPADOR="No  possvel mover agrupadores de artigo.",t.ORIGINAL="No  possvel mover um dispositivo original.",t.PROXIMO_DIFERENTE_PARAGRAFO="O prximo dispositivo no  um pargrafo.",t.PROXIMO_DIFERENTE_ARTIGO_ALTERACAO_NORMA="O tipo do prximo dispositivo no corresponde ao tipo do dispositivo atual (alterao de norma).",t.PROXIMO_DIFERENTE_ALINEA="O prximo dispositivo no  uma alnea.",t.PROXIMO_DIFERENTE_INCISO="O prximo dispositivo no  um inciso."}(Fh||(Fh={}));const Uh=(t,e)=>{const o=t.past?t.past:[];return o.push(JSON.parse(JSON.stringify(e))),o},Bh=(t,e)=>{var o;return{articulacao:t.articulacao,modo:t.modo,past:t.past,present:t.present,future:t.future,ui:{events:null===(o=t.ui)||void 0===o?void 0:o.events,message:e}}},Vh=(t,e)=>{var o;let i;if(e.endsWith("EmOmissis")){const t=e.replace("transformar","").replace("EmOmissis","");i="transformar"+t+"EmOmissis"+t}else i=e;const r=t.getAcoesPossiveis(t).filter((t=>t instanceof Ec)).filter((t=>t.nomeAcao===e||t.nomeAcao.replaceAll("IncisoCaput","Inciso").replaceAll("IncisoParagrafo","Inciso")===i));return null===(o=r[0])||void 0===o?void 0:o.nomeAcao},Hh=(t,e)=>t.getAcoesPossiveis(t).filter((t=>t instanceof e)).length>0,Gh=(t,e)=>("Dispositivo Original"===t.situacao.descricaoSituacao&&Wh(t,Fh.ORIGINAL),Bh(e,{tipo:op.ERROR,descricao:"Operao no permitida. <br>"+Kh(t.motivosOperacaoNaoPermitida)})),Kh=t=>void 0!==t?t.join("<br>"):"",Wh=(t,e)=>{void 0!==t.motivosOperacaoNaoPermitida?t.motivosOperacaoNaoPermitida.includes(e)||t.motivosOperacaoNaoPermitida.push(e):(t.motivosOperacaoNaoPermitida=[],t.motivosOperacaoNaoPermitida.push(e))};function Qh(t){return class extends t{getAcoesPossiveis(t){var e,o,i,r;const n=[];if(!vu(t))return[];if(n.push(ql),n.push(Pl),0===Zu(t).length&&Yu(t).length>0&&t.filhos.filter((t=>vu(t))).length>0&&t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO||n.push(bc),t.pai&&nu(t.pai)&&vu(t.pai)&&void 0===Hu(t)){const i=null===(e=t.tiposPermitidosPai)||void 0===e?void 0:e.indexOf(t.pai.tipo);null===(o=t.tiposPermitidosPai)||void 0===o||o.filter(((t,e)=>e>i)).forEach((t=>n.push(jh(t))))}if(t.pai&&!nu(t.pai)&&vu(t.pai)&&0===t.pai.indexOf(t)){const e=null===(i=t.tiposPermitidosPai)||void 0===i?void 0:i.indexOf(t.pai.tipo);null===(r=t.tiposPermitidosPai)||void 0===r||r.filter(((t,o)=>o>e)).forEach((t=>n.push(jh(t))))}return pd(t)&&n.push(xc),n.push(Al),pd(t)&&t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&(t.situacao.existeNaNormaAlterada?n.push(uc):n.push(cc)),Wh(t,Fh.AGRUPADOR),t.getAcoesPermitidas(t,n)}getAcaoPossivelTab(t){}getAcaoPossivelShiftTab(t){}}}class Xh{constructor(){this.descricaoSituacao=ou.DISPOSITIVO_NOVO}getAcoesPermitidas(t,e){return[...new Set(e)].filter((t=>void 0!==t)).filter((t=>"Adicionar"!==t.descricao&&"Atualizar dispositivo"!==t.descricao)).sort(((t,e)=>t.descricao.localeCompare(e.descricao)))}}class Zh extends Xh{constructor(){super(...arguments),this.descricaoSituacao=ou.DISPOSITIVO_ADICIONADO,this.tipoEmenda=Au.EMENDA}getAcoesPermitidas(t,e){return[...new Set(e)].filter((t=>!(t instanceof Wl))).filter((t=>void 0!==t)).filter((t=>"Adicionar"!==t.descricao&&"Atualizar dispositivo"!==t.descricao)).sort(((t,e)=>t.descricao.localeCompare(e.descricao)))}}function Yh(t){return class extends t{constructor(){super(...arguments),this.situacao=new Xh}getAcoesPermitidas(t,e){var o;return null===(o=this.situacao)||void 0===o?void 0:o.getAcoesPermitidas(t,e)}}}class Jh{constructor(t){this.tipo=Cl[t].tipo,this.tagId=Cl[t].tagId,this.name=Cl[t].name,this.descricao=Cl[t].descricao,this.descricaoPlural=Cl[t].descricaoPlural,this.tiposPermitidosPai=Cl[t].tiposPermitidosPai,this.tiposPermitidosFilhos=Cl[t].tiposPermitidosFilhos,this.tipoProvavelFilho=Cl[t].tipoProvavelFilho,this.INDICADOR_SEQUENCIA=Cl[t].INDICADOR_SEQUENCIA,this.INDICADOR_FIM_SEQUENCIA=Cl[t].INDICADOR_FIM_SEQUENCIA,this.INDICADOR_DESDOBRAMENTO=Cl[t].INDICADOR_DESDOBRAMENTO}}const tf=(t,e)=>{void 0!==e.tipoProvavelFilho&&t.filhos.forEach(((o,i)=>{var r;const n=xf(su(e)&&Cl.inciso.name===e.tipoProvavelFilho?e.caput:e,e.tipoProvavelFilho);n.texto=null!==(r=o.texto)&&void 0!==r?r:"",n.situacao=o.situacao,n.mensagens=eh(n),n.createRotulo(n),o.filhos&&tf(o,n),i===t.filhos.length-1&&e.renumeraFilhos()}))},ef=(t,e)=>{t.tipo===e.tipo&&t.filhos.forEach((o=>{var i;const r=xf(su(e)&&lu(o.pai)?e.caput:e,o.tipo);o.rotulo?r.rotulo=o.rotulo:r.createRotulo(r),r.texto=null!==(i=o.texto)&&void 0!==i?i:"",r.situacao=o.situacao,t.removeFilho(o),r.mensagens=eh(o),o.filhos&&(t.tipo===e.tipo?ef(o,r):tf(o,r)),0===t.filhos.length&&e.renumeraFilhos()}))},of=Yh(function(t){return class extends t{getAcoesPossiveis(t){const e=[];return hu(t)?(e.push(bc),pd(t)&&t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO&&"1"===t.numero||e.push(Rl),e.push(Ll),void 0!==Ju(t)?e.push(fc):Wh(t,Fh.PROXIMO_DIFERENTE_ALINEA),void 0!==Gu(t)?e.push(vc):Wh(t,Fh.PROXIMO_DIFERENTE_ALINEA),pd(t)&&!Nd(t.pai)&&e.push(xc),pd(t)&&sd(t)&&e.push(Eh),(0===t.texto.length||ap(t))&&e.push(Dl),(0===t.texto.length||rp(t))&&e.push(zl),(zu(t)||Fu(t))&&e.push(cu(t.pai.pai)?Tc:Nc),Uu(t)&&(void 0===Vu(t)||mu(Vu(t)))||e.push(qc),zh(t)&&e.push(Oc),pd(t)&&t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&(t.situacao.existeNaNormaAlterada?e.push(uc):e.push(cc)),qd(t)&&e.push(tu),kd(t)&&!wu(t)&&e.push(Ph),kd(t)&&wu(t)&&e.push(Dh),t.getAcoesPermitidas(t,e)):[]}getAcaoPossivelTab(t){var e;if(hu(t))return null===(e=t.tiposPermitidosFilhos)||void 0===e?void 0:e.map((e=>{const o="transformar"+t.tipo+"Em"+e;return t.getAcoesPossiveis(t).filter((t=>t instanceof Ec)).filter((t=>t instanceof Ec&&t.nomeAcao&&o&&t.nomeAcao===o))[0]}))[0]}getAcaoPossivelShiftTab(t){var e;if(hu(t))return zu(t)||Fu(t)?cu(t.pai.pai)?Tc:Nc:null===(e=t.tiposPermitidosPai)||void 0===e?void 0:e.map((e=>{const o="transformar"+t.tipo+"Em"+e;return t.getAcoesPossiveis(t).filter((t=>t instanceof Ec)).filter((t=>t instanceof Ec&&t.nomeAcao&&o&&t.nomeAcao===o))[0]}))[0]}}}(wh(hp(Ih(Ch(function(t){return class extends t{constructor(){super(...arguments),this.type="NumeracaoAlineaLcp95",this.SUFIXO=")"}normalizaNumeracao(t){const e=/[a-z]+(-[a-zA-Z0-9]+)*/.exec(t.trim());return e?e[0]:Qd(t).trim().replace(/\)$/,"").trim()}createNumeroFromRotulo(t){this.numero=Hp(this.normalizaNumeracao(t),Dp(t)?null:jp,Kp)}createRotulo(t){this.rotulo=void 0===this.numero?Cl.alinea.name:Hp(this.numero,zp,t.isDispositivoAlteracao?Gp:void 0)+this.SUFIXO}getNumeracaoParaComandoEmenda(){return void 0===this.numero?"[ainda no numerada]":""+this.rotulo.trim().replace(this.SUFIXO,"")+""}getNumeracaoComRotuloParaComandoEmenda(){var t,e;return void 0===this.numero?(null===(t=Cl.alinea.descricao)||void 0===t?void 0:t.toLocaleLowerCase())+" [ainda no numerada]":(null===(e=Cl.alinea.descricao)||void 0===e?void 0:e.toLocaleLowerCase())+" "+this.getNumeracaoParaComandoEmenda()}}}(Nh(Jh)))))))),rf=Yh(function(t){return class extends t{getAcoesPossiveis(t){var e,o,i,r,n,a,s;const l=[];if(!su(t))return[];if(l.push(Nl),l.push(bc),Ju(t)||Dd(t)?l.push(fc):Wh(t,Fh.PROXIMO_DIFERENTE_ARTIGO_ALTERACAO_NORMA),Gu(t)||gu(t.pai)?l.push(vc):Wh(t,Fh.PROXIMO_DIFERENTE_ARTIGO_ALTERACAO_NORMA),nd(t)&&pd(t)&&t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO&&"1"===t.numero||l.push(ql),l.push(Pl),pd(t)||l.push(sc),pd(t)&&l.push(xc),t.alteracoes&&t.situacao.descricaoSituacao!==ou.DISPOSITIVO_MODIFICADO&&l.push(pc),t.hasAlteracao()||pd(t)||0!==t.texto.length&&rp(t)||l.push(Tl),t.hasAlteracao()||pd(t)||0!==t.texto.length&&!rp(t)||l.push(Ml),t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO||t.hasAlteracao()||pd(t)||Bu(t)||l.push(Eh),t.pai.indexOf(t)>0&&void 0!==Vu(t)&&!(null===(e=Vu(t))||void 0===e?void 0:e.hasAlteracao())&&!mu(Vu(t))&&l.push(Pc),t.pai&&!pd(t)&&nu(t.pai)&&0===t.pai.filhos.filter((t=>vu(t))).length&&l.push(Yl),t.pai&&pd(t)&&vu(t.pai)&&l.push(Yl),!pd(t)&&t.pai&&(t=>{const e=t.pai.indexOf(t);return t.pai.filhos.filter(((t,o)=>o>e&&vu(t))).length>0})(t)&&l.push(jh($u(t).tipo)),!pd(t)&&vu(t.pai)){const e=null!==(i=null===(o=t.tiposPermitidosPai)||void 0===o?void 0:o.indexOf(t.pai.tipo))&&void 0!==i?i:0;null===(r=t.tiposPermitidosPai)||void 0===r||r.filter((()=>e>0)).filter(((o,i)=>t.pai.indexOf(t)>0?i>=e:i>e)).forEach((t=>l.push(jh(t))))}if(!pd(t)&&vu(t.pai)&&!nu(t.pai)&&t.pai.indexOf(t)>0&&(t=>{var e;return void 0!==(null===(e=t.pai)||void 0===e?void 0:e.pai)&&Nu(t.pai.pai,t.pai,[]).length>0})(t)){const e=null!==(a=null===(n=t.tiposPermitidosPai)||void 0===n?void 0:n.indexOf(t.pai.tipo))&&void 0!==a?a:0,o=Nu(t.pai.pai,t.pai,[]).reduce(((t,e)=>t.includes(e.tipo)&&void 0!==$u(e)?t:t.concat(e.tipo)),[]);null===(s=t.tiposPermitidosPai)||void 0===s||s.filter((()=>e>0)).filter((t=>o.includes(t))).forEach((t=>l.push(jh(t))))}return pd(t)&&t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&(t.situacao.existeNaNormaAlterada?l.push(uc):l.push(cc)),qd(t)&&l.push(tu),l.push(El),kd(t)&&!wu(t)&&l.push(Ph),kd(t)&&wu(t)&&l.push(Dh),t.getAcoesPermitidas(t,l)}getAcaoPossivelTab(t){var e;if(su(t))return null===(e=t.tiposPermitidosFilhos)||void 0===e?void 0:e.map((e=>{const o="transformar"+t.tipo+"Em"+e;return t.getAcoesPossiveis(t).filter((t=>t instanceof Ec)).filter((t=>t instanceof Ec&&t.nomeAcao&&o&&t.nomeAcao===o))[0]}))[0]}getAcaoPossivelShiftTab(t){var e;if(t.tiposPermitidosFilhos)return du(t)&&(zu(t)||Fu(t))?$c:pu(t)&&(zu(t)||Fu(t))?Mc:hu(t)&&(zu(t)||Fu(t))?cu(t.pai.pai)?Tc:Nc:null===(e=t.tiposPermitidosPai)||void 0===e?void 0:e.map((e=>{const o="transformar"+t.tipo+"Em"+e;return t.getAcoesPossiveis(t).filter((t=>t instanceof Ec)).filter((t=>t instanceof Ec&&t.nomeAcao&&o&&t.nomeAcao===o))[0]}))[0]}}}(wh(mp(function(t){return class extends t{hasAlteracao(){var t;return!!this.alteracoes&&(null===(t=this.alteracoes.filhos)||void 0===t?void 0:t.length)>0}}}(function(t){return class extends t{constructor(){super(...arguments),this.type="NumeracaoArtigoLcp95",this.PREFIXO="Art. ",this.SUFIXO="",this.ARTIGO_UNICO="Artigo nico.",this.informouArtigoUnico=!1}normalizaNumeracao(t){return t.replace(/["]/g,"").replace(/\./g,"").replace(/artigo [u]nico/i,"1").replace(/(art[.]{0,1})/i,"").replace(/[]/i,"").trim()}isNumeracaoComComplementoAlfabetico(t){return/^\d{1,}[]?(([-]?[a-zA-Z]+){0,2})$/.test(t)}isNumeracaoComComplementoNumerico(t){return/^\d{1,}[]?(([-]?[1-9]+){0,2})$/.test(t)}createNumeroFromRotulo(t){const e=this.normalizaNumeracao(t);this.informouArtigoUnico=/.*[u]nico/i.test(t),this.numero=this.informouArtigoUnico?"1":this.isNumeracaoComComplementoAlfabetico(e)?Hp(e,void 0,Kp):this.isNumeracaoComComplementoNumerico(e)?e:void 0}createRotulo(t){void 0===t?this.rotulo=Cl.artigo.descricao:t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO||t.situacao.tipoEmenda!==Au.EMENDA_ARTIGO_ONDE_COUBER||pd(t)?void 0===this.numero?this.rotulo=t.tipo:void 0===this.numero||Lp(this.numero)?nd(t)?this.rotulo=this.informouArtigoUnico?this.ARTIGO_UNICO:this.PREFIXO+this.getNumeroAndSufixoNumeracao(t):1===Eu(t).artigos.length?this.rotulo=this.ARTIGO_UNICO:this.rotulo=this.PREFIXO+this.numero===void 0?void 0:this.PREFIXO+this.getNumeroAndSufixoNumeracao(t):this.rotulo=this.PREFIXO+this.numero+this.SUFIXO:this.rotulo="Art."}getNumeroAndSufixoNumeracao(t,e=!1){var o;const i=null===(o=this.numero)||void 0===o?void 0:o.split("-"),[r,...n]=i,a=+(null!=r?r:"1")>0&&parseInt(null!=r?r:"1",10)<10;return(a?r+this.SUFIXO:r)+(n.length>0?"-"+(null==n?void 0:n.map((e=>t.isDispositivoAlteracao?zp(e):e)).join("-").toUpperCase()):"")+(e||a&&!n.length?"":".")}getNumeracaoParaComandoEmenda(t){return void 0===this.numero?"[ainda no numerado]":this.informouArtigoUnico?"artigo nico":this.getNumeroAndSufixoNumeracao(t,!0)}getNumeracaoComRotuloParaComandoEmenda(t){var e;return void 0===this.numero?(null===(e=Cl.artigo.descricao)||void 0===e?void 0:e.toLowerCase())+" [ainda no numerado]":this.informouArtigoUnico?"artigo nico":"art. "+this.getNumeroAndSufixoNumeracao(t,!0)}}}(function(t){return class extends t{get filhos(){const t=this.getIncisosCaput(),e=this.paragrafos;return t.concat(e)}getIncisosCaput(){var t,e;return null!==(e=null===(t=this.caput)||void 0===t?void 0:t.filhos)&&void 0!==e?e:[]}get paragrafos(){var t;return this._paragrafos=null!==(t=this._paragrafos)&&void 0!==t?t:[],this._paragrafos}addFilhoOnPosition(t,e){uu(t)?this.caput.addFilhoOnPosition(t,e):(t.pai=this,this.paragrafos.splice(e-this.getIncisosCaput().length,0,t))}addFilho(t,e){lu(t)?this.caput=t:uu(t)?this.addIncisoCaput(t,e):this.addParagrafo(t,e)}removeFilho(t){var e;uu(t)?null===(e=this.caput)||void 0===e||e.removeFilho(t):this.removeParagrafo(t)}addIncisoCaput(t,e){this.caput.addFilho(t,e)}addParagrafo(t,e){if(e){const o=this.paragrafos.indexOf(e)+1;this.isLastFilho(e)?this.paragrafos.push(t):this.paragrafos.splice(o,0,t)}else this.paragrafos.push(t)}removeParagrafo(t){var e;this._paragrafos=null===(e=this._paragrafos)||void 0===e?void 0:e.filter((e=>e.uuid!==t.uuid?e:e.pai=void 0))}isLastFilho(t){return this.paragrafos.indexOf(t)===this.paragrafos.length-1}indexOf(t){return uu(t)?this.caput.indexOf(t):this.filhos.indexOf(t)}renumeraIncisos(){var t;null===(t=this.caput)||void 0===t||t.renumeraFilhos()}renumeraParagrafos(){this.paragrafos.forEach((t=>{pd(t)&&ad(t)||t.situacao.descricaoSituacao===ou.DISPOSITIVO_NOVO||t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO?(t.numero=Qp(t),t.createRotulo(t),t.id=nh(t)):t.createRotulo(t)}))}isParagrafoUnico(){return 1===this.paragrafos.length}renumeraFilhos(){Td(this)&&(this.renumeraIncisos(),this.renumeraParagrafos())}}}(class extends Jh{constructor(){super("artigo")}get texto(){var t,e;return null!==(e=null===(t=this.caput)||void 0===t?void 0:t.texto)&&void 0!==e?e:""}set texto(t){this.caput.texto=t}}))))))),nf=Yh(function(t){return class extends t{getAcoesPossiveis(t){return[]}getAcaoPossivelTab(t){}getAcaoPossivelShiftTab(t){}}}(wh(mp(Ih(Ch(function(t){return class extends t{constructor(){super(...arguments),this.type="NumeracaoIndisponivel"}createRotulo(){this.rotulo=void 0}createNumeroFromRotulo(){}getNumeracaoParaComandoEmenda(){return""}getNumeracaoComRotuloParaComandoEmenda(){return"caput"}}}(Nh(Jh)))))))),af=Yh(function(t){return class extends t{getAcoesPossiveis(t){const e=[];return au(t)?(e.push(bc),pd(t)&&sd(t)&&e.push(Eh),(cu(t.pai)||lu(t.pai)||uu(t.pai)||hu(t.pai))&&t.pai.tipoProvavelFilho.length>0&&e.push($h.filter((e=>e instanceof Ec&&e.nomeAcao==="transformarDispositivoGenericoEm"+t.pai.tipoProvavelFilho))[0]),t.getAcoesPermitidas(t,e)):[]}getAcaoPossivelTab(t){}getAcaoPossivelShiftTab(t){}}}(wh(fp(Ih(Ch(function(t){return class extends t{constructor(){super(...arguments),this.type="NumeracaoDispositivoGenericoLcp95",this.SUFIXO=" -"}createNumeroFromRotulo(){}createRotulo(){this.rotulo=void 0===this.numero?"dg":this.numero+this.SUFIXO}getNumeracaoParaComandoEmenda(){return void 0===this.numero?"dg":this.numero}getNumeracaoComRotuloParaComandoEmenda(){return this.getNumeracaoParaComandoEmenda()}}}(Nh(Jh)))))))),sf=Yh(function(t){return class extends t{getAcoesPossiveis(t){const e=[];return uu(t)?(e.push(bc),pd(t)&&t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO&&"1"===t.numero||e.push($l),e.push(jl),void 0!==Ju(t)?e.push(fc):Wh(t,Fh.PROXIMO_DIFERENTE_INCISO),void 0!==Gu(t)?e.push(vc):Wh(t,Fh.PROXIMO_DIFERENTE_INCISO),pd(t)&&!Nd(t.pai)&&e.push(xc),pd(t)&&sd(t)&&e.push(Eh),rp(t)&&e.push(Dl),ap(t)&&e.push(Ml),np(t)&&Fu(t)&&e.push(Vl),!du(t)||Uu(t)&&(void 0===Vu(t)||mu(Vu(t)))||e.push(jc),du(t)&&(zu(t)||Fu(t))&&e.push($c),du(t)&&zh(t)&&e.push(Ic),pu(t)&&(zu(t)||Uu(t))&&e.push(kc),pu(t)&&(!Uu(t)||void 0!==Vu(t)&&mu(Vu(t)))&&e.push(zc),pu(t)&&zh(t)&&e.push(kc),pu(t)&&(zu(t)||Fu(t))&&e.push(Mc),pd(t)&&t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&(t.situacao.existeNaNormaAlterada?e.push(uc):e.push(cc)),qd(t)&&e.push(tu),kd(t)&&!wu(t)&&e.push(Ph),kd(t)&&wu(t)&&e.push(Dh),t.getAcoesPermitidas(t,e)):[]}getAcaoPossivelTab(t){var e;if(uu(t))return!du(t)||zu(t)&&Uu(t)?pu(t)&&(zu(t)||Fu(t))?zc:null===(e=t.tiposPermitidosFilhos)||void 0===e?void 0:e.map((e=>{const o=uu(t)?t.pai.tipo:"",i=e.endsWith(Cl.inciso.name)?!cu(t)||zu(t)&&Uu(t)?"IncisoCaput":"IncisoParagrafo":e,r="transformar"+t.tipo+o+"Em"+i;return t.getAcoesPossiveis(t).filter((t=>t instanceof Ec)).filter((t=>t instanceof Ec&&t.nomeAcao&&r&&t.nomeAcao===r))[0]}))[0]:jc}getAcaoPossivelShiftTab(t){var e;if(uu(t))return du(t)&&(zu(t)||Fu(t))?$c:pu(t)&&(zu(t)||Fu(t))?Mc:null===(e=t.tiposPermitidosPai)||void 0===e?void 0:e.map((e=>{const o="transformar"+t.tipo+"Em"+e;return t.getAcoesPossiveis(t).filter((t=>t instanceof Ec)).filter((t=>t instanceof Ec&&t.nomeAcao&&o&&t.nomeAcao===o))[0]}))[0]}}}(wh(mp(Ih(Ch(function(t){return class extends t{constructor(){super(...arguments),this.type="NumeracaoIncisoLcp95",this.SUFIXO=" "}normalizaNumeracao(t){const e=/[CDILMVX]+(-[a-zA-Z0-9]+)*/.exec(t);return e?e[0]:Qd(t).trim().replace(/-$/,"").trim()}createNumeroFromRotulo(t){const e=Hp(this.normalizaNumeracao(t),Dp(t)?null:Up,Kp);this.numero=Lp(e)?e:void 0}createRotulo(t){this.rotulo=void 0===this.numero?Cl.inciso.name:Hp(this.numero,Vp,t.isDispositivoAlteracao?Gp:void 0)+this.SUFIXO}getNumeracaoParaComandoEmenda(t){return void 0===this.numero?"[ainda no numerado]":Hp(this.numero,Vp,t.isDispositivoAlteracao?Gp:void 0)}getNumeracaoComRotuloParaComandoEmenda(t){var e,o;return void 0===this.numero?(null===(e=Cl.inciso.descricao)||void 0===e?void 0:e.toLocaleLowerCase())+" [ainda no numerado]":(null===(o=Cl.inciso.descricao)||void 0===o?void 0:o.toLocaleLowerCase())+" "+this.getNumeracaoParaComandoEmenda(t)}}}(Nh(Jh)))))))),lf=Yh(function(t){return class extends t{getAcoesPossiveis(t){const e=[];return fu(t)?(e.push(bc),pd(t)&&t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO&&"1"===t.numero||e.push(Fl),e.push(Ul),void 0!==Ju(t)&&e.push(fc),void 0!==Gu(t)&&e.push(vc),pd(t)&&!Nd(t.pai)&&e.push(xc),pd(t)&&sd(t)&&e.push(Eh),(zu(t)||Fu(t))&&e.push(Kc),zh(t)&&e.push(Sc),pd(t)&&t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&(t.situacao.existeNaNormaAlterada?e.push(uc):e.push(cc)),qd(t)&&e.push(tu),kd(t)&&!wu(t)&&e.push(Ph),kd(t)&&wu(t)&&e.push(Dh),t.getAcoesPermitidas(t,e)):[]}getAcaoPossivelTab(t){var e;if(fu)return null===(e=t.tiposPermitidosFilhos)||void 0===e?void 0:e.map((e=>{const o="transformar"+t.tipo+"Em"+e;return t.getAcoesPossiveis(t).filter((t=>t instanceof Ec)).filter((t=>t instanceof Ec&&t.nomeAcao&&o&&t.nomeAcao===o))[0]}))[0]}getAcaoPossivelShiftTab(t){var e;if(t.tiposPermitidosFilhos)return null===(e=t.tiposPermitidosPai)||void 0===e?void 0:e.map((e=>{const o="transformar"+t.tipo+"Em"+e;return t.getAcoesPossiveis(t).filter((t=>t instanceof Ec)).filter((t=>t instanceof Ec&&t.nomeAcao&&o&&t.nomeAcao===o))[0]}))[0]}}}(wh(mp(Ih(Ch(function(t){return class extends t{constructor(){super(...arguments),this.type="NumeracaoItemLcp95",this.SUFIXO="."}normalizaNumeracao(t){const e=/\d+(-[a-zA-Z0-9]+)*/.exec(t.trim());return e?e[0]:Qd(t).trim().replace(/\.$/,"").trim()}isNumeracaoValidaParaRotulo(t){return/^\d{1,}(([-]?[a-zA-Z0-9]+){0,2})$/.test(t)}createNumeroFromRotulo(t){const e=this.normalizaNumeracao(t);this.numero=this.isNumeracaoValidaParaRotulo(e)?Hp(e,void 0,Kp):void 0}createRotulo(t){this.rotulo=void 0===this.numero?Cl.item.name:Hp(this.numero,void 0,t.isDispositivoAlteracao?Gp:void 0)+this.SUFIXO}getNumeracaoParaComandoEmenda(){return void 0===this.numero?"[ainda no numerado]":this.rotulo.trim().replace(".","")}getNumeracaoComRotuloParaComandoEmenda(){var t,e;return void 0===this.numero?(null===(t=Cl.item.descricao)||void 0===t?void 0:t.toLocaleLowerCase())+" [ainda no numerado]":(null===(e=Cl.item.descricao)||void 0===e?void 0:e.toLocaleLowerCase())+" "+this.getNumeracaoParaComandoEmenda()}}}(Nh(Jh)))))))),cf=Yh(function(t){return class extends t{getAcoesPossiveis(t){const e=[];return cu(t)?(e.push(bc),pd(t)&&t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO&&"1"===t.numero||e.push(Hl),e.push(Gl),void 0!==Ju(t)?e.push(fc):Wh(t,Fh.PROXIMO_DIFERENTE_PARAGRAFO),void 0!==Gu(t)?e.push(vc):Wh(t,Fh.PROXIMO_DIFERENTE_PARAGRAFO),pd(t)&&!Nd(t.pai)&&e.push(xc),t.texto&&rp(t)&&e.push(Ml),!Uu(t)&&!zu(t)||Vu(t)&&mu(Vu(t))||e.push(Xc),!Uu(t)&&cu(Vu(t))&&e.push(Qc),(Fu(t)||zu(t))&&e.push(Wc),zh(t)&&e.push(Cc),pd(t)&&sd(t)&&e.push(Eh),pd(t)&&t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&(t.situacao.existeNaNormaAlterada?e.push(uc):e.push(cc)),qd(t)&&e.push(tu),kd(t)&&!wu(t)&&e.push(Ph),kd(t)&&wu(t)&&e.push(Dh),t.getAcoesPermitidas(t,e)):[]}getAcaoPossivelTab(t){var e;if(cu(t))return null===(e=t.tiposPermitidosFilhos)||void 0===e?void 0:e.map((e=>{const o=e.endsWith(Cl.inciso.name)?cu(t)&&!zu(t)&&!Uu(t)&&cu(Vu(t))?"IncisoParagrafo":"IncisoCaput":e,i="transformar"+t.tipo+"Em"+o;return t.getAcoesPossiveis(t).filter((t=>t instanceof Ec)).filter((t=>t instanceof Ec&&t.nomeAcao&&i&&t.nomeAcao===i))[0]}))[0]}getAcaoPossivelShiftTab(t){var e;if(t.tiposPermitidosFilhos)return du(t)&&(zu(t)||Fu(t))?$c:pu(t)&&(zu(t)||Fu(t))?Mc:hu(t)&&(zu(t)||Fu(t))?cu(t.pai.pai)?Tc:Nc:null===(e=t.tiposPermitidosPai)||void 0===e?void 0:e.map((e=>{const o="transformar"+t.tipo+"Em"+e;return t.getAcoesPossiveis(t).filter((t=>t instanceof Ec)).filter((t=>t instanceof Ec&&t.nomeAcao&&o&&t.nomeAcao===o))[0]}))[0]}}}(wh(mp(Ih(Ch(function(t){return class extends t{constructor(){super(...arguments),this.type="NumeracaoParagrafoLcp95",this.PREFIXO=" ",this.SUFIXO="",this.PARAGRAFO_UNICO="Pargrafo nico.",this.informouParagrafoUnico=!1}normalizaNumeracao(t){return t.trim().replace(/\./g,"").replace(//i,"").replace(/par[a]grafo [u]nico/i,"1").replace(/[]/i,"").trim()}isNumeracaoComComplementoAlfabetico(t){return/^\d{1,}[]?(([-]?[a-zA-Z]+){0,2})$/.test(t)}isNumeracaoComComplementoNumerico(t){return/^\d{1,}[]?(([-]?[1-9]+){0,2})$/.test(t)}createNumeroFromRotulo(t){const e=this.normalizaNumeracao(t);this.informouParagrafoUnico=/.*[u]nico/i.test(t),this.numero=this.informouParagrafoUnico?"1":this.isNumeracaoComComplementoAlfabetico(e)?Hp(e,void 0,Kp):this.isNumeracaoComComplementoNumerico(e)?e:void 0}createRotulo(t){var e,o;void 0!==this.numero&&t?Lp(this.numero)?t.isDispositivoAlteracao?Nd(t)?1===(null===(e=t.pai)||void 0===e?void 0:e.filhos.filter((t=>cu(t))).length)?this.rotulo=this.PARAGRAFO_UNICO:this.rotulo=this.PREFIXO+this.numero===void 0?void 0:this.PREFIXO+this.getNumeroAndSufixoNumeracao(t):this.rotulo=this.informouParagrafoUnico?this.PARAGRAFO_UNICO:this.PREFIXO+this.getNumeroAndSufixoNumeracao(t):1===(null===(o=t.pai)||void 0===o?void 0:o.filhos.filter((t=>cu(t))).length)?this.rotulo=this.PARAGRAFO_UNICO:this.rotulo=this.PREFIXO+this.numero===void 0?void 0:this.PREFIXO+this.getNumeroAndSufixoNumeracao(t):this.rotulo=this.getNumeroAndSufixoNumeracao(t):this.rotulo=Cl.paragrafo.name}getNumeroAndSufixoNumeracao(t,e=!1){var o;const i=null===(o=this.numero)||void 0===o?void 0:o.split("-"),[r,...n]=i,a=parseInt(null!=r?r:"1",10)<10;return(a?r+this.SUFIXO:r)+(n.length>0?"-"+(null==n?void 0:n.map((e=>t.isDispositivoAlteracao?zp(e):e)).join("-").toUpperCase()):"")+(e||a&&!n.length?"":".")}getNumeracaoParaComandoEmenda(t){return void 0===this.numero?"[ainda no numerado]":this.isParagrafoUnico()?"pargrafo nico":this.getNumeroAndSufixoNumeracao(t,!0)}getNumeracaoComRotuloParaComandoEmenda(t){var e;return void 0===this.numero?(null===(e=Cl.paragrafo.descricao)||void 0===e?void 0:e.toLocaleLowerCase())+" [ainda no numerado]":this.isParagrafoUnico()?"pargrafo nico":" "+this.getNumeroAndSufixoNumeracao(t,!0)}isParagrafoUnico(){var t,e;return this.isDispositivoAlteracao&&(null===(t=this.rotulo)||void 0===t?void 0:t.includes("nico"))||!this.isDispositivoAlteracao&&1===(null===(e=this.pai)||void 0===e?void 0:e.filhos.filter((t=>cu(t))).length)}}}(Nh(Jh)))))))),uf=Yh(Qh(wh(fp(Ih(Ch(Th(kh(class extends Jh{constructor(){super("articulacao")}get artigos(){var t;return null!==(t=this._artigos)&&void 0!==t?t:[]}addArtigo(t,e){var o;this._artigos=null!==(o=this._artigos)&&void 0!==o?o:[],void 0!==e?this._artigos.splice(this._artigos.indexOf(e)+1,0,t):this._artigos.push(t)}addArtigoOnPosition(t,e){var o;this._artigos=null!==(o=this._artigos)&&void 0!==o?o:[],this._artigos.splice(e,0,t)}removeArtigo(t){var e;this._artigos=null!==(e=this._artigos)&&void 0!==e?e:[],this._artigos=this._artigos.filter((e=>e.uuid!==t.uuid))}renumeraArtigos(){this.artigos.filter((t=>t.situacao.descricaoSituacao===ou.DISPOSITIVO_NOVO||t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO)).forEach((t=>{pd(t)||(t.numero=Qp(t)),t.createRotulo(t),t.id=nh(t);const e=t.caput;e&&(e.id=nh(e))}))}indexOfArtigo(t){return this.artigos.indexOf(t)}})))))))),df=Yh(Qh(wh(mp(Ih(Ch(Th(kh(Jh)))))))),pf=Yh(Qh(wh(fp(Ih(Ch(Th(kh(Jh)))))))),hf=Yh(Qh(wh(mp(Ih(Ch(Th(kh(Jh)))))))),ff=Yh(Qh(wh(hp(Ih(Ch(Th(kh(Jh)))))))),mf=Yh(Qh(wh(hp(Ih(Ch(Th(kh(Jh)))))))),vf=Yh(Qh(wh(hp(Ih(Ch(Th(kh(Jh)))))))),gf=Yh(Qh(wh(mp(Ih(Ch(Th(kh(Jh)))))))),bf=Yh(function(t){return class extends t{getAcoesPossiveis(t){const e=[];return mu(t)?(e.push(bc),void 0!==Ju(t)&&e.push(fc),void 0!==Gu(t)&&e.push(vc),pd(t)&&sd(t)&&e.push(Eh),nu(t.pai)&&void 0!==Vu(t)&&e.push(Uc),lu(t.pai)&&e.push(Bc),su(t.pai)&&e.push(Gc),cu(t.pai)&&e.push(Vc),uu(t.pai)&&e.push(Fc),hu(t.pai)&&e.push(Hc),qd(t)&&e.push(tu),t.getAcoesPermitidas(t,e)):[]}getAcaoPossivelTab(t){}getAcaoPossivelShiftTab(t){}}}(hp(Ih(function(t){return class extends t{constructor(){super(...arguments),this.tipoConteudo=Sh.ConteudoTexto,this._texto=ru}get texto(){return this._texto}set texto(t){const e=cp(t);this._texto=e===sp?sp:ru}}}(qh(Nh(Jh))))))),yf=Yh(function(t){return class extends t{getAcoesPossiveis(t){const e=[];return xu(t)?(e.push(Pl),e.push(Al),t.getAcoesPermitidas(t,e)):[]}getAcaoPossivelTab(t){}getAcaoPossivelShiftTab(t){}}}(hp(Ih(Ch(qh(Nh(Jh))))))),xf=(t,e,o,i)=>{const r=_f(e,t);return void 0!==i&&i>=0?t.addFilhoOnPosition(r,i):o?t.addFilho(r,o):t.addFilho(r),r},_f=(t,e)=>{let o;switch(t.toLowerCase()){case"alinea":o=new of(t.toLowerCase());break;case"artigo":o=new rf,o.caput=_f(Cl.caput.tipo,o);break;case"capitulo":o=new df(t.toLowerCase());break;case"caput":o=new nf(t.toLowerCase());break;case"inciso":o=new sf(t.toLowerCase());break;case"item":o=new lf(t.toLowerCase());break;case"livro":o=new hf(t.toLowerCase());break;case"omissis":o=new bf(t.toLowerCase());break;case"paragrafo":o=new cf(t.toLowerCase());break;case"parte":o=new ff(t.toLowerCase());break;case"secao":o=new vf(t.toLowerCase());break;case"subsecao":o=new mf(t.toLowerCase());break;case"titulo":o=new gf(t.toLowerCase());break;case"ementa":o=new yf(t.toLowerCase());break;default:o=e&&vu(e)?new pf("agrupadorGenerico"):new af("generico"),o.mensagens=[],o.mensagens.push({tipo:op.WARNING,descricao:"No foi possvel validar a natureza deste dispositivo com base na legislao vigente"})}return o.uuid=_h.next(),o.name=t,o.pai=uu(o)&&su(e)?e.caput:e,o.isDispositivoAlteracao=pd(o),Tf(o),o},wf=()=>{const t=new uf;return t.uuid=_h.next(),t},Af=t=>{t.alteracoes=wf(),t.alteracoes.pai=t},Ef=(t,e)=>{var o,i,r,n,a,s,l,c,u,d,p,h,f,m,v,g,b,y,x,_,w,A,E,O,I,S,C,k;let N;if(pd(t))if("INICIAR_BLOCO"===e.subType)N=Nf(Cl.artigo.tipo,Eu(t)),N.texto=(null===(r=null===(i=null===(o=e.novo)||void 0===o?void 0:o.conteudo)||void 0===i?void 0:i.texto)||void 0===r?void 0:r.length)>0?null===(a=null===(n=e.novo)||void 0===n?void 0:n.conteudo)||void 0===a?void 0:a.texto:"";else if("FINALIZAR_BLOCO"===e.subType){const o=Eu(t);N=Of(o.pai),N.texto=cp(null!==(c=null===(l=null===(s=e.novo)||void 0===s?void 0:s.conteudo)||void 0===l?void 0:l.texto)&&void 0!==c?c:"")}else if(((t,e)=>{var o,i,r;if(!pd(t))return!1;const n=Tu(t);return Fu(n)&&(a=cp(null!==(r=null===(i=null===(o=e.atual)||void 0===o?void 0:o.conteudo)||void 0===i?void 0:i.texto)&&void 0!==r?r:""),/\.["](?:\s*\(NR\))\s*$/.test(a))&&sd(t);var a})(t,e)){const o=Eu(t);N="INICIAR_BLOCO"===e.subType?Nf(Cl.artigo.tipo,o):Of(o.pai),N.texto="INICIAR_BLOCO"===e.subType?"":cp(null!==(p=null===(d=null===(u=e.novo)||void 0===u?void 0:u.conteudo)||void 0===d?void 0:d.texto)&&void 0!==p?p:"")}else N=Of(t),N.createRotulo(),N.texto=(null===(m=null===(f=null===(h=e.novo)||void 0===h?void 0:h.conteudo)||void 0===f?void 0:f.texto)||void 0===m?void 0:m.length)>0?cp(null!==(b=null===(g=null===(v=e.novo)||void 0===v?void 0:v.conteudo)||void 0===g?void 0:g.texto)&&void 0!==b?b:""):"";else t.alteracoes||lp(null===(x=null===(y=e.atual)||void 0===y?void 0:y.conteudo)||void 0===x?void 0:x.texto)||(null===(_=e.novo)||void 0===_?void 0:_.isDispositivoAlteracao)?(t.hasAlteracao()||Af(t),N=Nf(t.tipo,t.alteracoes),N.texto=(null===(E=null===(A=null===(w=e.novo)||void 0===w?void 0:w.conteudo)||void 0===A?void 0:A.texto)||void 0===E?void 0:E.length)>0?null===(I=null===(O=e.novo)||void 0===O?void 0:O.conteudo)||void 0===I?void 0:I.texto:""):(N=Of(t),N.texto=null!==(k=null===(C=null===(S=e.novo)||void 0===S?void 0:S.conteudo)||void 0===C?void 0:C.texto)&&void 0!==k?k:"");return N},Of=t=>t.hasAlteracao()?If(t):su(t)?pd(t)?xf(t.caput,Cl.inciso.tipo,void 0,0):Cf(t):vu(t)?kf(t):pd(t)?mu(t)?xf(t.pai,su(t.pai)?Cl.paragrafo.tipo:t.pai.tipoProvavelFilho,t):Bu(t)||rp(t)?xf(t,t.tipoProvavelFilho,t):xf(t.pai,t.tipo,t):xu(t)?xf(t.pai,Cl.artigo.tipo,void 0,0):Sf(t),If=t=>{var e;return t.pai.isLastFilho(t)&&(null===(e=null==t?void 0:t.pai)||void 0===e?void 0:e.pai)?xf(t.pai.pai,t.pai.tipo,t.pai):xf(t.pai,t.tipo,t)},Sf=t=>{if(rp(t)){const e=t.tipoProvavelFilho;return t.pai.filhos.length>0?xf(t,e,void 0,0):xf(t,e)}if(t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ORIGINAL&&np(t)&&t.pai.isLastFilho(t)){if(du(t)){const e=t.pai.pai;return e.filhos.filter((t=>cu(t))).length>0?xf(e,Cl.paragrafo.tipo,void 0,0):xf(e,Cl.paragrafo.tipo)}return xf(t.pai.pai,t.pai.tipo,t.pai)}return xf(t.pai,t.tipo,t)},Cf=t=>{if(rp(t)){const e=t.tipoProvavelFilho;if(e===Cl.inciso.tipo){const o=t.caput;return o.filhos.length>0?xf(o,e,void 0,0):xf(o,e)}return t.pai.filhos.length>0?xf(t,e,void 0,0):xf(t,e)}return ap(t)&&t.filhos.length>0&&cu(t.filhos[0])?xf(t,Cl.paragrafo.tipo,void 0,0):xf(t.pai,t.tipo,t)},kf=t=>xf(t,Cl.artigo.tipo,void 0,0),Nf=(t,e,o,i)=>{const r=xf(e,t,o,i);return r.situacao=new Zh,r.isDispositivoAlteracao=!0,r.notaAlteracao="NR",r.createRotulo(r),r},Tf=t=>{pd(t)&&(Eu(t).renumeraFilhos=()=>{},Eu(t).renumeraArtigos=()=>{})},qf=new Map;qf.set("Alinea",/(al[i]nea|ali.?\s)\s*([u]nica|[a-z]+[)]?(?:-[a-z])?).*/i),qf.set("Artigo",/(art\.?|artigo)\s*([u]nico\s*|\d+(?:-[a-z])?).*/i),qf.set("Inciso",/(inciso|inc.?\s)\s*([u]nico|[MDCLXVI]+[)]?(?:-[a-z])?).*/i),qf.set("Item",/(item)\s*([u]nico\s*|\d+(?:-[a-z])?).*/i),qf.set("Paragrafo",/(|par[a]grafo|par.?\s)\s*([u]nico\s*|\d+(?:-[a-z])?).*/i);const Pf=(t,e,o=Au.EMENDA)=>{const i=Df(t);let r=!0;if(!i||0===i.length)throw new Error("No foi possvel informado o dispositivo");i[0].tipo!==Cl.artigo&&i.reverse()[0].tipo!==Cl.artigo&&(r=!1);const n=r?i.shift():void 0,a=((t,e,o)=>{t.hasAlteracao()||(Af(t),t.alteracoes.situacao=new Zh,t.alteracoes.situacao.tipoEmenda=o);const i=Nf(Cl.artigo.tipo,t.alteracoes,void 0,0);return i.isDispositivoAlteracao=!0,i.situacao=new Zh,i.situacao.tipoEmenda=o,i.situacao.existeNaNormaAlterada=!0,e.numero&&i.createNumeroFromRotulo(e.numero),i.createRotulo(i),i.id=nh(i),su(i)&&(i.caput.situacao=new Zh,i.caput.situacao.tipoEmenda=o),i})(e,null!=n?n:{tipo:Cl.artigo},o);return((t,e,o)=>{let i=t;null==e||e.forEach((t=>{var e,r;(null===(e=i.tiposPermitidosFilhos)||void 0===e?void 0:e.includes(null===(r=t.tipo)||void 0===r?void 0:r.tipo))?(i=xf(i,t.tipo.tipo),t.numero&&i.createNumeroFromRotulo(t.numero),i.createRotulo(i)):t.numero&&t.numero.match(/\d.*/)?(i=xf(i,su(i)?Cl.paragrafo.tipo:hu(i)?Cl.item.tipo:Cl.generico.tipo),t.numero&&i.createNumeroFromRotulo(t.numero),i.createRotulo(i)):(i=xf(i,Cl.generico.tipo),i.rotulo=t.numero),o&&(i.situacao.tipoEmenda=o),i.isDispositivoAlteracao=!0,i.situacao=new Zh,i.situacao.existeNaNormaAlterada=!0,i.id=nh(i),su(i)&&(i.caput.situacao=new Zh,o&&(i.caput.situacao.tipoEmenda=o)),i.mensagens=eh(i)}))})(a,i,o),a},Df=t=>{const e=new Rf(t);if(e.valido)return e.referencias};class Rf{constructor(t){this.texto=t,this.valido=!1,this.referencias=[],this.regexEncaixe="(?:-[a-z]+){0,3}",this.regexArtigo=`(art|artigo)\\s([u]nico|\\d+${this.regexEncaixe})`,this.regexParagrafo=`(|par[a]grafo|par)\\s([u]nico|\\d+${this.regexEncaixe})`,this.regexInciso=`(inciso|inc)\\s([u]nico|X{0,3}(?:IX|IV|[XV]?I{0,3})${this.regexEncaixe})`,this.regexAlinea=`(al[i]nea|al[i])\\s([a-z]+${this.regexEncaixe})`,this.regexItem=`(item)\\s(\\d+${this.regexEncaixe})`,this.regex=`^(?:(?:(?:(?:${this.regexItem}\\s)?(?:${this.regexAlinea}\\s))?(?:${this.regexInciso}\\s))?(?:${this.regexParagrafo}\\s)?)?(?:${this.regexArtigo})$`,this.parse()}parse(){this.preparaTexto();const t=new RegExp(this.regex,"gi").exec(this.texto);if(t){this.valido=!0;const o=t.slice(1).filter((t=>void 0!==t));for(let t=0,i=1;o.length,i<=o.length-1;t+=2,i+=2){const r=(e=o[t]).trim().match(/ali|al[i]nea.*/i)?Cl.alinea:e.trim().match(/art[igo]?.*/i)?Cl.artigo:e.trim().match(/inc|inciso.*/i)?Cl.inciso:e.trim().match(/item.*/i)?Cl.item:e.trim().match(/|par[grafo]?.*/i)?Cl.paragrafo:void 0;if(!r)throw new Error(`No pude identificar o tipo no texto informado: ${o[t]}`);this.referencias.push({tipo:r,numero:o[i]})}}var e}preparaTexto(){this.texto=this.texto.toLowerCase().replace(/[\\.]/g,"").replace(/[,;]/g," ").replace(/\sd[ao]\s/g," ").replace(/\scaput\s/g," ").replace(/\s+/g," ").trim()}}class Lf{constructor(){this.descricaoSituacao=ou.DISPOSITIVO_ORIGINAL}getAcoesPermitidas(t,e){const o=e.filter((t=>!(t instanceof Wl))).filter((t=>!(t instanceof gc))).filter((t=>{var e;return!(null===(e=t.descricao)||void 0===e?void 0:e.startsWith("Mover"))})).filter((t=>!(t instanceof Ec))).filter((t=>!(t instanceof yc))).filter((t=>!(t instanceof dc)));return xu(t)||vu(t)&&pd(t)||0!==yd(t).filter((t=>iu(t))).length||o.push(Ac),vu(t)&&pd(t)&&o.push(wc),o}}const Mf=t=>{var e;t.uuid=_h.next(),null===(e=t.filhos)||void 0===e||e.forEach((t=>Mf(t)))},$f=(t,e)=>e.map((e=>{const o=su(e)?Eu(e).indexOfArtigo(e):-1,i=e.pai,r=su(e)?Hu(e):void 0;if(null==i||i.removeFilho(e),e.pai=t,t.addFilho(e,r),su(e)&&!r){const t=Eu(e);t.removeArtigo(e),t.addArtigoOnPosition(e,o)}return e})),jf=(t,e)=>nu(t)&&!dd(t)&&Vd(t)?t.projetoNorma.ementa:nu(t)||(t=>su(t)&&0===Eu(t).indexOfArtigo(t))(e)&&!pd(e)||0===e.pai.indexOf(e)?t:function(t){return su(t.pai)&&0===Bd(t.pai).indexOf(t)}(e)?Su(e.pai.caput):Su(t);const zf=t=>void 0!==t&&""!==t,Ff=(t,e=!1)=>{const o=[];return yd(t).forEach((t=>{if(e){const e=eh(t);e&&(t.mensagens=e,o.push(ch(t)))}else o.push(ch(t))})),o},Uf=(t,e)=>{const o=[];return Bf(t,e).forEach((t=>o.push(...ph(t,!0)))),o},Bf=(t,e)=>{const o=new Map;return e.forEach((e=>{var i;const r=hh(t,e)||(null===(i=e.hierarquia)||void 0===i?void 0:i.pai)&&hh(t,e.hierarquia.pai);if(r&&pd(r)){const t=rd(r);o.set(t.id,t)}})),Array.from(o.values())},Vf=(t,e)=>{const o=new tm;return o.setReferencia(ch(jf(t,e))),o.add(yh.ElementoIncluido,Ff(e)),o.add(yh.ElementoRenumerado,vh(e).map((t=>(t.mensagens=eh(t),ch(t))))),o.add(yh.ElementoValidado,mh(e,!1)),pd(t)&&o.add(yh.SituacaoElementoModificada,[ch(t)]),o},Hf=t=>{const e=new tm,o=ch(t);return o.mensagens=eh(t),e.add(yh.ElementoModificado,[o]),e.add(yh.ElementoValidado,mh(t)),e},Gf=(t,e)=>{t.mensagens=eh(t);const o=ch(t),i=e?[e]:[];return i.push(o),[{stateType:yh.ElementoModificado,elementos:i},{stateType:yh.ElementoValidado,elementos:mh(t,!0)}]},Kf=(t,e)=>{const o=ph(e),i=vh(e),r=Vu(e),n=pd(e),a=e.pai;a.removeFilho(e),a.renumeraFilhos(),dd(a)&&0===a.filhos.length&&(a.pai.alteracoes=void 0);const s=r&&(od(r)||id(r))?r:lu(a)?a.pai:a;1===t.artigos.length&&i.push(t.artigos[0]);const l=((t,e,o)=>{const i=new tm;return i.add(yh.ElementoRemovido,t),i.add(yh.ElementoRenumerado,e.map((t=>ch(t)))),i.add(yh.ElementoValidado,o),i})(o,i,mh(s,!1));if(n&&(l.add(yh.ElementoValidado,mh(a,!0)),r||a))try{const t=r||("Caput"===a.tipo?a.pai:a);l.add(yh.SituacaoElementoModificada,ph(t))}catch(t){l.add(yh.SituacaoElementoModificada,[])}return l.build()},Wf=(t,e)=>{let o=e.pai.indexOf(e);const i=e.pai.filhos.filter(((t,e)=>e<o&&vu(t))),r=e.pai,n=ch(e),a=Hu(e),s=(t=>{const e=yd(Eu(t)),o=e.indexOf(t);return e.filter(((t,e)=>e<o&&vu(t)&&!nu(t))).reverse()[0]})(e),l=(null==i?void 0:i.length)>0?i.reverse()[0]:e.pai,c=(null==i?void 0:i.length)>0?i.reverse()[0]:o>0?Su(l.filhos[o-1]):l,u=nu(c)||Bu(l)&&l.filhos[0].id===e.id?l:Su(c),d=[];let p=l.filhos.length;e.filhos.forEach((r=>{var n,a;let u;return u=su(r)?null!=s?s:t:(null===(n=l.tiposPermitidosFilhos)||void 0===n?void 0:n.includes(r.tipo))?l:(null===(a=c.tiposPermitidosFilhos)||void 0===a?void 0:a.includes(r.tipo))?c:Qf(e.pai,r.tipo,[]),r.pai=u,e.removeFilho(r),(null==i?void 0:i.length)>0?u.addFilhoOnPosition(r,p++):u.addFilhoOnPosition(r,o++),d.push(ch(r)),r})),e.pai.removeFilho(e),null==l||l.renumeraFilhos(),r.renumeraFilhos();const h=l.filhos.filter(((t,e)=>e>=o&&(vu(t)||nd(t)))).map((t=>ch(t))).flat(),f=(null==r?void 0:r.filhos.filter((t=>t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO||t.situacao.descricaoSituacao===ou.DISPOSITIVO_NOVO)).map((t=>ch(t))))||[];a&&1===ku(a).length&&h.unshift(ch(a));const m=new tm;return m.setReferencia(nu(u)&&dd(u)?ch(u.pai):ch(u)),m.add(yh.ElementoRemovido,[n]),m.add(yh.SituacaoElementoModificada,d),m.add(yh.ElementoRenumerado,[...h,...f]),m.build()},Qf=(t,e,o)=>{var i;return(null===(i=t.tiposPermitidosFilhos)||void 0===i?void 0:i.includes(e))?0===o.length||o.includes(t)?t:void 0:Qf(t.pai,e,o)},Xf=t=>{const e=[],o=t=>{const o=ch(t);(t=>{var e,o,i,r,n,a,s,l,c;t.numero=null!==(o=null===(e=t.situacao.dispositivoOriginal)||void 0===e?void 0:e.numero)&&void 0!==o?o:"",t.rotulo=null!==(r=null===(i=t.situacao.dispositivoOriginal)||void 0===i?void 0:i.rotulo)&&void 0!==r?r:"",t.id=null!==(a=null===(n=t.situacao.dispositivoOriginal)||void 0===n?void 0:n.lexmlId)&&void 0!==a?a:"",t.texto=t.situacao.descricaoSituacao===ou.DISPOSITIVO_MODIFICADO?null!==(c=null===(l=null===(s=t.situacao.dispositivoOriginal)||void 0===s?void 0:s.conteudo)||void 0===l?void 0:l.texto)&&void 0!==c?c:"":t.texto,t.situacao=new Lf,su(t)&&(t.caput.situacao=new Lf)})(t),e.push({stateType:yh.ElementoRestaurado,elementos:[o,ch(t)]})};if(t.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO){const i=yd(t).filter((t=>t.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO));i.forEach(o);const r=Zf(t);r&&e.push({stateType:yh.ElementoValidado,elementos:[r]})}else o(t);return e},Zf=t=>{const e=t.pai&&!vu(t.pai)?lu(t.pai)?t.pai.pai:t.pai:null;return e?(e.mensagens=eh(e),ch(e,!0)):null},Yf=(t,e)=>null==t?void 0:t.filter((t=>t.stateType===e))[0],Jf=t=>{const e=new Map;return t.filter((t=>[yh.ElementoRemovido,yh.ElementoIncluido].includes(t.stateType))).forEach((t=>{var o;return null===(o=t.elementos)||void 0===o?void 0:o.forEach((t=>e.set(t.lexmlId,t)))})),Array.from(e.values())};class tm{constructor(){this.eventos=[],this.eventos=[{stateType:yh.ElementoIncluido,referencia:void 0,pai:void 0,elementos:[]},{stateType:yh.ElementoRemovido,referencia:void 0,pai:void 0,elementos:[]},{stateType:yh.ElementoModificado,referencia:void 0,pai:void 0,elementos:[]},{stateType:yh.ElementoRenumerado,referencia:void 0,pai:void 0,elementos:[]},{stateType:yh.ElementoRestaurado,referencia:void 0,pai:void 0,elementos:[]},{stateType:yh.ElementoSuprimido,referencia:void 0,pai:void 0,elementos:[]},{stateType:yh.ElementoValidado,referencia:void 0,pai:void 0,elementos:[]},{stateType:yh.ElementoSelecionado,referencia:void 0,pai:void 0,elementos:[]},{stateType:yh.ElementoMarcado,referencia:void 0,pai:void 0,elementos:[]},{stateType:yh.SituacaoElementoModificada,referencia:void 0,pai:void 0,elementos:[]},{stateType:yh.ElementoReferenciado,referencia:void 0,pai:void 0,elementos:[]}]}add(t,e){const o=this.get(t);e.forEach((t=>{var e,i,r;return r=t,(null==(i=o)?void 0:i.elementos.map((t=>{var e,o;return t.uuid===r.uuid&&t.rotulo===r.rotulo&&(null===(e=t.conteudo)||void 0===e?void 0:e.texto)===(null===(o=r.conteudo)||void 0===o?void 0:o.texto)})).filter((t=>t)).length)>0||null===(e=o.elementos)||void 0===e?void 0:e.push(t)}))}build(){return this.eventos.filter((t=>t.elementos&&t.elementos.length>0))}get(t){return this.eventos.filter((e=>e.stateType===t))[0]}setReferencia(t){this.get(yh.ElementoIncluido).referencia=t}}const em=t=>{var e;if(parseInt(t.numero)>1){const o=Vu(t),i=xf(t.pai,Cl.omissis.tipo,o,o?void 0:0);i.situacao=new Zh,null===(e=t.pai)||void 0===e||e.addFilhoOnPosition(i,0)}},om=(t,e)=>{var o,i,r,n,a,s,l,c,u,d,p,h,f,m,v,g,b,y,x,_,w,A,E;let O=!1;const I=hh(t.articulacao,e.atual,!0);if(void 0===I||I.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO&&rp(I))return t.ui.events=[],t;if(I.situacao.descricaoSituacao!==ou.DISPOSITIVO_NOVO&&I.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO&&rp(I)&&!zf(null===(i=null===(o=e.novo)||void 0===o?void 0:o.conteudo)||void 0===i?void 0:i.texto)){if(I.hasAlteracao()&&(null===(r=I.alteracoes)||void 0===r?void 0:r.filhos)&&hd(I.alteracoes.filhos[0])&&!mu(I.alteracoes.filhos[0])&&"1"===I.alteracoes.filhos[0].numero&&"antes"!==e.posicao&&I.tipo!==e.novo.tipo)return t.ui.events=[],t;if(void 0===e.posicao&&pd(I)&&Bu(I)&&hd(I.filhos[0])&&!mu(I.filhos[0])&&!cu(I.filhos[0])&&"1"===I.filhos[0].numero)return t.ui.events=[],t}let S=0===I.pai.indexOf(I)?!e.posicao&&I.hasAlteracao()?I:du(I)||nd(I)?I.pai.pai:I.pai:I.pai.filhos[I.pai.indexOf(I)-1];(null===(n=I.situacao)||void 0===n?void 0:n.descricaoSituacao)===ou.DISPOSITIVO_ORIGINAL&&zf(null===(s=null===(a=e.novo)||void 0===a?void 0:a.conteudo)||void 0===s?void 0:s.texto)&&(e.atual.conteudo.texto=I.texto,e.novo.conteudo.texto=void 0);const C=od(I)||id(I),k=uh(I),N=[];if(dh(N,I),((t,e,o)=>{var i,r,n,a,s,l,c,u,d;if(o&&(null===(i=o.ui)||void 0===i?void 0:i.events)){const e=Yf(o.ui.events,yh.ElementoModificado);if(e&&e.elementos&&(null===(n=null===(r=e.elementos[0])||void 0===r?void 0:r.conteudo)||void 0===n?void 0:n.texto)===t.texto)return!0}return""!==t.texto&&""===(null===(s=null===(a=e.atual)||void 0===a?void 0:a.conteudo)||void 0===s?void 0:s.texto)||(null===(c=null===(l=e.atual)||void 0===l?void 0:l.conteudo)||void 0===c?void 0:c.texto)&&0!==t.texto.localeCompare(null===(d=null===(u=e.atual)||void 0===u?void 0:u.conteudo)||void 0===d?void 0:d.texto)})(I,e,t)&&(I.texto=pd(I)?cp(null!==(u=null===(c=e.atual.conteudo)||void 0===c?void 0:c.texto)&&void 0!==u?u:""):null===(l=e.atual.conteudo)||void 0===l?void 0:l.texto,O=!0),((t,e)=>{var o,i,r;return au(t)||rp(t)&&!Hh(t,kl)||(null===(o=t.situacao)||void 0===o?void 0:o.descricaoSituacao)===ou.DISPOSITIVO_ORIGINAL&&zf(null===(r=null===(i=e.novo)||void 0===i?void 0:i.conteudo)||void 0===r?void 0:r.texto)})(I,e))return Bh(t,{tipo:op.INFO,descricao:"No  possvel criar dispositivos nessa situao"});let T;if(e.posicao&&!xu(I)){if(I.tipo===e.novo.tipo)T="antes"===e.posicao?xf(I.pai,e.novo.tipo,void 0,((t,e)=>{const o=t.pai.indexOf(t);return"antes"===e?o:o===t.pai.filhos.length-1?void 0:o+1})(I,e.posicao)):xf(I.pai,e.novo.tipo,I);else if(vu(I)&&e.novo.tipo===Cl.artigo.tipo)if("antes"===e.posicao){const t=Pu(I);S=t;const o=t?vu(t)?t:su(t)?t.pai:Tu(t).pai:I.pai,i=t&&vu(t)?0:void 0,r=!t||vu(t)?void 0:su(t)?t:Tu(t);T=xf(o,e.novo.tipo,r,i)}else T=xf(I,e.novo.tipo,void 0,0)}else T=I.hasAlteracao()?Nf(Cl.artigo.tipo,I.alteracoes,void 0,0):Ef(I,e);if(nd(T)&&(T.notaAlteracao="NR"),nd(T)&&(T.notaAlteracao="NR"),(null===(d=I.situacao)||void 0===d?void 0:d.descricaoSituacao)===ou.DISPOSITIVO_ORIGINAL||(null===(p=I.situacao)||void 0===p?void 0:p.descricaoSituacao)===ou.DISPOSITIVO_MODIFICADO||(null===(h=I.situacao)||void 0===h?void 0:h.descricaoSituacao)===ou.DISPOSITIVO_SUPRIMIDO||I.situacao instanceof Zh){T.situacao=new Zh,T.situacao.tipoEmenda=t.modo;const e=T.pai;dd(e)&&1===e.filhos.length&&(e.situacao=new Zh)}zf(null===(m=null===(f=e.novo)||void 0===f?void 0:f.conteudo)||void 0===m?void 0:m.texto)&&I.tipo===T.tipo&&Bu(I)&&ef(I,T),pd(T)&&(T.createRotulo(T),T.id=nh(T),null===(v=T.mensagens)||void 0===v||v.push({tipo:op.WARNING,descricao:" necessrio informar o rtulo do dispositivo"})),pd(T)&&T.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&(T.situacao.existeNaNormaAlterada=nd(T)||!Td(T.pai)),T.pai.renumeraFilhos(),(null===(g=T.situacao)||void 0===g?void 0:g.descricaoSituacao)===ou.DISPOSITIVO_ADICIONADO&&(T.id=nh(T));const q=e.posicao&&"antes"===e.posicao?Vf(S,T):Vf(I,T),P=uh(I);if(zf(null===(y=null===(b=e.novo)||void 0===b?void 0:b.conteudo)||void 0===y?void 0:y.texto)&&I.tipo===T.tipo&&N&&N.length>0&&q.add(yh.ElementoRemovido,N),vu(T)&&2===ku(T).length){const t=ku(T).filter((t=>t!==T));q.add(yh.ElementoModificado,[ch(t[0])])}return(O||zf(null===(_=null===(x=e.novo)||void 0===x?void 0:x.conteudo)||void 0===_?void 0:_.texto))&&q.add(yh.ElementoModificado,[k,P]),(O||zf(null===(A=null===(w=e.novo)||void 0===w?void 0:w.conteudo)||void 0===A?void 0:A.texto)||mu(I))&&q.add(yh.ElementoValidado,[P]),(od(I)||C)&&(q.add(yh.ElementoValidado,[P]),q.add(yh.ElementoRenumerado,[P])),e.posicao&&"antes"===e.posicao&&q.add(yh.ElementoRenumerado,vh(T).map((t=>ch(t)))),q.add(yh.ElementoMarcado,[ch(T),ch(I)]),{articulacao:t.articulacao,modo:t.modo,past:Uh(t,q.build()),present:q.build(),future:[],ui:{events:q.build(),alertas:null===(E=t.ui)||void 0===E?void 0:E.alertas}}},im=(t,e)=>{var o,i,r,n,a;let s=hh(t.articulacao,e.atual,!0);if(void 0===s)return t;if(!su(s)&&!vu(s)&&!xu(s))return Bh(t,{tipo:op.ERROR,descricao:"No  permitido adicionar agrupador de artigo a partir da seleo atual"});if((nu(s)||xu(s))&&"antes"===e.novo.posicao)return Bh(t,{tipo:op.ERROR,descricao:"No  permitido adicionar agrupador de artigo antes da ementa"});const l=Cl[e.novo.tipo.toLowerCase()].descricao;if(!e.isAbrindoEmenda&&"antes"===e.novo.posicao&&!Ld(s).includes(e.novo.tipo))return Bh(t,{tipo:op.ERROR,descricao:`No  permitido adicionar agrupador "${l}" antes do dispositivo selecionado [${s.rotulo}]`});if(!e.isAbrindoEmenda&&"depois"===e.novo.posicao&&!Rd(s).includes(e.novo.tipo))return Bh(t,{tipo:op.ERROR,descricao:`No  permitido adicionar agrupador "${l}" aps o dispositivo selecionado [${s.rotulo}]`});xu(s)&&(s=t.articulacao);const c=e.novo.posicao,u=e.novo.manterNoMesmoGrupoDeAspas,d=pd(s)?rd(s):void 0,p=d?yd(d):[],h=yd(t.articulacao);if(pd(s)){if(nd(s)&&u&&"antes"===c&&!(null===(o=s.tiposPermitidosPai)||void 0===o?void 0:o.includes(e.novo.tipo)))return Bh(t,{tipo:op.ERROR,descricao:`No  permitido adicionar agrupador "${l}", no mesmo grupo de aspas, antes do dispositivo selecionado [${s.rotulo}]`});if(!nd(s)&&u&&!p.some((t=>{var o;return null===(o=t.tiposPermitidosFilhos)||void 0===o?void 0:o.includes(e.novo.tipo)})))return Bh(t,{tipo:op.ERROR,descricao:`No  permitido adicionar agrupador "${l}", no mesmo grupo de aspas, aps o dispositivo selecionado [${s.rotulo}]`});if(su(s)&&!nd(s)&&!u)return Bh(t,{tipo:op.ERROR,descricao:`No  permitido adicionar agrupador "${l}", na alterao de norma, a partir do atual dispositivo selecionado [${s.rotulo}]`});if(!u)return am(t,s,c,e.novo.tipo,!1,{rotulo:e.novo.rotulo,uuid:e.novo.uuid});if(nd(s)&&"antes"===c)return am(t,s,c,e.novo.tipo,!0,{rotulo:e.novo.rotulo,uuid:e.novo.uuid})}let f;const m=um(s,c,h);if(nu(s)||(v=s,g=e.novo.tipo,v.pai.tipo!==g)){const o=Qf(m,e.novo.tipo,p);if(!o)return Bh(t,{tipo:op.ERROR,descricao:`No  permitido adicionar agrupador "${l}" a partir do atual dispositivo selecionado [${s.rotulo}]`});const i=s.pai===o?s.pai.indexOf(s)+("antes"===c?0:1):rm(s,o,h,p);f=xf(o,e.novo.tipo,void 0,i)}else f=xf(s.pai.pai,e.novo.tipo,void 0,s.pai.pai.indexOf(s.pai)+1);var v,g;f.uuid=null!==(i=e.novo.uuid)&&void 0!==i?i:f.uuid,f.situacao=new Zh,f.situacao.tipoEmenda=t.modo,f.texto=null!==(r=e.novo.texto)&&void 0!==r?r:"",f.createRotulo(f),f.rotulo=null!==(n=e.novo.rotulo)&&void 0!==n?n:f.rotulo,f.id=nh(f),pd(f)&&f.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&(f.situacao.existeNaNormaAlterada=nd(f)||!Td(f.pai));const b=lm(s,f,c,p);$f(f,b),f.pai.renumeraFilhos(),f.pai.filhos.forEach((t=>t.renumeraFilhos()));const y=yd(f.pai);y.filter((t=>vu(t)&&!("Articulacao"===t.tipo&&void 0===t.pai))).forEach((t=>t.id=nh(t)));const x=y.filter(nm).map((t=>ch(t))),_=Hu(f);_&&2===ku(f).length&&x.unshift(ch(_));const w=new tm;nu(m)&&Vd(m)?w.setReferencia(ch(t.articulacao.projetoNorma.ementa)):su(s)&&"depois"===c||su(m)&&"antes"===c?w.setReferencia(ch(Su(m))):w.setReferencia(ch(m));const A=f.filhos.map((t=>ch(t))),E=ch(f);E.manterNoMesmoGrupoDeAspas=u,w.add(yh.ElementoIncluido,[E]),w.add(yh.SituacaoElementoModificada,[ch(s),...A]),w.add(yh.ElementoRenumerado,x),w.add(yh.ElementoMarcado,[ch(f)]);const O=yd(t.articulacao),I=O[O.indexOf(f)+1];return w.add(yh.ElementoReferenciado,I?[ch(I)]:[]),f===Ud(f)&&Vd(f)&&w.get(yh.SituacaoElementoModificada).elementos.push(ch(t.articulacao.projetoNorma.ementa)),{articulacao:t.articulacao,modo:t.modo,past:Uh(t,w.build()),present:w.build(),future:[],ui:{events:w.build(),alertas:null===(a=t.ui)||void 0===a?void 0:a.alertas}}},rm=(t,e,o,i)=>{const r=o.filter((o=>sm(o,i)&&(o===t||e.filhos.includes(o))));return r.indexOf(t)},nm=t=>!su(t)&&t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO,am=(t,e,o,i,r=!1,n={})=>{var a,s,l,c,u;const d=rd(e),p=d.pai.indexOf(d)+("antes"===o?0:1),h=Nf(i,d.pai,void 0,p);h.rotulo=null!==(a=n.rotulo)&&void 0!==a?a:h.rotulo,h.uuid=null!==(s=n.uuid)&&void 0!==s?s:h.uuid,h.texto=null!==(c=null!==(l=n.texto)&&void 0!==l?l:h.texto)&&void 0!==c?c:"",h.id=nh(h),pd(h)&&h.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&(h.situacao.existeNaNormaAlterada=nd(h)||!Td(h.pai));const f=0===p?h.pai.pai:Su(h.pai.filhos[p-1]),m=new tm;if(r){e.cabecaAlteracao=!1,$f(h,[e]),h.pai.renumeraFilhos(),h.renumeraFilhos();const t=[...h.pai.filhos.filter(nm).map((t=>ch(t))),...h.filhos.filter(nm).map((t=>ch(t)))];m.add(yh.ElementoRenumerado,t)}m.setReferencia(ch(f));const v=ch(h);v.manterNoMesmoGrupoDeAspas=r,m.add(yh.ElementoIncluido,[v]),m.add(yh.SituacaoElementoModificada,ph(h)),m.add(yh.ElementoMarcado,[ch(h)]);const g=yd(t.articulacao),b=g[g.indexOf(h)+1];return m.add(yh.ElementoReferenciado,b?[ch(b)]:[]),{articulacao:t.articulacao,modo:t.modo,past:Uh(t,m.build()),present:m.build(),future:[],ui:{events:m.build(),alertas:null===(u=t.ui)||void 0===u?void 0:u.alertas}}},sm=(t,e)=>0===e.length||e.includes(t),lm=(t,e,o,i)=>{const r=yd(Eu(t)),n=cm(t,e.tipo);vu(t)&&"depois"===o&&n.push(t);const a=r.indexOf(t)+("antes"===o?0:1);return r.filter(((t,o)=>{var r;return o>=a&&t!==e&&!!(null===(r=e.tiposPermitidosFilhos)||void 0===r?void 0:r.includes(t.tipo))&&n.includes(t.pai)&&sm(t,i)}))},cm=(t,e,o=[])=>{const i=["Parte","Livro","Titulo","Capitulo","Secao","Subsecao","Artigo"];return t&&i.indexOf(t.tipo)>=i.indexOf(e)?(o.push(t.pai),cm(t.pai,e,o)):o},um=(t,e,o)=>{const i=pd(t),r=o.filter((t=>pd(t)===i));return r[r.indexOf(t)-("antes"===e?1:0)]};class dm{constructor(t){this.descricaoSituacao=ou.DISPOSITIVO_MODIFICADO,this.dispositivoOriginal=t}getAcoesPermitidas(t,e){const o=e.filter((t=>!(t instanceof Wl))).filter((t=>!(t instanceof gc))).filter((t=>!(t instanceof yc))).filter((t=>{var e;return!(null===(e=t.descricao)||void 0===e?void 0:e.startsWith("Mover"))})).filter((t=>"Adicionar"!==t.descricao&&"Atualizar dispositivo"!==t.descricao)).filter((t=>!(t instanceof Ec)));return o.push(_c),o.filter((t=>void 0!==t)).sort(((t,e)=>t.descricao.localeCompare(e.descricao)))}}const pm=(t,e)=>{const o=["Parte","Livro","Titulo","Capitulo","Secao","Subsecao"],i=[];for(const r of e.dispositivosAdicionados)o.includes(r.tipo)?i.push(...fm(t,r)):i.push(mm(t,r));return i},hm=t=>t.id.split("_").some((t=>t.startsWith("alt"))),fm=(t,e)=>{const o=t.articulacao;let i=Ed(t.articulacao,e.idPosicaoAgrupador),r="depois";if(Ed(t.articulacao,e.id))return[];if(i){nu(i)&&!dd(i)&&Vd(i)?i=i.projetoNorma.ementa:((t,e)=>!pd(t)&&hm(e))(i,e)&&(i=i.alteracoes.filhos[0],r="antes");const n=ch(i),a=!e.abreAspas||!e.fechaAspas,s=im(t,{atual:n,novo:{tipo:e.tipo,posicao:r,manterNoMesmoGrupoDeAspas:a,rotulo:e.rotulo},isAbrindoEmenda:!0}).ui.events.filter((t=>t.stateType!==yh.ElementoMarcado)),l=s.find((t=>t.stateType===yh.ElementoIncluido)).elementos,c=l[0],u=hh(o,c);return ym(u,e,Au.EMENDA),l.length=0,l.push(ch(u)),s}return[]},mm=(t,e)=>{const o={stateType:yh.ElementoIncluido,referencia:void 0,pai:void 0,elementos:[]},i=gm(t.articulacao,e,t.modo);if(i){if(i.rotulo&&i.createNumeroFromRotulo(i.rotulo),!o.referencia){const r=Ku(i);let n=lu(i.pai)?i.pai.pai:i.pai;n=dd(n)?Ed(t.articulacao,n.pai.id):n,e.idPai&&vu(n)?o.referencia=ch(n):o.referencia=ch(vm(r||n,i))}_d(i,(t=>{var e;if(!lu(t)&&!dd(t)){const i=ch(t);i.lexmlId=nh(t),null===(e=o.elementos)||void 0===e||e.push(i)}}))}return o},vm=(t,e)=>{const o=jf(t,e);return o.id!==e.id?o:e.pai.filhos[e.pai.filhos.length-2]},gm=(t,e,o)=>{var i,r;let n;const a="Caput"===e.tipo;if(e.idIrmaoAnterior){const o=Ed(t,xm(e.idIrmaoAnterior));o&&(n=o.id===e.idIrmaoAnterior?xf(o.pai,e.tipo,o):xf(o,e.tipo,void 0,0))}else if(e.idPai){const o=Ed(t,xm(e.idPai));o&&("Inciso"!==e.tipo&&"Omissis"!==e.tipo||"Artigo"!==o.tipo?a?(o.texto=null!==(i=e.texto)&&void 0!==i?i:"",n=o.caput):"Alteracao"===e.tipo?(Af(o),n=o.alteracoes,o.alteracoes.id=e.id,o.alteracoes.base=e.urnNormaAlterada):(n=xf(o,e.tipo,void 0,0),n.texto=null!==(r=e.texto)&&void 0!==r?r:""):n=xf(o.caput,e.tipo,void 0,0))}else n=xf(t,e.tipo,void 0,0);return n&&ym(n,e,o),n&&e.filhos&&e.filhos.forEach(((i,r)=>{0===r?(i.idPai=e.id,i.id=bm(i.id,e.id)):i.idIrmaoAnterior=e.filhos[r-1].id,gm(t,i,o)})),n},bm=(t,e)=>t.startsWith(e)?t:e.split("_").slice(0,-1).join("_")+"_"+t,ym=(t,e,o)=>{var i,r;t.texto=null!==(i=e.texto)&&void 0!==i?i:"",t.id=e.id;const n=new Zh;if(n.tipoEmenda=o,t.situacao=n,t.isDispositivoAlteracao&&(n.existeNaNormaAlterada=!!e.existeNaNormaAlterada),lu(t)||mu(t)||nu(t)||(t.createNumeroFromRotulo(e.rotulo),t.rotulo=e.rotulo,e.abreAspas&&(t.cabecaAlteracao=!0)),!nu(t)&&(t.texto=null!==(r=e.texto)&&void 0!==r?r:"",e.fechaAspas)){rd(t).notaAlteracao=e.notaAlteracao}},xm=t=>t.replace(/(_cpt)$/,""),_m=(t,e)=>{var o,i,r,n;const a=hh(t.articulacao,e.atual,!0),s=e.atual.norma,l=(null==a?void 0:a.alteracoes.base)||"",c=new RegExp(`<a.+href=.${l}.*?>.*?</a>`,"ig"),u=Tp(s);if(void 0===a||!a.alteracoes||l===s&&a.texto.match(c))return t.ui.events=[],t;const d=`<a href="${p=s}">${Tp(p)}</a>`;var p;const h=a.texto;if(a.texto.match(c))a.texto=h.replace(c,d);else if(a.texto.includes(u))a.texto=h.replace(u,d);else if(s&&Np(s)&&(void 0===a.texto||""===(null===(o=a.texto)||void 0===o?void 0:o.trim()))){const t=null===(i=Ap(s))||void 0===i?void 0:i.genero,e=`${Ap(s).descricao} n ${Op(Ep(s))}, de ${Sp(s)}`;a.texto=`${t&&"M"===t?"O":"A"} <a href="${s}">${e}</a>, passa a vigorar com as seguintes alteraes:`}else{const t=parseInt(localStorage.indexCursor);a.texto=[h.slice(0,t),d,h.slice(t)].join(" "),localStorage.removeItem("indexCursor")}const f=ch(a);a.alteracoes.base=s,(null===(r=a.situacao)||void 0===r?void 0:r.descricaoSituacao)===ou.DISPOSITIVO_ORIGINAL&&(a.situacao=new dm(f));const m=new tm,v=ch(a,!0);v.mensagens=eh(a),m.add(yh.ElementoValidado,[v]),m.add(yh.ElementoModificado,[v]),m.add(yh.SituacaoElementoModificada,[v]);const g=Hf(a);return{articulacao:t.articulacao,modo:t.modo,past:Uh(t,Gf(a,f)),present:g.build(),future:t.future,ui:{events:m.build(),alertas:null===(n=t.ui)||void 0===n?void 0:n.alertas}}},wm=(t,e)=>{var o;const i=hh(t.articulacao,e.atual,!0);if(void 0===i)return t.ui.events=[],t;i.mensagens=eh(i);const r=ch(i,!0),n=[{stateType:yh.InformarNorma,elementos:[r]}];return{articulacao:t.articulacao,modo:t.modo,past:t.past,present:t.present,future:[],ui:{events:n,alertas:null===(o=t.ui)||void 0===o?void 0:o.alertas}}},Am=(t,e)=>{const o=!Nd(t);if(o===e)return;return o&&!e?Om(t):Em(t)},Em=t=>{if(Im(t))return{tipo:op.INFO,descricao:'No  permitido mudar a indicao de dispositivo "Novo" para "Existente" quando dispositivo hierarquicamente superior  novo na norma alteradao.'}},Om=t=>{const e=yd(t).filter((e=>!vu(t)||!su(e)));return Sm(e.slice(1))?{tipo:op.INFO,descricao:'No  permitido mudar a indicao de dispositivo "Existente" para "Novo" quando existe dispositivo subordinado sem numerao.'}:Cm(t)?{tipo:op.INFO,descricao:'No  permitido mudar a indicao de dispositivo "Existente" para "Novo" quando existe texto omitido na estrutura do dispositivo.'}:km(e.slice(1))?{tipo:op.INFO,descricao:'No  permitido mudar a indicao de dispositivo "Existente" para "Novo" quando existe numerao no sequencial nos dispositivos subordinados.'}:void 0},Im=t=>{var e;const o=(null===(e=t.pai)||void 0===e?void 0:e.situacao).existeNaNormaAlterada;return!su(t)&&!nd(t)&&!(null==o||o)},Sm=t=>t.some((t=>{var e;return((null===(e=t.mensagens)||void 0===e?void 0:e.some((t=>{var e;return null===(e=t.descricao)||void 0===e?void 0:e.toLowerCase().includes("numere o dispositivo")})))||void 0===t.numero)&&!mu(t)})),Cm=t=>yd(t).some((t=>{var e;return"Omissis"===t.tipo||(null===(e=t.texto)||void 0===e?void 0:e.includes(ru))})),km=t=>t.some((t=>{var e;return null===(e=t.mensagens)||void 0===e?void 0:e.some((t=>{var e;return null===(e=t.descricao)||void 0===e?void 0:e.includes("omissis antes")}))})),Nm=(t,e)=>{var o;const i=hh(t.articulacao,e.atual,!0),r=i&&pd(i)&&rd(i);if(void 0===i)return t.ui.events=[],t;if(!((t,e)=>{const o=Vh(t,e.subType);return t.getAcoesPossiveis(t).filter((t=>t instanceof Ec&&t.nomeAcao&&t.nomeAcao===o)).length>0})(i,e))return Bh(t,{tipo:op.INFO,descricao:"Nessa situao, no  possvel transformar o dispositivo"});const n=Vu(i);if(n&&Nd(n)&&!Nd(i))return Bh(t,{tipo:op.INFO,descricao:"Dispositivo existente no pode ser transformado em filho de dispositivo novo"});const a=r&&n&&Su(n);e.subType=Vh(i,e.subType);const s=[...ph(i)],l=vh(i),c=((t,e)=>{var o,i;const r=t.pai;let n,a;switch(e.subType){case"transformarAlineaEmItem":case"transformarIncisoCaputEmAlinea":case"transformarIncisoParagrafoEmAlinea":case"transformarParagrafoEmIncisoParagrafo":case"transformarArtigoEmParagrafo":a=Vu(t),n=xf(a,e.novo.tipo);break;case"transformarDispositivoGenericoEmInciso":case"transformarDispositivoGenericoEmAlinea":case"transformarDispositivoGenericoEmItem":case"transformarOmissisEmAlinea":case"transformarOmissisEmArtigo":case"transformarOmissisEmIncisoCaput":case"transformarOmissisEmIncisoParagrafo":case"transformarOmissisEmItem":case"transformarOmissisEmParagrafo":case"transformarAlineaEmOmissisAlinea":case"transformarItemEmOmissisItem":case"transformarParagrafoEmOmissisParagrafo":case"transformarIncisoCaputEmOmissisIncisoCaput":case"transformarIncisoParagrafoEmOmissisIncisoParagrafo":a=r,n=xf(r,e.novo.tipo,void 0,null==r?void 0:r.indexOf(t));break;case"transformarParagrafoEmInciso":if(cu(t)&&(Uu(t)||zu(t))){a=r,n=xf(a.caput,e.novo.tipo);break}a=Vu(t),n=xf(a,e.novo.tipo);break;case"transformarParagrafoEmIncisoCaput":a=r,n=xf(a.caput,e.novo.tipo);break;default:a=t.pai.pai,n=xf(a,e.novo.tipo,t.pai)}return n.texto=null!==(i=null===(o=e.atual.conteudo)||void 0===o?void 0:o.texto)&&void 0!==i?i:t.texto,n.createRotulo(n),n.situacao=t.situacao,nd(n)&&(n.notaAlteracao="NR"),n.mensagens=eh(n),null==r||r.removeFilho(t),null==r||r.renumeraFilhos(),null==a||a.renumeraFilhos(),tf(t,n),n})(i,e),u=vh(c).concat(l),d=Ff(c,!0),p=lu(c.pai)?c.pai.pai:c.pai;n&&id(n)&&(n.pai.renumeraFilhos(),u.unshift(n));const h=Vu(c);if(h){const t=eh(h);h.mensagens!==t&&d.unshift(ch(h))}const f=d.filter((t=>t.uuid===p.uuid)).length>0?i.pai:p;f&&yd(f).forEach((t=>{t.mensagens=eh(t),d.unshift(ch(t))}));const m=null!=h?h:c.pai,v=((t,e,o,i,r)=>{const n=new tm;return n.setReferencia(ch(jf(t,e))),n.add(yh.ElementoIncluido,ph(e)),n.add(yh.ElementoRemovido,o),n.add(yh.ElementoRenumerado,i),n.add(yh.ElementoValidado,r),n})(lu(m)?m.pai:m,c,s,u.map((t=>{t.mensagens=eh(t);return ch(t)})),d);return"Artigo"===c.tipo&&r?v.add(yh.SituacaoElementoModificada,[ch(Su(r))]):"Paragrafo"===c.tipo&&a&&v.add(yh.SituacaoElementoModificada,[ch(a)]),{articulacao:t.articulacao,modo:t.modo,past:Uh(t,v.build()),present:v.build(),future:[],ui:{events:v.build(),alertas:null===(o=t.ui)||void 0===o?void 0:o.alertas}}},Tm=t=>{switch(t){case ou.DISPOSITIVO_ADICIONADO:return new Zh;case ou.DISPOSITIVO_NOVO:return new Xh;default:return new Lf}},qm=(t,e)=>{if(ah(e)){const o=dd(t)?t.pai:Iu(t,e.hierarquia.pai.uuidAlteracao);if(o)return o.alteracoes||(o.alteracoes=wf(),o.alteracoes.pai=o),e.hierarquia.pai.tipo===Cl.articulacao.tipo?o.alteracoes:Iu(o.alteracoes,e.hierarquia.pai.uuid)}return Iu(t,e.hierarquia.pai.uuid)},Pm=(t,e,o)=>{var i,r,n;const a=xf(su(e)&&(t.tipo===Cl.inciso.name||(t=>t.tipo===Cl.omissis.tipo&&"inciso-caput"===t.tipoOmissis)(t))?e.caput:e,t.tipo,void 0,t.hierarquia.posicao);return a.uuid=t.uuid,a.id=t.lexmlId,a.texto=null!==(r=null===(i=null==t?void 0:t.conteudo)||void 0===i?void 0:i.texto)&&void 0!==r?r:"",a.numero=null===(n=null==t?void 0:t.hierarquia)||void 0===n?void 0:n.numero,a.rotulo=null==t?void 0:t.rotulo,a.mensagens=null==t?void 0:t.mensagens,a.situacao=Tm(t.descricaoSituacao),"Dispositivo Adicionado"===t.descricaoSituacao&&(a.situacao.existeNaNormaAlterada=t.existeNaNormaAlterada,o&&(a.situacao.tipoEmenda=o)),su(a)&&(a.caput.situacao=Tm(t.descricaoSituacao)),a},Dm=(t,e,o)=>{if(void 0!==e&&void 0!==e.elementos&&void 0!==e.elementos[0]){const i=e.elementos[0],r=qm(t.articulacao,i),n=((t,e,o)=>{const i=e.shift(),r=qm(t,i),n=Pm(i,r,o),a=[n];return null==e||e.forEach((e=>{var r,s;const l=(null===(r=e.hierarquia)||void 0===r?void 0:r.pai)===(null===(s=null==i?void 0:i.hierarquia)||void 0===s?void 0:s.pai)?n.pai:qm(t,e),c=Pm(e,l,o);a.push(c)})),a})(t.articulacao,e.elementos,t.modo);if(null==r||r.renumeraFilhos(),o){let e=0===i.hierarquia.posicao?nu(r)&&dd(r)?r.pai:r:Su(Vu(n[0]));if(e){e=nu(e)&&Vd(e)?e.projetoNorma.ementa:e;const i=hh(t.articulacao,e);i?o.referencia=ch(i):Bh(t,{tipo:op.ERROR,descricao:"Erro inesperado"})}}e.stateType===yh.ElementoIncluido&&(o.referencia=e.referencia);const a=e.elementos.some((t=>t.elementoAnteriorNaSequenciaDeLeitura));return n.map((t=>ch(t,!0,a)))}return[]},Rm=(t,e)=>void 0!==e&&void 0!==e.elementos&&void 0!==e.elementos[0]?(e.elementos.forEach((e=>{const o=hh(t.articulacao,e,!0);if(o){const t=o.pai;t.removeFilho(o),t.renumeraFilhos()}})),e.elementos):[],Lm=(t,e,o=!1)=>{if(void 0!==e&&void 0!==e.elementos&&void 0!==e.elementos[0]){const i=[];let r=0;return e.elementos.forEach((e=>{var n,a,s,l,c,u,d;const p=hh(t.articulacao,e,!0);if(p&&(o&&r===p.uuid||r!==p.uuid)){if(p.situacao.descricaoSituacao===ou.DISPOSITIVO_MODIFICADO?p.situacao.dispositivoOriginal.conteudo.texto===(null===(n=e.conteudo)||void 0===n?void 0:n.texto)?(p.texto=null!==(s=null===(a=p.situacao.dispositivoOriginal.conteudo)||void 0===a?void 0:a.texto)&&void 0!==s?s:"",p.situacao=new Lf):p.texto=null!==(c=null===(l=e.conteudo)||void 0===l?void 0:l.texto)&&void 0!==c?c:"":(e.descricaoSituacao===ou.DISPOSITIVO_MODIFICADO&&(p.situacao=new dm(ch(p))),p.texto=null!==(d=null===(u=e.conteudo)||void 0===u?void 0:u.texto)&&void 0!==d?d:""),p.alteracoes&&(p.alteracoes.base=e.norma),p.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&(p.situacao.existeNaNormaAlterada=e.existeNaNormaAlterada,pd(p)&&sd(p))){rd(p).notaAlteracao=e.notaAlteracao}p.mensagens=eh(p),i.push(ch(p)),r=p.uuid}})),i}return[]},Mm=(t,e)=>{if(void 0!==e&&void 0!==e.elementos&&void 0!==e.elementos[0]){const o=[];return e.elementos.forEach((e=>{const i=hh(t.articulacao,e,!0);i&&o.push(ch(i))})),o}return[]},$m=(t,e)=>{const o=Yf(e,yh.ElementoValidado);if(void 0!==o&&void 0!==o.elementos&&void 0!==o.elementos[0]){const e=[];return o.elementos.forEach((o=>{const i=hh(t.articulacao,o,!0);i&&(i.mensagens=eh(i),e.push(ch(i)))})),e}return[]},jm=(t,e)=>{const o=[];return e.filter((t=>t.stateType===yh.SituacaoElementoModificada)).forEach((e=>{var i;null===(i=e.elementos)||void 0===i||i.forEach((e=>{const i=hh(t.articulacao,e,!0);i&&o.push(ch(i))}))})),o},zm=t=>{const e=["Parte","Livro","Titulo","Capitulo","Secao","Subsecao"];return t.length>0&&[yh.ElementoIncluido,yh.ElementoRemovido].includes(t[0].stateType)&&t[0].elementos.length>0&&e.includes(t[0].elementos[0].tipo)},Fm=(t,e,o)=>{var i;const r=e[0].elementos[0],n=o[0].elementos[0],a=hh(t,n);a.texto=null!==(i=r.conteudo.texto)&&void 0!==i?i:"",a.numero=r.numero,a.id=r.lexmlId,a.rotulo=r.rotulo,o[0].elementos.length=0,o[0].elementos.push(ch(a))},Um=(t,e,o)=>{var i,r,n,a;const s=e.elementos["UNDO"===o?0:1],l=hh(t.articulacao,s,!0),c=ch(l);let u;s.descricaoSituacao===ou.DISPOSITIVO_MODIFICADO?(l.situacao=new dm(ch(l)),u=yh.ElementoModificado):s.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO?(l.situacao=new oh(ch(l)),u=yh.ElementoSuprimido):(l.situacao=new Lf,u=yh.ElementoRestaurado),l.numero=null!==(i=s.numero)&&void 0!==i?i:"",l.rotulo=null!==(r=s.rotulo)&&void 0!==r?r:"",l.texto=null!==(a=null===(n=s.conteudo)||void 0===n?void 0:n.texto)&&void 0!==a?a:"";return{stateType:u,elementos:u===yh.ElementoSuprimido?[ch(l)]:[c,ch(l)]}},Bm=(t,e)=>{var o;const i=hh(t.articulacao,e.atual,!0);if(void 0===i)return t.ui.events=[],t;if(vu(i)&&!pd(i))if(nu(i.pai)){const e=["Parte","Livro","Titulo","Capitulo"];if(!i.filhos.every((t=>su(t)||e.includes(t.tipo))))return Bh(t,{tipo:op.ERROR,descricao:`Operao no permitida (se houver sees abaixo do "${i.rotulo}", elas devem ser removidas antes)`})}else if(i.filhos.filter((t=>!su(t))).length){const e=yd(i.pai).filter(vu),o=e[e.indexOf(i)-1]||{},r=e[e.indexOf(i)+1]||{};return Bh(t,{tipo:op.ERROR,descricao:`Operao no permitida (o agrupador "${r.rotulo}" no poder estar diretamente subordinado ao agrupador "${o.rotulo}")`})}if(!Hh(i,gc))return Bh(t,{tipo:op.ERROR,descricao:"No  possvel excluir um dispositivo original mas apenas suprimi-lo."});if(!pd(i)&&(od(i)||1===t.articulacao.filhos.length&&t.articulacao.filhos[0]===i&&!Bu(i)))return Bh(t,{tipo:op.ERROR,descricao:"No  possvel excluir o nico dispositivo disponvel."});const r=vu(i)?i.filhos[0]||Qu(i)||Vu(i):void 0,n=r?ch(r):void 0,a=Vd(i)&&i===Ud(i),s=vu(i)?Wf(t.articulacao,i):Kf(t.articulacao,i);return n&&(s.push({stateType:yh.ElementoMarcado,elementos:[n]}),s.push({stateType:yh.ElementoReferenciado,elementos:[n]})),a&&s.push({stateType:yh.SituacaoElementoModificada,elementos:[ch(t.articulacao.projetoNorma.ementa)]}),{articulacao:t.articulacao,modo:t.modo,past:Uh(t,s),present:s,future:[],ui:{events:s,alertas:null===(o=t.ui)||void 0===o?void 0:o.alertas}}},Vm=t=>{var e,o;if(void 0===t.future||0===t.future.length)return t.ui.events=[],t;const i=t.future.pop(),r=Uh(t,i),n={articulacao:t.articulacao,modo:t.modo,past:r,present:[],future:t.future,ui:{events:[],alertas:null===(e=t.ui)||void 0===e?void 0:e.alertas}};if(zm(i)){let e;if(e={...n},e.past=[],e.present=[],e.future=[],i[0].stateType===yh.ElementoIncluido){const o=i.find((t=>t.stateType===yh.ElementoReferenciado)).elementos[0],r=i[0].elementos[0];e=im(e,{atual:o,novo:{tipo:r.tipo,uuid:r.uuid,posicao:"antes",manterNoMesmoGrupoDeAspas:r.manterNoMesmoGrupoDeAspas}}),Fm(t.articulacao,i,e.ui.events)}else e=Bm(e,{atual:i[0].elementos[0]});return n.present=e.ui.events,n.ui.events=e.ui.events,n}const a=new tm;a.add(yh.ElementoRemovido,Rm(t,Yf(i,yh.ElementoRemovido))),a.add(yh.ElementoIncluido,Dm(t,Yf(i,yh.ElementoIncluido),Yf(a.eventos,yh.ElementoIncluido))),i.filter((t=>t.stateType===yh.ElementoModificado)).forEach((e=>a.eventos.push({stateType:yh.ElementoModificado,elementos:Lm(t,e,!0)}))),a.add(yh.ElementoSuprimido,((t,e,o,i)=>void 0!==e&&void 0!==e.elementos&&void 0!==e.elementos[0]?(e.elementos.forEach((e=>{var r,n,a,s,l,c,u;const d=hh(t.articulacao,e,!0);i instanceof Lf?(d.numero=null!==(n=null===(r=d.situacao.dispositivoOriginal)||void 0===r?void 0:r.numero)&&void 0!==n?n:"",d.rotulo=null!==(s=null===(a=d.situacao.dispositivoOriginal)||void 0===a?void 0:a.rotulo)&&void 0!==s?s:"",d.texto=null!==(u=null===(c=null===(l=d.situacao.dispositivoOriginal)||void 0===l?void 0:l.conteudo)||void 0===c?void 0:c.texto)&&void 0!==u?u:"",d.situacao=new Lf):d.situacao=new i(ch(d)),o.elementos.push(ch(d))})),o.elementos):[])(t,Yf(i,yh.ElementoSuprimido),Yf(a.eventos,yh.ElementoSuprimido),oh)),i.filter((t=>t.stateType===yh.ElementoRestaurado)).forEach((e=>a.eventos.push(Um(t,e,"REDO")))),a.add(yh.ElementoRenumerado,Mm(t,Yf(i,yh.ElementoRenumerado))),a.add(yh.ElementoValidado,$m(t,i));const s=null===(o=Yf(i,yh.ElementoMarcado))||void 0===o?void 0:o.elementos;return s&&(a.add(yh.ElementoMarcado,s),a.add(yh.ElementoSelecionado,[s[0]])),a.add(yh.SituacaoElementoModificada,Uf(t.articulacao,Jf(a.eventos))),a.eventos.push({stateType:yh.SituacaoElementoModificada,elementos:jm(t,i)}),n.ui.events=a.build(),n.present=a.build(),n},Hm=t=>({stateType:yh.ElementoMarcado,elementos:[ch(t)],moverParaFimLinha:!0}),Gm=(t,e)=>(!t.modo.startsWith("emenda")||e.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO)&&!Bu(e),Km=(t,e)=>{if(!e)return"";if("Alinea"!==t.tipo)return e.toUpperCase();return e.split("-").map(((t,e)=>e>0?t.toUpperCase():t)).join("-")},Wm=(t,e)=>{0!==t.length&&(null==t||t.forEach((t=>{e.add(t.situacao.descricaoSituacao),Wm(t.filhos,e)})))},Qm=(t,e)=>{var o,i;const r=hh(t.articulacao,e.atual,!0);if(void 0===r||(null===(o=r.situacao)||void 0===o?void 0:o.descricaoSituacao)!==ou.DISPOSITIVO_ORIGINAL)return t.ui.events=[],t;if(!(t=>{var e;const o=new Set;return o.add(t.situacao.descricaoSituacao),Wm(t.filhos,o),t.alteracoes&&Wm(null===(e=t.alteracoes)||void 0===e?void 0:e.filhos,o),1===o.size&&[...o][0]===ou.DISPOSITIVO_ORIGINAL})(r))return Bh(t,{tipo:op.ERROR,descricao:"S  possvel suprimir dispositivos que no tenham sofrido modificao."});const n=((t,e)=>{yd(e).forEach((t=>t.situacao=new oh(ch(t)))),e.alteracoes&&e.alteracoes.filhos.length>0&&e.alteracoes.filhos.forEach((t=>yd(t).forEach((t=>t.situacao=new oh(ch(t))))));const o=new tm;o.add(yh.ElementoSuprimido,ph(e));const i=Zf(e);return i&&o.add(yh.ElementoValidado,[i]),o.add(yh.ElementoSelecionado,[ch(e,!0)]),o.build()})(t.articulacao,r);return{articulacao:t.articulacao,modo:t.modo,past:Uh(t,n),present:n,future:[],ui:{events:n,alertas:null===(i=t.ui)||void 0===i?void 0:i.alertas}}},Xm=t=>{var e,o,i;if(void 0===t.past||0===t.past.length)return t.ui.events=[],t;const r=t.past.pop(),n=((t,e)=>{const o=t.future?t.future:[];return o.push(JSON.parse(JSON.stringify(e))),o})(t,r),a={articulacao:t.articulacao,modo:t.modo,past:t.past,present:[],future:n,ui:{events:[],alertas:null===(e=t.ui)||void 0===e?void 0:e.alertas}};if(zm(r)){let e;if(e={...a},e.past=[],e.present=[],e.future=[],r[0].stateType===yh.ElementoIncluido)e=Bm(e,{atual:r[0].elementos[0]});else{const o=r.find((t=>t.stateType===yh.ElementoReferenciado)).elementos[0],i=r[0].elementos[0];e=im(e,{atual:o,novo:{tipo:i.tipo,uuid:i.uuid,posicao:"antes",manterNoMesmoGrupoDeAspas:i.manterNoMesmoGrupoDeAspas}}),Fm(t.articulacao,r,e.ui.events)}return a.present=e.ui.events,a.ui.events=e.ui.events,a}const s=new tm;s.add(yh.ElementoRemovido,Rm(t,Yf(r,yh.ElementoIncluido))),s.add(yh.ElementoIncluido,Dm(t,Yf(r,yh.ElementoRemovido),Yf(s.eventos,yh.ElementoIncluido))),r.filter((t=>t.stateType===yh.ElementoSuprimido)).forEach((e=>s.eventos.push(...((t,e)=>{var o;const i=[];return null===(o=e.elementos)||void 0===o||o.forEach((e=>{const o=hh(t.articulacao,e,!0),r=ch(o);o.situacao=new Lf,i.push({stateType:yh.ElementoRestaurado,elementos:[r,ch(o)]})})),i})(t,e)))),r.filter((t=>t.stateType===yh.ElementoRestaurado)).forEach((e=>s.eventos.push(Um(t,e,"UNDO")))),r.filter((t=>t.stateType===yh.ElementoModificado)).forEach((e=>s.eventos.push({stateType:yh.ElementoModificado,elementos:Lm(t,e)}))),s.add(yh.ElementoRenumerado,Mm(t,Yf(r,yh.ElementoRenumerado))),s.add(yh.ElementoValidado,$m(t,r));const l=s.get(yh.ElementoIncluido);if(!(!l.elementos||!l.elementos.length)&&l.elementos[0].agrupador)s.add(yh.ElementoMarcado,[l.elementos[0]]),s.add(yh.ElementoSelecionado,[l.elementos[0]]);else{const e=null===(i=null===(o=Yf(r,yh.ElementoMarcado))||void 0===o?void 0:o.elementos)||void 0===i?void 0:i.filter((e=>hh(t.articulacao,e,!0)));e&&(s.add(yh.ElementoMarcado,[e[1],e[0]].filter(Boolean)),s.add(yh.ElementoSelecionado,[e[1]].filter(Boolean)))}return s.add(yh.SituacaoElementoModificada,Uf(t.articulacao,Jf(s.eventos))),s.eventos.push({stateType:yh.SituacaoElementoModificada,elementos:jm(t,r)}),a.ui.events=s.build(),a.present=s.build(),a};let Zm,Ym=!1;const Jm=(t,e=!1)=>{var o,i;if(Ym=e,!(null===(o=null==t?void 0:t.value)||void 0===o?void 0:o.projetoNorma))throw new Error("No se trata de um documento lexml vlido");const r={classificacao:(null===(i=t.value)||void 0===i?void 0:i.projetoNorma.norma)?Au.NORMA:Au.PROJETO,tipo:Ap(ev(t)),...ov(t),...iv(t),...rv(t.value.projetoNorma.norma||t.value.projetoNorma.projeto)};return r.articulacao&&(r.articulacao.projetoNorma=r,r.ementa&&(r.ementa.pai=r.articulacao)),r},tv=t=>null==t?void 0:t.replace(/[\n]/g,"").trim(),ev=t=>{var e,o,i;return null===(i=null===(o=null===(e=null==t?void 0:t.value)||void 0===e?void 0:e.metadado)||void 0===o?void 0:o.identificacao)||void 0===i?void 0:i.urn},ov=t=>({urn:ev(t)}),iv=t=>{var e,o,i,r,n,a,s,l,c,u,d,p,h,f,m,v;const g=null!==(a=null===(n=null===(r=null===(i=null===(o=null===(e=null==t?void 0:t.value)||void 0===e?void 0:e.projetoNorma)||void 0===o?void 0:o.norma)||void 0===i?void 0:i.parteInicial)||void 0===r?void 0:r.epigrafe)||void 0===n?void 0:n.content[0])&&void 0!==a?a:"",b=hv(null===(u=null===(c=null===(l=null===(s=null==t?void 0:t.value)||void 0===s?void 0:s.projetoNorma)||void 0===l?void 0:l.norma)||void 0===c?void 0:c.parteInicial)||void 0===u?void 0:u.ementa.content),y=null!==(v=null===(m=null===(f=null===(h=null===(p=null===(d=null==t?void 0:t.value)||void 0===d?void 0:d.projetoNorma)||void 0===p?void 0:p.norma)||void 0===h?void 0:h.parteInicial)||void 0===f?void 0:f.preambulo)||void 0===m?void 0:m.p[0].content[0])&&void 0!==v?v:"";return{epigrafe:tv(g),ementa:nv(tv(b)),preambulo:tv(y)}},rv=t=>({articulacao:av(t.articulacao)}),nv=t=>{if(!t)return;const e=xf(wf(),"Ementa");return e.pai=void 0,e.texto=pv(t),e.rotulo="",e.id="ementa",Ym&&(e.situacao=new Lf),e},av=t=>{const e=wf();return sv(e,t.lXhier,[]),e},sv=(t,e,o)=>{t&&e&&(null==e||e.forEach((e=>{var i,r,n,a,s,l,c,u,d,p,h,f,m,v,g,b,y,x;let _;const w=null===(i=e.value)||void 0===i?void 0:i.notaAlteracao;if(null===(r=e.value)||void 0===r?void 0:r.fechaAspas){const t=o.pop();t&&(t.notaAlteracao=null===(n=e.value)||void 0===n?void 0:n.notaAlteracao)}"Caput"===(null===(a=e.name)||void 0===a?void 0:a.localPart)?("s"===(null===(s=e.value)||void 0===s?void 0:s.abreAspas)?(o.push(_),_.rotulo=null===(l=e.value)||void 0===l?void 0:l.rotulo,_.cabecaAlteracao=!0,_.notaAlteracao=w):(null===(c=e.value)||void 0===c?void 0:c.rotulo)&&(_.rotulo=e.value.rotulo,_.createNumeroFromRotulo(_.rotulo)),t.texto=(null===(u=e.value)||void 0===u?void 0:u.textoOmitido)?ru:tv(dv(e)),t.caput.href=null===(d=e.value)||void 0===d?void 0:d.href,t.caput.id=null===(p=e.value)||void 0===p?void 0:p.id,lv(t,null===(h=e.value)||void 0===h?void 0:h.alteracao,o),sv(t.caput,null===(f=e.value)||void 0===f?void 0:f.lXcontainersOmissis,o)):"alteracao"===(null===(m=e.name)||void 0===m?void 0:m.localPart)?(lv(t,e,o),sv(t.caput,null===(v=e.value)||void 0===v?void 0:v.lXcontainersOmissis,o)):"p"===(null===(g=e.name)||void 0===g?void 0:g.localPart)?cv(e):t.alteracoes||(_=uv(t,e,o),sv(_,null!==(y=null===(b=e.value)||void 0===b?void 0:b.lXhier)&&void 0!==y?y:null===(x=e.value)||void 0===x?void 0:x.lXcontainersOmissis,o))})))},lv=(t,e,o)=>{var i;e&&(Af(t),t.alteracoes.id=e.id,t.alteracoes.base=e.base,Ym&&(t.alteracoes.situacao=new Lf),null===(i=e.content)||void 0===i||i.forEach((e=>{var i,r,n,a,s;if("p"===(null===(i=e.name)||void 0===i?void 0:i.localPart))cv(e);else{const i=uv(t.alteracoes,e,o);i.isDispositivoAlteracao=!0,i.rotulo=null===(r=e.value)||void 0===r?void 0:r.rotulo,sv(i,null!==(a=null===(n=e.value)||void 0===n?void 0:n.lXhier)&&void 0!==a?a:null===(s=e.value)||void 0===s?void 0:s.lXcontainersOmissis,o)}})))},cv=t=>{var e;Zm.texto=(Zm.texto+" "+tv(hv(null===(e=t.value)||void 0===e?void 0:e.content))).replace(/\s+/g," ")},uv=(t,e,o)=>{var i,r,n,a,s,l,c,u,d,p;const h=xf(t,null===(i=e.name)||void 0===i?void 0:i.localPart),f=null===(r=e.value)||void 0===r?void 0:r.notaAlteracao;if(null===(n=e.value)||void 0===n?void 0:n.fechaAspas){const t=o.pop();t&&(t.notaAlteracao=null===(a=e.value)||void 0===a?void 0:a.notaAlteracao)}return mu(h)||("s"===(null===(s=e.value)||void 0===s?void 0:s.abreAspas)?(o.push(h),h.rotulo=null===(l=e.value)||void 0===l?void 0:l.rotulo,h.cabecaAlteracao=!0,h.notaAlteracao=f):h.rotulo=null===(c=e.value)||void 0===c?void 0:c.rotulo,h.createNumeroFromRotulo(h.rotulo)),h.href=null===(u=e.value)||void 0===u?void 0:u.href,h.id=null===(d=e.value)||void 0===d?void 0:d.id,Ym&&(h.situacao=new Lf,su(h)&&(h.caput.situacao=new Lf)),h.texto=(null===(p=e.value)||void 0===p?void 0:p.textoOmitido)?ru:tv(dv(e)),Zm=h,h},dv=t=>{var e,o,i,r,n;let a="";return(null===(e=t.value)||void 0===e?void 0:e.nomeAgrupador)?null!==(o=t.value.nomeAgrupador.content[0])&&void 0!==o?o:"":(null===(n=null===(r=null===(i=t.value)||void 0===i?void 0:i.p)||void 0===r?void 0:r.map((t=>t)))||void 0===n||n.map((t=>t.content)).forEach((t=>a+=hv(t))),pv(a.replace(/b>/gi,"strong>").replace(/i>/gi,"em>")))},pv=t=>{const e=document.createElement("div");e.innerHTML=t;const o=e.getElementsByTagName("*");for(let t=0;t<o.length;t++){const e=o[t].innerHTML;if(-1!==e.indexOf('"')){const i=e.replace(/"(?=\w|$)/g,"&#8220;").replace(/(?=[\w,.?!\-")]|^)"/g,"&#8221;");o[t].innerHTML=i}}return e.innerHTML.replace(/&nbsp;/g," ")},hv=t=>{let e="";return null==t||t.forEach((t=>{if(t.value)e+=`<a href="${(o=t.value).href}"> ${o.content[0]} </a>`;else{let o=t;o=o.replace(/"(?=\w|$)/g,"&#8220;"),o=o.replace(/(?=[\w,.?!\-")]|^)"/g,"&#8221;"),e+=o}var o})),e},fv=t=>{var e;if(!(null===(e=null==t?void 0:t.value)||void 0===e?void 0:e.projetoNorma))throw new Error("No se trata de um documento lexml vlido");return{...rv(t.value.projetoNorma.norma?t.value.projetoNorma.norma:t.value.projetoNorma.projeto)}};var mv;!function(t){t[t.ARTICULACAO_SEM_FILHOS=0]="ARTICULACAO_SEM_FILHOS",t[t.AGRUPADOR_GENERICO_NA_ARTICULACAO=1]="AGRUPADOR_GENERICO_NA_ARTICULACAO",t[t.AGRUPADORES_DE_ARTIGO=2]="AGRUPADORES_DE_ARTIGO",t[t.DISPOSITIVOS_DE_TIPOS_DIFERENTES=3]="DISPOSITIVOS_DE_TIPOS_DIFERENTES",t[t.DISPOSITIVOS_COM_ROTULO_DUPLICADO=4]="DISPOSITIVOS_COM_ROTULO_DUPLICADO",t[t.ARTIGOS_SEM_NUMERACAO_DENTRO_DE_ALTERACAO=5]="ARTIGOS_SEM_NUMERACAO_DENTRO_DE_ALTERACAO",t[t.ALTERACAO_DENTRO_DE_ALTERACAO=6]="ALTERACAO_DENTRO_DE_ALTERACAO",t[t.FILHOS_EM_DISPOSITIVO_SUPRIMIDO=7]="FILHOS_EM_DISPOSITIVO_SUPRIMIDO",t[t.DISPOSITIVO_JA_MODIFICADO=8]="DISPOSITIVO_JA_MODIFICADO",t[t.DISPOSITIVO_EM_POSICAO_INVALIDA=9]="DISPOSITIVO_EM_POSICAO_INVALIDA",t[t.DISPOSITIVO_ANTES_DO_ATUAL=10]="DISPOSITIVO_ANTES_DO_ATUAL",t[t.ARTIGO_COM_FILHOS_SOBRE_ARTIGO_COM_ALTERACOES=11]="ARTIGO_COM_FILHOS_SOBRE_ARTIGO_COM_ALTERACOES",t[t.ARTIGO_COM_ALTERACOES_SOBRE_ARTIGO_COM_FILHOS=12]="ARTIGO_COM_ALTERACOES_SOBRE_ARTIGO_COM_FILHOS",t[t.ARTIGO_COM_MUDANCA_IDENTIFICACAO_NORMA_ALTERADA=13]="ARTIGO_COM_MUDANCA_IDENTIFICACAO_NORMA_ALTERADA",t[t.ARTICULACAO_INCONSISTENTE=14]="ARTICULACAO_INCONSISTENTE"}(mv||(mv={}));class vv{constructor(t,e,o,i,r,n,a,s=!0,l="depois"){var c;this.isColarSubstituindo=!0,this.montarRestricoes=()=>[...Cv(this.articulacaoColada),...Dv(this,this.infoDispositivos)],this.textoColadoOriginal=e,this.textoColadoAjustado=o,this.textoColadoAjustadoParaParser=i,this.isColandoArtigoSemNumeracao=Hv(o),this.jsonix=r,this.articulacaoProposicao=t,this.articulacaoColada=n,this.isColarSubstituindo=s,this.posicao=l,this.infoDispositivos={tiposColados:wv(this.articulacaoColada),atual:hh(this.articulacaoProposicao,a),existentes:[],novos:[]},this.tipoColado=Av(this.articulacaoColada),this.infoDispositivos.referencia=zv(n.filhos[0].tipo,this.infoDispositivos.atual),this.infoDispositivos.existentes=Iv(this.articulacaoProposicao,this.articulacaoColada,this.infoDispositivos.referencia),this.infoDispositivos.novos=Sv(this.articulacaoProposicao,this.articulacaoColada,this.infoDispositivos.referencia),this.infoElementos={tiposColados:this.infoDispositivos.tiposColados,atual:ch(this.infoDispositivos.atual),existentes:this.infoDispositivos.existentes.map((t=>ch(t))),novos:this.getElementos(this.infoDispositivos.novos),referencia:this.infoDispositivos.referencia?ch(this.infoDispositivos.referencia):void 0},this.podeColarAntes=(null===(c=this.infoDispositivos.referencia)||void 0===c?void 0:c.tipo)===this.infoDispositivos.tiposColados[0],this.restricoes=this.montarRestricoes()}getElementos(t){try{return t.map((t=>ch(t)))}catch(t){return[]}}static async newInstanceFromTexto(t,e,o,i){let r=yv(Hv(e)?Gv(e):e),n=await _v(r),a=fv(n);const s=yd(a.articulacao);return bv(s)&&(r=gv(r,s),n=await _v(r),a=fv(n)),new vv(o,t,e,r,n,a.articulacao,i)}static newInstanceFromJsonix(t,e,o,i=!0,r="depois"){const n=fv(t);return new vv(e,"","","",t,n.articulacao,o,i,r)}static newInstanceFromTextoEJsonix(t,e,o,i,r){const n=fv(o);return new vv(i,t,e,e,o,n.articulacao,r)}static newInstanceFromArticulacao(t,e,o){return new vv(e,"","","",void 0,t,o)}atualizarAtributosEAnaliseContextualizada(t,e){const o=[mv.ARTICULACAO_SEM_FILHOS,mv.AGRUPADORES_DE_ARTIGO,mv.DISPOSITIVOS_DE_TIPOS_DIFERENTES,mv.DISPOSITIVOS_COM_ROTULO_DUPLICADO];this.posicao=e,this.isColarSubstituindo=t,this.restricoes=this.restricoes.filter((t=>o.includes(t.tipo))),this.restricoes.push(...Dv(this,this.infoDispositivos))}}const gv=(t,e)=>{let o=t;const i=e.filter((t=>fu(t)&&!hu(t.pai)));return i.forEach((t=>{const e=Wd(t.texto).split(" ").join("[\\s\\n]?"),i=new RegExp(`(\\n)(.*${t.numero}.*${e})`,"i");o=o.replace(i," $2")})),o},bv=t=>t.some((t=>fu(t)&&!hu(t.pai)&&!nu(t.pai))),yv=t=>{const e=t.replace(/\r/g,"").replace(/\n\s*\(NR\)/gi," (NR)").replace(/(\(NR\))\./gi,"$1");if(!xv(e))return e;if(!e.match(/(?<=\n|^)["']?art(?:\.|\s|\d)(?:.|\n)+?(?:(?=\n["']?art(?:\.|\s|\d))|$)/gi))return e;return e.replace(/(?<=\n|^)\s*["']?(art(?:\.|\s|\d)(?:.|\n)+?)(["]\s*(?:\(NR\))?[\s]*)?(?:(?=\n\s*["']?art(?:\.|\s|\d))|$)/gi,"\n$1").trim()},xv=t=>!!t.match(/^["']/),_v=async t=>{const e={method:"POST",headers:{"Content-Type":"text/plain"},body:t};try{const t=await fetch("https://www6ghml.senado.leg.br/editor-emendas/api/parser/jsonix",e);return await t.json()}catch(t){return console.error(t)}},wv=t=>[...new Set(t.filhos.filter((t=>"Omissis"!==t.tipo)).map((t=>t.tipo)))],Av=t=>Ev(t.filhos[0]),Ev=t=>Ov(t.tipo),Ov=t=>Cl[null==t?void 0:t.toLowerCase()],Iv=(t,e,o)=>{!o||su(e.filhos[0])&&!pd(o)||Uv(e.filhos,o);const i=yd(e).filter((t=>"Articulacao"!==t.tipo)).map((t=>t.id));return yd(t).filter((t=>hd(t)&&i.includes(t.id)))},Sv=(t,e,o)=>{const i=Iv(t,e,o).map((t=>t.id));return yd(e).filter((t=>!nu(t)&&!i.includes(t.id)))},Cv=t=>{const e=[];if(!t||!t.filhos.length)return e.push({tipo:mv.ARTICULACAO_SEM_FILHOS,mensagens:["No foi possvel identificar dispositivos no texto informado"]}),e;if(yd(t).some(bu)&&e.push({tipo:mv.AGRUPADOR_GENERICO_NA_ARTICULACAO,mensagens:["No foi possvel identificar, corretamente, os dispositivos no texto a ser colado."]}),kv(t)&&e.push({tipo:mv.AGRUPADORES_DE_ARTIGO,mensagens:["No  permitido colar texto com agrupadores de artigo.","Por favor, adicione-os manualmente no editor e depois cole os artigos, se houverem."]}),t.filhos.filter((t=>!mu(t))).length!==ku(t.filhos.filter((t=>!mu(t)))[0]).length){const o=[...new Set(t.filhos.map((t=>{var e;return null===(e=Cl[t.tipo.toLowerCase()].descricaoPlural)||void 0===e?void 0:e.toLocaleLowerCase()})))];e.push({tipo:mv.DISPOSITIVOS_DE_TIPOS_DIFERENTES,mensagens:[`No  permitido colar texto com dispositivos de tipos diferentes: ${o.join(", ")}.`,"Por favor, cole-os separadamente."]})}if(Pv(t)&&e.push({tipo:mv.DISPOSITIVOS_COM_ROTULO_DUPLICADO,mensagens:["No  permitido colar dispositivos com rtulos duplicados."]}),Nv(t)){const o=["No foi possvel identificar, corretamente, os dispositivos no texto a ser colado.",qv(yd(t)),"Por favor, verifique se o texto est correto e tente novamente."].filter(Boolean);e.push({tipo:mv.ARTICULACAO_INCONSISTENTE,mensagens:o})}return e},kv=t=>t.filhos.filter((t=>vu(t)&&"DispositivoAgrupadorGenerico"!==t.tipo)).length>0,Nv=t=>yd(t).slice(1).some((t=>Tv(t))),Tv=t=>{var e,o;return!(null===(o=null===(e=t.pai)||void 0===e?void 0:e.tiposPermitidosFilhos)||void 0===o?void 0:o.includes(t.tipo))&&!mu(t)&&!nu(t.pai)},qv=t=>{var e,o;const i=t.find((t=>Tv(t)));if(i&&i.pai){const t=lu(i.pai)?i.pai.pai:i.pai,r=null===(e=null==t?void 0:t.tiposPermitidosFilhos)||void 0===e?void 0:e.map((t=>{var e;return null===(e=Cl[t.toLowerCase()].descricao)||void 0===e?void 0:e.toLowerCase()}));return`O dispositivo "${i.rotulo}" no pode ser colado como filho de "${null==t?void 0:t.rotulo}" pois o tipo do dispositivo  ${null===(o=Cl[i.tipo.toLowerCase()].descricao)||void 0===o?void 0:o.toLowerCase()} e o tipo permitido  ${null==r?void 0:r.join(" ou ")}.`}return""},Pv=t=>{const e=t.filhos.map((t=>t.rotulo));return e.length>new Set(e).size},Dv=(t,e)=>{const o=[],{textoColadoAjustado:i,articulacaoColada:r,articulacaoProposicao:n,tipoColado:a,isColarSubstituindo:s,posicao:l}=t,{atual:c,referencia:u,existentes:d}=e;if(t.infoElementos.tiposColados.includes("DispositivoAgrupadorGenerico"))return o;if(!r.filhos.length)return o;const p=a.descricaoPlural;pd(c)&&Hv(i)&&o.push({tipo:mv.ARTIGOS_SEM_NUMERACAO_DENTRO_DE_ALTERACAO,mensagens:["No  permitido colar artigo sem numerao dentro de alterao de norma."]}),pd(c)&&r.filhos.some((t=>{var e;return su(t)&&(null===(e=t.alteracoes)||void 0===e?void 0:e.filhos.length)}))&&o.push({tipo:mv.ALTERACAO_DENTRO_DE_ALTERACAO,mensagens:["No  permitido colar alterao de norma dentro de alterao de norma"]});const h=d||Iv(Eu(c),r,u);if(c.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO&&r.filhos&&Fv(r.filhos,c)&&o.push({tipo:mv.FILHOS_EM_DISPOSITIVO_SUPRIMIDO,mensagens:["No  permitido colar filhos em dispositivo suprimido"]}),s&&h.some(gd)){const t=h.filter(gd).map((t=>t.id)),e=yd(n).filter((e=>a.name===e.tipo&&t.includes(e.id))).map((t=>{var e;return null===(e=t.rotulo)||void 0===e?void 0:e.replace(/ [-)]/,"")})).join(", ");o.push({tipo:mv.DISPOSITIVO_JA_MODIFICADO,titulo:"Ateno, dispositivo j modificado encontrado",mensagens:[`No  permitido colar dispositivos que j foram alterados na emenda${e?` (veja ${p}: ${e})`:""}.`],isPermitidoColarAdicionando:!0})}const f=u||zv(r.filhos[0].tipo,c);if(!f){const t=Ov(c.tipo).descricaoPlural;return o.push({tipo:mv.DISPOSITIVO_EM_POSICAO_INVALIDA,mensagens:[`No  permitido colar ${null==p?void 0:p.toLowerCase()} sobre ${null==t?void 0:t.toLowerCase()}`]}),o}return"antes"===l&&f.tipo!==r.filhos[0].tipo&&o.push({tipo:mv.DISPOSITIVO_ANTES_DO_ATUAL,mensagens:[`No  permitido colar ${p} antes do atual dispositivo selecionado`]}),Rv(t,e)&&o.push({tipo:mv.ARTIGO_COM_FILHOS_SOBRE_ARTIGO_COM_ALTERACOES,mensagens:["No  permitido adicionar incisos ou pargrafos a artigo que j possua alteraes de norma"],isPermitidoColarAdicionando:!0}),Lv(t,e)&&o.push({tipo:mv.ARTIGO_COM_ALTERACOES_SOBRE_ARTIGO_COM_FILHOS,mensagens:["No  permitido adicionar alteraes de norma a artigo que j possua incisos ou pargrafos"],isPermitidoColarAdicionando:!0}),Mv(t)&&o.push({tipo:mv.ARTIGO_COM_MUDANCA_IDENTIFICACAO_NORMA_ALTERADA,mensagens:["No  permitido colar artigo com mudana na identificao da norma alterada"],isPermitidoColarAdicionando:!0}),o},Rv=(t,e)=>t.isColarSubstituindo&&$v(e.existentes)&&jv(t.articulacaoColada.filhos),Lv=(t,e)=>t.isColarSubstituindo&&jv(e.existentes)&&$v(t.articulacaoColada.filhos),Mv=t=>!t,$v=t=>t.some((t=>{var e;return su(t)&&!pd(t)&&(null===(e=t.alteracoes)||void 0===e?void 0:e.filhos.length)})),jv=t=>t.some((t=>{var e;return su(t)&&!pd(t)&&(null===(e=t.filhos)||void 0===e?void 0:e.length)})),zv=(t,e)=>e?e.tipo===t||(e.tiposPermitidosFilhos||[]).includes(t)?e:zv(t,e.pai):void 0,Fv=(t,e)=>{var o;return t[0].tipo!==e.tipo&&!!(null===(o=e.tiposPermitidosFilhos)||void 0===o?void 0:o.includes(t[0].tipo))},Uv=(t,e)=>{let o;o=e.tipo===t[0].tipo?e.pai.id:e.id,su(e)&&uu(t[0])&&(o+="_cpt"),t.forEach((t=>yd(t).forEach((t=>Bv(t,o)))))},Bv=(t,e)=>{var o;!(null===(o=t.id)||void 0===o?void 0:o.startsWith(e))&&Vv(t,e)},Vv=(t,e)=>{t.id=e+"_"+t.id,su(t)&&t.caput&&(t.caput.id=e+"_"+t.caput.id)},Hv=t=>{var e;const o=null===(e=Yd(t))||void 0===e?void 0:e.replace(/&nbsp;/g," ").replace(/["']/g,"").trim();return/^(["'])?(art\.\s+(?!\d+)[x. ]*[0]?)/gim.test(o)},Gv=t=>{if(Hv(t)){let e=5e3,o=t.replaceAll(/^(["'])?(art\.\s+(?!\d+)[x. ]*[0]?)/gim,"$1ArtigoANumerar");for(;-1!==o.indexOf("ArtigoANumerar");)o=o.replace("ArtigoANumerar","Art. "+e+++". ");return o}return t},Kv=t=>{let e=t.replace(/\xA0/g," ").replace(/<![^>]*>/g,"").replace(/<p/g,"\n<p").replace(/<br\b[^>]*>/gi,"\n").replace(/&nbsp;/g," ").replace(/(<br\s*\/?>)/gi," ").replace(/<([a-z]+) .*?=".*?( *\/?>)/gi,"<$1$2").replace(/;[/s]?[e][/s]?$/,"; ").replace(";","; ").replace(/^["']/g,"").replace(/<\/?body[^>]*>/gi,"").replace(/\r/g,"").replace(/\n+/g,"\n");const o=["B","STRONG","I","EM","SUP","SUB","P"];return o.map((t=>t.toLowerCase())).forEach((t=>e=e.replace(new RegExp(`<${t}[^>]*>`,"gi"),`<${t}>`))),e=e.replace(/<(\/?)strong>/gi,"<$1b>").replace(/<(\/?)em(>)/gi,"<$1i>"),e=e.replace(/<p[^>]*>(?:.|\n)*?<\/p>/gi,(t=>t.replace(/\n/g," "))).replace(/[\t ]+/g," "),e=e.replace(/&gt;/g,">").replace(/&lt;/g,"<"),e=((t,e)=>{const o=new RegExp(`<(?!(?:/?(${e.join("|")})\\b))[^>]*>`,"gi");return t.replace(o,"")})(e,o).replace(/<p[^>]*>/gi,"\n<p>").replace(/(?<=<\/p>).*/gi,"").replace(/<\/?p[^>]*>/g,"\n").replace(/\n+/g,"\n").replace(/ +/g," ").replace(/\n\s+/g,"\n").trim(),e},Wv=/^\.{2,}/,Qv=(t,e,o,i,r,n,a,s,l)=>{const c=pd(o);let u=i;const d=[],p=[];e.filhos.forEach((e=>{if(c||!mu(e)){const o=cg(t,e.id);if(o&&n){const t=ag(o,e,s,c);p.push(...yd(t).filter(md)),d.push(...yd(t).filter(fd)),u=t}else{u=o&&a?o:u;const t=ug(u,e,c,!1,s,"antes"===r&&u===i?r:void 0);d.push(...yd(t)),u=t}}}));const h=[];let f;return Zv(e,o,i)&&(f=Yv(i),i.pai.removeFilho(i),i.pai.renumeraFilhos(),d.forEach((t=>t.id=nh(t)))),h.push(Jv(d,i)),f&&h.push(f),h.push(...tg(p)),h.push(Xv(d,i,l)),h.push(eg(i)),h.push(og(d,c)),d[0]&&h.push(ig([d[0],o])),h.filter((t=>{var e;return null===(e=t.elementos)||void 0===e?void 0:e.length}))},Xv=(t,e,o)=>{const i=(e.tipo===o?e.pai:e).filhos.filter((e=>fd(e)&&!t.includes(e)));return{stateType:yh.ElementoRenumerado,elementos:i.map((t=>ch(t)))}},Zv=(t,e,o)=>{const i=yd(t).filter((t=>!["Articulacao","Omissis"].includes(t.tipo)))[0];return e===o&&i.tipo===o.tipo&&!o.texto&&fd(o)},Yv=t=>({stateType:yh.ElementoRemovido,elementos:[uh(t)]}),Jv=(t,e)=>{const o=[],i=e.pai;let r;if(t.length){let e=yd(i),n=e.indexOf(t[0]);-1===n&&(e=yd(Eu(i)),n=e.indexOf(t[0])),t.forEach((t=>{const e=ch(t,!0,!0);e.mensagens=eh(t),o.push(e)})),r=ch(e[n-1])}return{stateType:yh.ElementoIncluido,elementos:o,referencia:r}},tg=t=>{const e=[];return t.forEach((t=>{e.push({stateType:yh.ElementoModificado,elementos:[t.situacao.dispositivoOriginal,uh(t)]})})),e},eg=t=>{const e=yd(t.pai).filter(vd).map((t=>yd(t))).flat();return{stateType:yh.ElementoSuprimido,elementos:e.map((t=>uh(t)))}},og=(t,e)=>{const o=[];return e&&o.push(...gg(t).map((t=>uh(t)))),o.push(...rg(t).map((t=>uh(t)))),o.push(...ng(t).map((t=>uh(t)))),{stateType:yh.SituacaoElementoModificada,elementos:o}},ig=t=>({stateType:yh.ElementoMarcado,elementos:t.map((t=>uh(t)))}),rg=t=>[...new Set(t.filter(cu).map((t=>t.pai)))].map((t=>t.filhos.filter((t=>cu(t)&&"1"===t.numero)))).flat(),ng=t=>t.filter((t=>{var e;return su(t)&&!dd(t)&&(null===(e=t.alteracoes)||void 0===e?void 0:e.filhos.length)})),ag=(t,e,o,i,r=[])=>{var n;let a,s=t;Yd(t.texto)!==Yd(e.texto)&&!e.texto.match(Wv)&&e.texto.trim()&&(t.situacao=new dm(uh(t)),t.texto=e.texto);return((null===(n=e.alteracoes)||void 0===n?void 0:n.filhos)||e.filhos).forEach((e=>{if(mu(e)&&r.push(mg(t,e)),!mu(e)||i){const n=cg(Eu(t),e.id);n?(s=n,ag(n,e,o,i||pd(e),r)):(s=a&&sg(a,r,e)||s,ug(s,e,i||pd(e),!!a,o,"depois"),s=e)}a=mu(e)?e:void 0})),i||lg(t,e,r),t},sg=(t,e,o)=>{var i;return null===(i=e.find((e=>e.omissis===t)))||void 0===i?void 0:i.omitidos.filter((t=>t.tipo===o.tipo)).slice(-1)[0]},lg=(t,e,o)=>{const i=Eu(e),r=o.map((t=>t.omitidos)).flat();t.filhos.forEach((t=>{cg(i,t.id)||Ed(i,t.id.replace("par1u","par1"))||r.find((e=>e.id===t.id))||yd(t).forEach((t=>t.situacao=new oh(uh(t))))}))},cg=(t,e)=>{const o=Ed(t,e);if(o)return o;return e.split("alt")[0].split("_").includes("par1")?Ed(t,e.replace("_par1_","_par1u_").replace(/par1$/,"par1u")):void 0},ug=(t,e,o,i,r,n)=>{var a,s,l,c;if(!mu(t)&&(null===(a=t.tiposPermitidosFilhos)||void 0===a?void 0:a.includes(e.tipo))?su(t)&&uu(e)?(e.pai=t.caput,i?t.caput.addFilho(e):t.caput.addFilhoOnPosition(e,0)):(e.pai=t,i?t.addFilho(e):t.addFilhoOnPosition(e,0)):!pd(t)&&pd(e)?(e.pai=t.alteracoes,t.alteracoes.addFilhoOnPosition(e,0)):(e.pai=t.pai,null===(s=t.pai)||void 0===s||s.addFilhoOnPosition(e,t.pai.indexOf(t)+("antes"===n?0:1))),e.texto.match(Wv)&&!o&&(e.texto=""),fg(e,r),o?e.notaAlteracao=nd(e)?"NR":void 0:hg(e),!(null===(c=null===(l=e.pai)||void 0===l?void 0:l.tiposPermitidosFilhos)||void 0===c?void 0:c.includes(e.tipo))&&!mu(e))throw new Error("Erro ao colar dispositivo adicionado");return dg(e),e},dg=t=>{var e;null===(e=t.pai)||void 0===e||e.renumeraFilhos(),yd(t).forEach((t=>{t.id=nh(t),su(t)&&(t.caput.id=nh(t.caput))}))},pg=(t,e)=>{t.situacao=new Zh,t.isDispositivoAlteracao=pd(t),t.situacao.tipoEmenda=e,t.isDispositivoAlteracao&&!mu(t)&&(t.situacao.existeNaNormaAlterada=!0)},hg=t=>{t.filhos.filter(mu).forEach((t=>t.pai.removeFilho(t))),t.filhos.forEach(hg),t.id=nh(t),t.renumeraFilhos()},fg=(t,e)=>{pg(t,e),t.filhos.forEach((t=>{pg(t,e),t.filhos&&fg(t,e)})),t.alteracoes&&(pg(t.alteracoes,e),t.alteracoes.filhos.forEach((t=>{pg(t,e),t.filhos&&fg(t,e)})))},mg=(t,e)=>{const o=yd(lu(e.pai)?e.pai.pai:e.pai),i=yd(su(t)?t:t.pai),r=o.indexOf(e),n=o[r-1],a=o[r+1],s=i.find((t=>t.id===n.id)),l=a&&i.find((t=>t.id===a.id)),c=vg(i,s,l,a),u=[...new Set(c.map((t=>t.id.split("_")[0])))];if(u.length>1)throw new Error("Erro ao montar lista de dispositivos omitidos");return{omissis:e,anterior:n,posterior:a,omitidos:c}},vg=(t,e,o,i)=>{const r=[];if(o){const i=t.findIndex((t=>t.id===e.id)),n=t.findIndex((t=>t.id===o.id));r.push(...t.filter(((t,e)=>e>i&&e<n)))}else{const o=t.findIndex((t=>t.id===e.id));r.push(...t.filter(((t,e)=>e>o&&(!i||t.id.startsWith(i.pai.id)))))}return r},gg=t=>{const e=new Map;t.forEach((t=>{const o=rd(t);e.set(o.id,o)}));return[...e.values()].map((t=>{const e=Su(t),o=Pu(e,(t=>!(!t.pai||t.pai!==e.pai)));return o?[o,e]:[e]})).flat().filter((t=>t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO))},bg=function(t){for(var e=Object.keys(t),o={},i=0;i<e.length;i++){var r=e[i];"production"!==process.env.NODE_ENV&&void 0===t[r]&&xl('No reducer provided for key "'+r+'"'),"function"==typeof t[r]&&(o[r]=t[r])}var n,a,s=Object.keys(o);"production"!==process.env.NODE_ENV&&(n={});try{!function(t){Object.keys(t).forEach((function(e){var o=t[e];if(void 0===o(void 0,{type:vl.INIT}))throw new Error("production"===process.env.NODE_ENV?hl(12):'The slice reducer for key "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===o(void 0,{type:vl.PROBE_UNKNOWN_ACTION()}))throw new Error("production"===process.env.NODE_ENV?hl(13):'The slice reducer for key "'+e+"\" returned undefined when probed with a random type. Don't try to handle '"+vl.INIT+'\' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(o)}catch(t){a=t}return function(t,e){if(void 0===t&&(t={}),a)throw a;if("production"!==process.env.NODE_ENV){var i=function(t,e,o,i){var r=Object.keys(e),n=o&&o.type===vl.INIT?"preloadedState argument passed to createStore":"previous state received by the reducer";if(0===r.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!gl(t))return"The "+n+' has unexpected type of "'+yl(t)+'". Expected argument to be an object with the following keys: "'+r.join('", "')+'"';var a=Object.keys(t).filter((function(t){return!e.hasOwnProperty(t)&&!i[t]}));return a.forEach((function(t){i[t]=!0})),o&&o.type===vl.REPLACE?void 0:a.length>0?"Unexpected "+(a.length>1?"keys":"key")+' "'+a.join('", "')+'" found in '+n+'. Expected to find one of the known reducer keys instead: "'+r.join('", "')+'". Unexpected keys will be ignored.':void 0}(t,o,e,n);i&&xl(i)}for(var r=!1,l={},c=0;c<s.length;c++){var u=s[c],d=o[u],p=t[u],h=d(p,e);if(void 0===h){var f=e&&e.type;throw new Error("production"===process.env.NODE_ENV?hl(14):"When called with an action of type "+(f?'"'+String(f)+'"':"(unknown type)")+', the slice reducer for key "'+u+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.')}l[u]=h,r=r||h!==p}return(r=r||s.length!==Object.keys(t).length)?l:t}}({appReducer:(t={},e)=>(e.type,t),elementoReducer:(t={},e)=>{switch(e.type){case"ADICIONAR_AGRUPADOR_ARTIGO":case"AGRUPAR_ELEMENTO":return im(t,e);case"INFORMAR_EXISTENCIA_NA_NORMA":return((t,e)=>{var o;const i=hh(t.articulacao,e.atual,!0);if(void 0===i)return t.ui.events=[],t;if(!Hh(i,lc))return Bh(t,{tipo:op.INFO,descricao:"Nessa situao, no  possvel alterar esse dado do dispositivo"});const r=!Nd(i),n=e.existeNaNormaAlterada;if(r===n)return t.ui.events=[],t;const a=Am(i,n);if(a)return Bh(t,a);const s=r&&!e.existeNaNormaAlterada,l=[];if(s){const t=yd(i).filter((t=>!vu(i)||vu(t)));t.forEach((t=>{const o=ch(t);t.situacao.existeNaNormaAlterada=e.existeNaNormaAlterada;const i=ch(t);l.push({stateType:yh.ElementoModificado,elementos:[o,i]})}))}else{const t=ch(i);i.situacao.existeNaNormaAlterada=e.existeNaNormaAlterada;const o=ch(i);l.push({stateType:yh.ElementoModificado,elementos:[t,o]}),l.push({stateType:yh.SituacaoElementoModificada,elementos:ph(i)})}return l.push({stateType:yh.ElementoSelecionado,elementos:[ch(i)]}),{articulacao:t.articulacao,modo:t.modo,past:Uh(t,l),present:l,future:[],ui:{events:l,alertas:null===(o=t.ui)||void 0===o?void 0:o.alertas}}})(t,e);case"ATUALIZAR_NOTA_ALTERACAO":return((t,e)=>{var o;const i=hh(t.articulacao,e.atual,!0);if(void 0===i)return t.ui.events=[],t;if(!Hh(i,Jc))return Bh(t,{tipo:op.INFO,descricao:"Nessa situao, no  possvel alterar esse dado do dispositivo"});const r=rd(i);if(void 0===r)return Bh(t,{tipo:op.INFO,descricao:"Nessa situao, no  possvel alterar esse dado do dispositivo"});if(r.notaAlteracao===e.notaAlteracao)return t.ui.events=[],t;const n=ch(i);r.notaAlteracao=e.notaAlteracao;const a=ch(i),s=[];return s.push({stateType:yh.ElementoModificado,elementos:[n,a]}),s.push({stateType:yh.ElementoValidado,elementos:[a]}),{articulacao:t.articulacao,modo:t.modo,past:Uh(t,s),present:s,future:[],ui:{events:s,alertas:null===(o=t.ui)||void 0===o?void 0:o.alertas}}})(t,e);case"APLICAR_ALTERACOES_EMENDA":return((t,e)=>{const o={articulacao:t.articulacao,modo:t.modo,past:[],present:[],future:[],ui:{events:[],alertas:[]}},i=new tm;e.alteracoesEmenda.dispositivosSuprimidos&&(i.add(yh.ElementoSuprimido,[]),e.alteracoesEmenda.dispositivosSuprimidos.forEach((e=>{const o=Ed(t.articulacao,e.id);o&&_d(o,(t=>{var e;t.situacao=new oh(ch(t)),null===(e=i.get(yh.ElementoSuprimido).elementos)||void 0===e||e.push(ch(t))}))}))),e.alteracoesEmenda.dispositivosModificados&&(i.add(yh.ElementoModificado,[]),e.alteracoesEmenda.dispositivosModificados.forEach((e=>{var o;const r=Ed(t.articulacao,"Caput"===e.tipo?xm(e.id):e.id);r&&(r.situacao=new dm(ch(r)),r.texto=e.texto,null===(o=i.get(yh.ElementoModificado).elementos)||void 0===o||o.push(ch(r)))}))),e.alteracoesEmenda.dispositivosAdicionados&&i.eventos.push(...pm(t,e.alteracoesEmenda)),o.ui.events=i.build();const r=[];return o.ui.events.filter((t=>t.stateType===yh.ElementoIncluido)).forEach((t=>r.push(...t.elementos))),o.ui.events.push({stateType:yh.SituacaoElementoModificada,elementos:Uf(t.articulacao,r)}),o})(t,e);case"ASSISTENTE_ALTERACAO":return((t,e)=>{var o,i,r;const n=hh(t.articulacao,e.atual,!0);if(void 0===n||!su(n))return t.ui.events=[],t;const a=xf(n.pai,n.tipo,n);if(a.situacao=new Zh,a.situacao.tipoEmenda=t.modo,a.isDispositivoAlteracao=!1,a.situacao.existeNaNormaAlterada=void 0,null===(o=a.pai)||void 0===o||o.renumeraFilhos(),a.id=nh(a),a.caput.situacao=a.situacao=new Zh,a.caput.situacao.tipoEmenda=t.modo,Af(a),a.alteracoes.situacao=new Zh,a.alteracoes.situacao.tipoEmenda=t.modo,e.dispositivos)try{Pf(e.dispositivos,a,t.modo)}catch(e){return Bh(t,{tipo:op.ERROR,descricao:e.message})}if(e.norma){a.alteracoes.base=e.norma;const t=null===(i=Ap(e.norma))||void 0===i?void 0:i.genero;if(e.norma&&Np(e.norma)){const o=`${Ap(e.norma).descricao} n ${Op(Ep(e.norma))}, de ${Sp(e.norma)}`;a.texto=`${t&&"M"===t?"O":"A"} <a href="${e.norma}">${o}</a>, passa a vigorar com as seguintes alteraes:`}}const s=xd(a,[]);s.forEach(((t,e)=>{e>0&&e<s.length-1&&(t.texto=ru),e>1&&em(t)}));const l=new tm;return l.setReferencia(ch(jf(n,a))),l.add(yh.ElementoIncluido,Ff(a,!0)),l.add(yh.ElementoValidado,mh(a,!1)),l.add(yh.ElementoMarcado,[ch(Su(a)),ch(n)]),{articulacao:t.articulacao,modo:t.modo,past:Uh(t,l.build()),present:l.build(),future:[],ui:{events:l.build(),alertas:null===(r=t.ui)||void 0===r?void 0:r.alertas}}})(t,e);case"ATUALIZAR_ELEMENTO":return((t,e)=>{var o,i,r,n,a;const s=hh(t.articulacao,e.atual,!0);if(void 0===s||s.texto===e.atual.conteudo.texto)return t.ui.events=[],t;const l=ch(s);s.texto=pd(s)?cp(null!==(r=null===(i=e.atual.conteudo)||void 0===i?void 0:i.texto)&&void 0!==r?r:""):null===(o=e.atual.conteudo)||void 0===o?void 0:o.texto,(null===(n=s.situacao)||void 0===n?void 0:n.descricaoSituacao)===ou.DISPOSITIVO_ORIGINAL&&(s.situacao=new dm(l));const c=Hf(s);return{articulacao:t.articulacao,modo:t.modo,past:Uh(t,Gf(s,l)),present:c.build(),future:t.future,ui:{events:c.build(),alertas:null===(a=t.ui)||void 0===a?void 0:a.alertas}}})(t,e);case"ATUALIZAR_REFERENCIA_ELEMENTO":return _m(t,e);case"ATUALIZAR_TEXTO_ELEMENTO":return((t,e)=>{var o,i,r,n,a,s;const l=hh(t.articulacao,e.atual,!0),c=null===(i=null===(o=e.atual)||void 0===o?void 0:o.conteudo)||void 0===i?void 0:i.texto,u=l&&(null===(n=null===(r=null==l?void 0:l.situacao.dispositivoOriginal)||void 0===r?void 0:r.conteudo)||void 0===n?void 0:n.texto)===c;if(void 0===l||l.texto===c)return t.ui.events=[],t;const d=ch(l);l.texto=pd(l)?cp(null!=c?c:""):c,u?l.situacao=new Lf:(null===(a=l.situacao)||void 0===a?void 0:a.descricaoSituacao)===ou.DISPOSITIVO_ORIGINAL&&(l.situacao=new dm(d));const p=new tm,h=ch(l,!0);h.mensagens=eh(l),((t,e)=>{var o,i,r,n;const a=null===(i=null===(o=e.atual)||void 0===o?void 0:o.conteudo)||void 0===i?void 0:i.texto,s=null===(n=null===(r=t.situacao.dispositivoOriginal)||void 0===r?void 0:r.conteudo)||void 0===n?void 0:n.texto;return a!==t.texto&&a!==s})(l,e)&&p.add(yh.ElementoModificado,[h]),_u(l)&&(l.texto=l.texto.toUpperCase());const f=[{stateType:yh.SituacaoElementoModificada,elementos:[h]},{stateType:yh.ElementoValidado,elementos:mh(l)},{stateType:yh.ElementoSelecionado,elementos:[h]}],m=Hf(l);return{articulacao:t.articulacao,modo:t.modo,past:Uh(t,Gf(l,d)),present:m.build(),future:[],ui:{events:f,alertas:null===(s=t.ui)||void 0===s?void 0:s.alertas}}})(t,e);case"AUTO_FIX":return((t,e)=>{var o,i;const r=hh(t.articulacao,e.atual,!0);if(void 0===r||!(t=>{var e,o;return(null!==(o=null===(e=t.mensagens)||void 0===e?void 0:e.filter((t=>t.fix)))&&void 0!==o?o:[]).length>0})(r))return t.ui.events=[],t;const n=new tm;switch(null===(o=e.mensagem)||void 0===o?void 0:o.descricao){case ip.INFORMAR_NORMA:return wm(t,e);case ip.OMISSIS_ANTES:{const t=Vu(r),e=xf(r.pai,Cl.omissis.tipo,t,t?void 0:0);e.situacao=new Zh,e.mensagens=eh(e);const o=ch(e,!0);r.mensagens=eh(r);const i=ch(r);n.add(yh.ElementoIncluido,[o]),n.add(yh.ElementoValidado,[i]),n.setReferencia(ch(null!=t?t:du(r)?r.pai.pai:r.pai));break}case ip.OMISSIS_SEQUENCIAIS:{const t=ch(r);let e=Qu(r);e&&mu(e)||(e=Cd(r.pai));const o=r.pai;o.removeFilho(r),o.renumeraFilhos(),n.add(yh.ElementoRemovido,[t]),e&&n.add(yh.ElementoValidado,[ch(e)]);break}default:return t.ui=[],t}return{articulacao:t.articulacao,modo:t.modo,past:Uh(t,n.build()),present:n.build(),future:[],ui:{events:n.build(),alertas:null===(i=t.ui)||void 0===i?void 0:i.alertas}}})(t,e);case"ADICIONAR_ELEMENTO":return om(t,e);case"ADICIONAR_ELEMENTOS_FROM_CLIPBOARD":return((t,e)=>{var o,i,r,n;const a=hh(t.articulacao,e.atual,!0);if(void 0===a)return t.ui.events=[],t;const s=null!==(o=e.infoTextoColado)&&void 0!==o?o:vv.newInstanceFromJsonix(null===(r=null===(i=e.novo)||void 0===i?void 0:i.conteudo)||void 0===r?void 0:r.texto,t.articulacao,e.atual,e.isColarSubstituindo,e.posicao);if(s.restricoes.length)return Bh(t,{tipo:op.ERROR,descricao:s.restricoes[0].mensagens[0]});const l=s.articulacaoColada,c=hh(t.articulacao,s.infoElementos.referencia);su(l.filhos[0])&&!pd(a)||Uv(l.filhos,c);const u=Qv(t.articulacao,l,a,c,e.posicao,e.isColarSubstituindo,e.isUsarDispositivoDeMesmoRotuloComoReferenciaDuranteAdicao,t.modo,s.infoElementos.tiposColados[0]);return{articulacao:t.articulacao,modo:t.modo,past:Uh(t,u),present:u,future:[],ui:{events:u,alertas:null===(n=t.ui)||void 0===n?void 0:n.alertas}}})(t,e);case"TRANSFORMAR_TIPO_ELEMENTO":return Nm(t,e);case"ELEMENTO_SELECIONADO":return((t,e)=>{var o;const i=hh(t.articulacao,e.atual,!0);if(void 0===i)return t.ui.events=[],t;i.mensagens=eh(i);const r=ch(i,!0),n=[{stateType:yh.ElementoSelecionado,elementos:[r]}];return{articulacao:t.articulacao,modo:t.modo,past:t.past,present:t.present,future:t.future,ui:{events:n,alertas:null===(o=t.ui)||void 0===o?void 0:o.alertas}}})(t,e);case"INFORMAR_DADOS_ASSISTENTE":return((t,e)=>{var o;const i=hh(t.articulacao,e.atual,!0);if(void 0===i)return t.ui.events=[],t;i.mensagens=eh(i);const r=ch(i,!0),n=[{stateType:yh.InformarDadosAssistente,elementos:[r]}];return{articulacao:t.articulacao,modo:t.modo,past:t.past,present:t.present,future:[],ui:{events:n,alertas:null===(o=t.ui)||void 0===o?void 0:o.alertas}}})(t,e);case"INFORMAR_NORMA":return wm(t,e);case"Mover para baixo":return((t,e)=>{var o;const i=hh(t.articulacao,e.atual,!0);if(void 0===i)return t.ui.events=[],t;if(!Hh(i,hc))return Gh(i,t);let r=td(i);if(!r&&su(i)&&(r=Dd(i)),!r)return t;const n=gu(r),a=[...ph(i)],s=vh(i),l=i.pai,c=n?r:r.pai,u=n?0:c.indexOf(i)+1;Mf(i),i.pai.removeFilho(i),c.addFilhoOnPosition(i,u),c.renumeraFilhos(),l!==c&&l.renumeraFilhos();const d=n?r:Su(r),p=new tm;return p.setReferencia(ch(jf(d,i))),p.add(yh.ElementoIncluido,xd(i,[]).map((t=>(t.mensagens=eh(t),ch(t))))),p.add(yh.ElementoRemovido,a),p.add(yh.ElementoRenumerado,s.map((t=>ch(t)))),p.add(yh.ElementoMarcado,[ch(i),e.atual]),p.add(yh.ElementoSelecionado,[ch(i)]),{articulacao:t.articulacao,modo:t.modo,past:Uh(t,p.build()),present:p.build(),future:[],ui:{events:p.build(),alertas:null===(o=t.ui)||void 0===o?void 0:o.alertas}}})(t,e);case"Mover para cima":return((t,e)=>{var o;const i=hh(t.articulacao,e.atual,!0);if(void 0===i)return t.ui.events=[],t;if(!Hh(i,mc))return Gh(i,t);const r=pd(i),n=su(i)?Pu(i,(t=>(su(t)||vu(t))&&pd(t)===r)):Ku(i);if(void 0===n||Ad(n)||xu(n))return t;const a=ph(i),s=ku(i).filter((t=>t!==i&&t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ORIGINAL));Mf(i);const l=i.pai;let c=n.pai,u=c.indexOf(n);if(vu(n)){const t=Pu(n,(t=>(su(t)||vu(t))&&pd(t)===r));vu(t)?(c=t,u=0):(c=t.pai,u=c.indexOf(t)+1)}i.pai.removeFilho(i),c.addFilhoOnPosition(i,u),c.renumeraFilhos(),l!==c&&l.renumeraFilhos();const d=Pu(i,(t=>!lu(t)&&!dd(t))),p=new tm;return p.add(yh.ElementoRemovido,a),p.setReferencia(ch(jf(d,i))),p.add(yh.ElementoIncluido,xd(i,[]).map((t=>(t.mensagens=eh(t),ch(t))))),p.add(yh.ElementoRenumerado,s.map((t=>ch(t)))),p.add(yh.ElementoMarcado,[ch(i),e.atual]),p.add(yh.ElementoSelecionado,[ch(i)]),{articulacao:t.articulacao,modo:t.modo,past:Uh(t,p.build()),present:p.build(),future:[],ui:{events:p.build(),alertas:null===(o=t.ui)||void 0===o?void 0:o.alertas}}})(t,e);case"RENUMERAR_ELEMENTO":return((t,e)=>{var o,i,r,n;const a=hh(t.articulacao,e.atual,!0);if(void 0===a)return t.ui.events=[],t;if(!Hh(a,yc))return Bh(t,{tipo:op.INFO,descricao:"Nessa situao, no  possvel renumerar o dispositivo"});if(pd(a)&&(null===(i=Km(a,null===(o=e.novo)||void 0===o?void 0:o.numero))||void 0===i?void 0:i.startsWith("0")))return Bh(t,{tipo:op.INFO,descricao:"No pode haver um dispositivo com esse rtulo em alterao de norma"});const s=Uh(t,Gf(a));try{const t=Km(a,null===(r=e.novo)||void 0===r?void 0:r.numero);a.createNumeroFromRotulo(t),a.id=nh(a),"Artigo"===a.tipo&&(a.caput.id=nh(a.caput))}catch(e){return Bh(t,{tipo:op.ERROR,descricao:"O rtulo informado  invlido",detalhe:e})}a.createRotulo(a);const l=Hf(a);return{articulacao:t.articulacao,modo:t.modo,past:s,present:l.build(),future:t.future,ui:{events:l.build(),alertas:null===(n=t.ui)||void 0===n?void 0:n.alertas}}})(t,e);case"RESTAURAR_ELEMENTO":return((t,e)=>{var o,i,r;const n=hh(t.articulacao,e.atual,!0);if(void 0===n)return t.ui.events=[],t;const a=yd(n).filter((t=>iu(t))).length>0;if(!a&&(null===(o=n.situacao)||void 0===o?void 0:o.descricaoSituacao)!==ou.DISPOSITIVO_MODIFICADO&&(null===(i=n.situacao)||void 0===i?void 0:i.descricaoSituacao)!==ou.DISPOSITIVO_SUPRIMIDO)return t;const s=Xf(n);return{articulacao:t.articulacao,modo:t.modo,past:Uh(t,s),present:s,future:[],ui:{events:s,alertas:null===(r=t.ui)||void 0===r?void 0:r.alertas}}})(t,e);case"SUPRIMIR_AGRUPADOR":return((t,e)=>{var o,i;const r=hh(t.articulacao,e.atual,!0);if(void 0===r||(null===(o=r.situacao)||void 0===o?void 0:o.descricaoSituacao)!==ou.DISPOSITIVO_ORIGINAL)return t.ui.events=[],t;r.situacao=new oh(ch(r));const n=new tm;n.add(yh.ElementoSuprimido,[ch(r)]);const a=n.build();return{articulacao:t.articulacao,modo:t.modo,past:Uh(t,a),present:a,future:[],ui:{events:a,alertas:null===(i=t.ui)||void 0===i?void 0:i.alertas}}})(t,e);case"SUPRIMIR_ELEMENTO":return Qm(t,e);case"ABRIR_ARTICULACAO":return xh(0,e);case"REDO":return Vm(t);case"REMOVER_ELEMENTO":return Bm(t,e);case"REMOVER_ELEMENTO_SEM_TEXTO":return((t,e)=>{var o;const i=hh(t.articulacao,e.atual,!0);if(void 0===i||!Gm(t,i))return t.ui.events=[],t;const r=Vu(i),n=Bm(t,e);return"Backspace"===e.key&&r&&(null===(o=n.ui)||void 0===o||o.events.push(Hm(r))),n})(t,e);case"SHIFT_TAB":case"TAB":return((t,e)=>{const o=hh(t.articulacao,e.atual,!0);if(void 0===o)return t.ui.events=[],t;const i="TAB"===e.type?o.getAcaoPossivelTab(o):o.getAcaoPossivelShiftTab(o);if(!i)return t.ui.events=[],t;const r={type:"TRANSFORMAR_TIPO_ELEMENTO",subType:i.nomeAcao,atual:e.atual,novo:{tipo:i.tipo}};return Nm(t,r)})(t,e);case"UNDO":return Xm(t);case"VALIDAR_ELEMENTO":return((t,e)=>{var o;const i=hh(t.articulacao,e.atual,!0);if(void 0===i)return t.ui.events=[],t;i.mensagens=eh(i);const r=ch(i,!0),n=[{stateType:yh.ElementoValidado,elementos:[r]}];return{articulacao:t.articulacao,modo:t.modo,past:t.past,present:t.present,future:t.future,ui:{events:n,alertas:null===(o=t.ui)||void 0===o?void 0:o.alertas}}})(t,e);case"VALIDAR_ARTICULACAO":return(t=>{var e;const o=[];xd(t.articulacao,[]).forEach((t=>{const e=eh(t);(null==e?void 0:e.length)>0&&(t.mensagens=e,o.push(ch(t)))}));const i=[{stateType:yh.ElementoValidado,elementos:o}];return{articulacao:t.articulacao,modo:t.modo,past:t.past,present:t.present,future:t.future,ui:{events:i,alertas:null===(e=t.ui)||void 0===e?void 0:e.alertas}}})(t);case"ADICIONAR_ALERTA":return((t,e)=>{var o,i,r,n;let a=(null===(o=t.ui)||void 0===o?void 0:o.alertas)||[];return a=(null===(r=null===(i=t.ui)||void 0===i?void 0:i.alertas)||void 0===r?void 0:r.filter((({id:t})=>t===e.alerta.id)).length)>0?[...a]:[...a,e.alerta],{articulacao:t.articulacao,modo:t.modo,past:t.past,present:t.present,future:t.future,ui:{events:[{stateType:yh.AtualizacaoAlertas}],message:null===(n=t.ui)||void 0===n?void 0:n.mensagem,alertas:a}}})(t,e);case"REMOVER_ALERTA":return((t,e)=>{var o,i,r;const n=null===(i=null===(o=t.ui)||void 0===o?void 0:o.alertas)||void 0===i?void 0:i.filter((({id:t})=>t!==e.id));return{articulacao:t.articulacao,modo:t.modo,past:t.past,present:t.present,future:t.future,ui:{events:[{stateType:yh.AtualizacaoAlertas}],message:null===(r=t.ui)||void 0===r?void 0:r.mensagem,alertas:n}}})(t,e);case"LIMPAR_ALERTAS":return(t=>{var e;return{articulacao:t.articulacao,modo:t.modo,past:t.past,present:t.present,future:t.future,ui:{events:[{stateType:yh.AtualizacaoAlertas}],message:null===(e=t.ui)||void 0===e?void 0:e.mensagem,alertas:[]}}})(t);default:return t}}}),yg=function t(e,o,i){var r;if("function"==typeof o&&"function"==typeof i||"function"==typeof i&&"function"==typeof arguments[3])throw new Error("production"===process.env.NODE_ENV?hl(0):"It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function. See https://redux.js.org/tutorials/fundamentals/part-4-store#creating-a-store-with-enhancers for an example.");if("function"==typeof o&&void 0===i&&(i=o,o=void 0),void 0!==i){if("function"!=typeof i)throw new Error("production"===process.env.NODE_ENV?hl(1):"Expected the enhancer to be a function. Instead, received: '"+yl(i)+"'");return i(t)(e,o)}if("function"!=typeof e)throw new Error("production"===process.env.NODE_ENV?hl(2):"Expected the root reducer to be a function. Instead, received: '"+yl(e)+"'");var n=e,a=o,s=[],l=s,c=!1;function u(){l===s&&(l=s.slice())}function d(){if(c)throw new Error("production"===process.env.NODE_ENV?hl(3):"You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return a}function p(t){if("function"!=typeof t)throw new Error("production"===process.env.NODE_ENV?hl(4):"Expected the listener to be a function. Instead, received: '"+yl(t)+"'");if(c)throw new Error("production"===process.env.NODE_ENV?hl(5):"You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api/store#subscribelistener for more details.");var e=!0;return u(),l.push(t),function(){if(e){if(c)throw new Error("production"===process.env.NODE_ENV?hl(6):"You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api/store#subscribelistener for more details.");e=!1,u();var o=l.indexOf(t);l.splice(o,1),s=null}}}function h(t){if(!gl(t))throw new Error("production"===process.env.NODE_ENV?hl(7):"Actions must be plain objects. Instead, the actual type was: '"+yl(t)+"'. You may need to add middleware to your store setup to handle dispatching other values, such as 'redux-thunk' to handle dispatching functions. See https://redux.js.org/tutorials/fundamentals/part-4-store#middleware and https://redux.js.org/tutorials/fundamentals/part-6-async-logic#using-the-redux-thunk-middleware for examples.");if(void 0===t.type)throw new Error("production"===process.env.NODE_ENV?hl(8):'Actions may not have an undefined "type" property. You may have misspelled an action type string constant.');if(c)throw new Error("production"===process.env.NODE_ENV?hl(9):"Reducers may not dispatch actions.");try{c=!0,a=n(a,t)}finally{c=!1}for(var e=s=l,o=0;o<e.length;o++){(0,e[o])()}return t}function f(t){if("function"!=typeof t)throw new Error("production"===process.env.NODE_ENV?hl(10):"Expected the nextReducer to be a function. Instead, received: '"+yl(t));n=t,h({type:vl.REPLACE})}function m(){var t,e=p;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error("production"===process.env.NODE_ENV?hl(11):"Expected the observer to be an object. Instead, received: '"+yl(t)+"'");function o(){t.next&&t.next(d())}return o(),{unsubscribe:e(o)}}})[fl]=function(){return this},t}return h({type:vl.INIT}),(r={dispatch:h,subscribe:p,getState:d,replaceReducer:f})[fl]=m,r}(bg,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());let xg=class extends(pl(yg)(ol)){constructor(){super(),this.elementos=[],this.tabIndex=-1}createRenderRoot(){return this}render(){return Ms`
      <style>
        lexml-eta-editor {
          display: block;
          height: 100%;
        }

        lexml-eta-editor:focus {
          outline: 0;
          border: 0px solid #f1f1f1;
          -webkit-box-shadow: 0px;
          box-shadow: none;
        }
      </style>
      <lexml-eta-editor></lexml-eta-editor>
    `}};ns([al({type:Array})],xg.prototype,"elementos",void 0),xg=ns([rl("lexml-eta-articulacao")],xg);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const _g=2;
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class wg extends class{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,o){this._$Ct=t,this._$AM=e,this._$Ci=o}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}{constructor(t){if(super(t),this.it=js,t.type!==_g)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===js||null==t)return this.ft=void 0,this.it=t;if(t===$s)return t;if("string"!=typeof t)throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.it)return this.ft;this.it=t;const e=[t];return e.raw=e,this.ft={_$litType$:this.constructor.resultType,strings:e,values:[]}}}wg.directiveName="unsafeHTML",wg.resultType=1;const Ag=(t=>(...e)=>({_$litDirective$:t,values:e}))(wg);let Eg=class extends ol{update(t){super.update(t)}buildTemplateComando(t){const e=null==t?void 0:t.reduce(((t,e)=>t+`<p> ${e.cabecalho} </p>`),"");return Ms`${e}`}buildTemplateCitacao(t){return t.replaceAll("<Rotulo>","<b>").replaceAll("</Rotulo>","</b> ").replaceAll("<Alteracao>",'<div class="alteracao">').replaceAll("</Alteracao>","</div> ").replaceAll("<Omissis/>",'<span class="texto__omissis">...............................................</span>')}render(){var t,e;const o=null===(t=this.emenda)||void 0===t?void 0:t.cabecalhoComum,i=null===(e=this.emenda)||void 0===e?void 0:e.comandos;return Ms`
      <style>
        :host {
          --lexml-emenda-comando-height: 100%;
          --lexml-emenda-comando-overflow: hidden;
          --lexml-emenda-comando-border: 1px solid #ccc;
        }
        .lexml-emenda-comando {
          display: block;
          height: var(--lexml-emenda-comando-height);
          overflow: var(--lexml-emenda-comando-overflow);
          overflow-y: auto;
          padding: 0px 10px;
          font-size: 18px;
          font-family: 'Times New Roman', Times, serif;
          text-align: justify;
        }
        .lexml-emenda-comando:focus {
          outline: 0;
          border: 0px solid #f1f1f1;
          -webkit-box-shadow: 0px;
          box-shadow: none;
        }

        .lexml-emenda-cabecalhoComando {
          display: block;
          margin-top: 1em;
          text-indent: 3em;
        }

        .lexml-emenda-citacaoComando {
          display: block;
          margin-top: 1em;
        }

        .lexml-emenda-complementoComando {
          margin-top: 1em;
        }

        .lexml-emenda-citacaoComando p {
          /* text-align: justify; */
          text-indent: 3em;
          margin: 0;
        }

        .lexml-emenda-citacaoComando p.ementa {
          text-indent: 0;
          margin-left: 30%;
        }

        .lexml-emenda-citacaoComando p.agrupador {
          text-indent: 0;
          text-align: center;
        }

        .lexml-emenda-citacaoComando p.secao,
        .lexml-emenda-citacaoComando p.subsecao {
          font-weight: bold;
        }

        .lexml-emenda-citacaoComando div.alteracao {
          margin-left: 4em;
        }

        .lexml-emenda-citacaoComando div.alteracao p {
          text-indent: 2em;
        }
        .mensagem {
          font-size: 0.8em;
          font-weight: normal;
          text-align: left;
          border: 1px solid;
          padding: 4px 10px;
          margin: 10px 0;
          display: inline-block;
          border-radius: 2px;
          font-family: var(--sl-font-sans);
        }
        .mensagem--warning {
          color: #856404;
          background-color: #fff3cd;
          border-color: #ffeeba;
        }
      </style>

      <div class="lexml-emenda-comando">
        ${o?Ag(`<p class="lexml-emenda-cabecalhoComando">${o}</p>`):""}
        ${null==i?void 0:i.map((t=>Ag('<div class="lexml-emenda-cabecalhoComando">'+(t.rotulo?`<strong>${t.rotulo}</strong> `:"")+t.cabecalho+'</div><div class="lexml-emenda-citacaoComando">'+this.buildTemplateCitacao(t.citacao)+"</div>"+(t.complemento?'<div class="lexml-emenda-complementoComando mensagem mensagem--warning">'+t.complemento+"</div>":""))))}
      </div>
    `}};ns([al({type:Object})],Eg.prototype,"emenda",void 0),Eg=ns([rl("lexml-emenda-comando")],Eg);class Og{constructor(t,e){this.callback=t,this.canceled=e}isCanceled(){var t;return null!==(t=this.canceled)&&void 0!==t&&t}cancel(){this.canceled=!0}}class Ig{constructor(){this.subscriptions=[]}subscribe(t){const e=new Og(t);return this.subscriptions.push(e),e}notify(t){this.subscriptions.forEach((e=>{e.isCanceled()||setTimeout((()=>{e.callback(t)}),1)}))}clean(){this.subscriptions=[]}}const Sg="primary",Cg=new Ig;class kg{constructor(){this.mensagens=[],this.nomeDispositivoSingular="",this.nomeDispositivoPlural="",this.isPrimeiroDialogoTipoColagem=!0,this.exibeDialogAviso=!0}}const Ng=t=>{if(t.exibeDialogAviso){t.idDialog="slDialogoAviso",t.labelDialog="Importante!",t.tipoRodape="RODAPE_FECHAR",t.variante=Sg;const e=["Por favor, verifique se o texto e a estrutura de dispositivos colados est de acordo com o esperado. ","Podem ser necessrios ajustes."];t.mensagens=e,Pg(t)}},Tg=(t,e,o,i,r=!0)=>{const n=new kg;n.quill=t,n.rootStore=e,n.infoTextoColado=o,n.range=i,n.nomeDispositivoSingular=tb(Jg.SINGULAR,n.infoTextoColado),n.nomeDispositivoPlural=tb(Jg.PLURAL,n.infoTextoColado),n.isPrimeiroDialogoTipoColagem=r,o.infoElementos.novos.length>1||o.infoElementos.existentes.length>1?(qg(n),n.isPrimeiroDialogoTipoColagem=!1,Ng(n)):((t=>{t.mensagens=["Selecione abaixo o formato com o qual gostaria de colar seu texto."],t.idDialog="slDialogoTipoColagem",t.labelDialog="Antes de prosseguir",t.tipoRodape="RODAPE_CONFIRMAR",t.variante=Sg,Pg(t)})(n),n.isPrimeiroDialogoTipoColagem=!1)},qg=t=>{if(t.infoTextoColado.restricoes.length){const e=t.infoTextoColado.restricoes[0];t.labelDialog=e.titulo||"Operao no permitida",e.isPermitidoColarAdicionando?(t=>{const e=[...t.infoTextoColado.restricoes[0].mensagens,"Voc deseja adicionar "+ob(t.nomeDispositivoSingular)+ib(t.nomeDispositivoSingular)+t.nomeDispositivoPlural+" aps a posio atual?"];t.mensagens=e,t.idDialog="slDialogoAdicionarAposAtual",t.tipoRodape="RODAPE_CONFIRMAR",t.variante=Sg,Pg(t)})(t):(t=>{t.mensagens=t.infoTextoColado.restricoes[0].mensagens,t.idDialog="slDialogoNaoPermitido",t.labelDialog="Operao no permitida",t.tipoRodape="RODAPE_FECHAR",t.variante="danger",t.exibeDialogAviso=!1,Pg(t)})(t),t.exibeDialogAviso=!1}else 0===t.infoTextoColado.restricoes.length&&0===t.infoTextoColado.infoElementos.existentes.length?Fg(t,!1):(t.exibeDialogAviso=!1,(t=>{t.idDialog="slDialogoModificarExistenteAdicionarNovo",t.labelDialog="Ateno, dispositivo j existe no texto",t.tipoRodape="RODAPE_CONFIRMAR",t.variante=Sg;const e=["Voc gostaria de modificar "+ib(t.nomeDispositivoSingular)+t.nomeDispositivoPlural+" existentes ou adicionar novos aps o atual?"];t.mensagens=e,Pg(t)})(t))},Pg=t=>{Array.from(document.querySelectorAll(".dialogo-colagem")).forEach((t=>document.body.removeChild(t)));const e=document.createElement("sl-dialog");e.classList.add("dialogo-colagem"),e.id=t.idDialog,document.body.appendChild(e),e.label=t.labelDialog;const o=document.createRange().createContextualFragment(`\n    <style>\n      .rodape-confirmar {\n        float: right;\n      }\n      .tiposColagem {\n        font-weight: normal;\n      }\n      sl-dialog::part(title) {\n        display: flex;\n        align-items: center;\n        gap: 1rem;\n      }\n    </style>\n      <div class="tiposColagem">\n        ${Vg(t.mensagens)}\n        <br><br>\n        ${Hg(t)}\n        <div class="rodape-confirmar">\n        ${Qg(t)}\n        <div/>\n      </div>\n  `);Mg(o,e,t),$g(o),t.quill.blur(),e.appendChild(o),e.show(),setTimeout((()=>Rg(t)),0),"slDialogoTipoColagem"===t.idDialog&&setTimeout((()=>Dg()),0)},Dg=()=>{document.getElementById("btnConfirmar").focus()},Rg=t=>{const e=document.querySelector("#"+t.idDialog).shadowRoot.querySelector("#title");null==e||e.insertAdjacentHTML("afterbegin",Lg(t))},Lg=t=>"danger"===t.variante?'<svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12 0C9.62663 0 7.30655 0.703788 5.33316 2.02236C3.35977 3.34094 1.8217 5.21508 0.913451 7.4078C0.00519941\n9.60051 -0.232441 12.0133 0.230582 14.3411C0.693605 16.6689 1.83649 18.807 3.51472 20.4853C5.19295 22.1635 7.33115\n23.3064 9.65892 23.7694C11.9867 24.2324 14.3995 23.9948 16.5922 23.0865C18.7849 22.1783 20.6591 20.6402 21.9776\n18.6668C23.2962 16.6934 24 14.3734 24 12C24 10.4241 23.6896 8.8637 23.0866 7.4078C22.4835 5.95189 21.5996 4.62902\n20.4853 3.51472C19.371 2.40041 18.0481 1.5165 16.5922 0.913445C15.1363 0.310389 13.5759 0 12 0ZM12 18C11.7627 18\n11.5307 17.9296 11.3333 17.7978C11.136 17.6659 10.9822 17.4785 10.8913 17.2592C10.8005 17.0399 10.7768 16.7987\n10.8231 16.5659C10.8694 16.3331 10.9837 16.1193 11.1515 15.9515C11.3193 15.7836 11.5331 15.6694 11.7659 15.6231C11.9987\n15.5768 12.24 15.6005 12.4592 15.6913C12.6785 15.7822 12.8659 15.936 12.9978 16.1333C13.1296 16.3307 13.2 16.5627 13.2\n16.8C13.2 17.1183 13.0736 17.4235 12.8485 17.6485C12.6235 17.8736 12.3183 18 12 18ZM13.2 13.2C13.2 13.5183 13.0736 13.8235\n12.8485 14.0485C12.6235 14.2736 12.3183 14.4 12 14.4C11.6817 14.4 11.3765 14.2736 11.1515 14.0485C10.9264 13.8235 10.8\n13.5183 10.8 13.2V7.2C10.8 6.88174 10.9264 6.57651 11.1515 6.35147C11.3765 6.12643 11.6817 6 12 6C12.3183 6 12.6235\n6.12643 12.8485 6.35147C13.0736 6.57651 13.2 6.88174 13.2 7.2V13.2Z" fill="#CA3A31"/>\n</svg>':'<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none">\n<path d="M12 0C9.62663 0 7.30655 0.703788 5.33316 2.02236C3.35977 3.34094 1.8217 5.21508 0.913451 7.4078C0.00519941\n9.60051 -0.232441 12.0133 0.230582 14.3411C0.693605 16.6689 1.83649 18.807 3.51472 20.4853C5.19295 22.1635 7.33115\n23.3064 9.65892 23.7694C11.9867 24.2324 14.3995 23.9948 16.5922 23.0865C18.7849 22.1783 20.6591 20.6402 21.9776\n18.6668C23.2962 16.6934 24 14.3734 24 12C24 10.4241 23.6896 8.8637 23.0866 7.4078C22.4835 5.95189 21.5996 4.62902\n20.4853 3.51472C19.371 2.40042 18.0481 1.5165 16.5922 0.913445C15.1363 0.310389 13.5759 0 12 0V0ZM12 18C11.7627 18\n11.5307 17.9296 11.3333 17.7978C11.136 17.6659 10.9822 17.4785 10.8913 17.2592C10.8005 17.0399 10.7768 16.7987 10.8231\n16.5659C10.8694 16.3331 10.9837 16.1193 11.1515 15.9515C11.3193 15.7836 11.5331 15.6694 11.7659 15.6231C11.9987\n15.5768 12.24 15.6005 12.4592 15.6913C12.6785 15.7822 12.8659 15.936 12.9978 16.1333C13.1296 16.3307 13.2 16.5627\n13.2 16.8C13.2 17.1183 13.0736 17.4235 12.8485 17.6485C12.6235 17.8736 12.3183 18 12 18ZM13.2 13.2C13.2 13.5183 13.0736\n13.8235 12.8485 14.0485C12.6235 14.2736 12.3183 14.4 12 14.4C11.6817 14.4 11.3765 14.2736 11.1515 14.0485C10.9264 13.8235\n10.8 13.5183 10.8 13.2V7.2C10.8 6.88174 10.9264 6.57651 11.1515 6.35147C11.3765 6.12643 11.6817 6 12 6C12.3183 6\n12.6235 6.12643 12.8485 6.35147C13.0736 6.57651 13.2 6.88174 13.2 7.2V13.2Z" fill="#3982C1"/>\n</svg>',Mg=(t,e,o)=>{const i=t.querySelectorAll("sl-button");if(1===i.length){i[0].onclick=()=>{Bg(e,o)}}else if(i.length>1){const t=i[0];i[1].onclick=()=>{Bg(e,o)},t.onclick=()=>{zg(o,e)}}},$g=t=>{const e=t.querySelectorAll("sl-radio");if(e.length>0){const t=e[0],o=e[1];t.onclick=()=>{Yg()},o.onclick=()=>{Yg()}}},jg=t=>document.getElementById(t).querySelector("sl-radio[checked]").value,zg=(t,e)=>{const{idDialog:o}=t;let i="",r=!1;"slDialogoAdicionarAposAtual"===o?i="1"===jg("rdgSimNao")?"1":"":"slDialogoTipoColagem"===o?(i=jg("rdgTipoColagem"),"1"===i?(Ug(t),i=""):"2"===i&&t.isPrimeiroDialogoTipoColagem?(t.isPrimeiroDialogoTipoColagem=!1,i="",Tg(t.quill,t.rootStore,t.infoTextoColado,t.range,!1)):"2"!==i||t.isPrimeiroDialogoTipoColagem||(qg(t),i="")):"slDialogoModificarExistenteAdicionarNovo"===o&&(i=jg("rdgModificarExistenteAdicionarNovo"),r="1"===i),i&&Fg(t,r),Bg(e,t),Ng(t)},Fg=(t,e)=>{const{infoTextoColado:o,rootStore:i}=t;i.dispatch(Kl.execute(o.infoElementos.atual,o.jsonix,void 0,o.infoElementos.atual.dispositivoAlteracao,e,"depois"))},Ug=t=>{const{quill:e,range:o,infoTextoColado:i}=t;e.clipboard.dangerouslyPasteHTML(o.index,i.textoColadoOriginal),Cg.notify("clipboard")},Bg=(t,e)=>{null==t||t.hide(),document.body.contains(t)&&document.body.removeChild(t),setTimeout((()=>e.quill.focus()),0)},Vg=t=>t.join("<br><br>"),Hg=t=>"slDialogoTipoColagem"===t.idDialog?Gg():"slDialogoModificarExistenteAdicionarNovo"===t.idDialog?Kg(t):"slDialogoModificarDispositivosExistentes"===t.idDialog||"slDialogoAdicionarAposAtual"===t.idDialog?Wg():"",Gg=()=>'\n  <sl-radio-group id="rdgTipoColagem">\n    <sl-radio class="tipo-colagem" id="colarSimples" value="1">Colar como texto simples</sl-radio>\n    <sl-radio class="tipo-colagem" id="colarEstruturado" value="2" checked>Colar como dispositivo</sl-radio>\n  </sl-radio-group>\n  ',Kg=t=>'\n  <sl-radio-group id="rdgModificarExistenteAdicionarNovo">\n    <sl-radio id="modificarExistente" value="1">Modificar '+t.nomeDispositivoPlural+' existentes</sl-radio>\n    <sl-radio id="adicionarNovo" value="2">Adicionar nov'+ib(t.nomeDispositivoSingular)+t.nomeDispositivoPlural+"</sl-radio>\n  </sl-radio-group>\n  ",Wg=()=>'\n  <sl-radio-group id="rdgSimNao">\n    <sl-radio id="sim" value="1">Sim</sl-radio>\n    <sl-radio id="nao" value="2">No</sl-radio>\n  </sl-radio-group>\n  ',Qg=t=>"RODAPE_CONFIRMAR"===t.tipoRodape?Zg(t):Xg(),Xg=()=>'\n    <div class="rodape-confirmar">\n      <br/>\n      <sl-button slot="footer" variant="primary">Fechar</sl-button>\n    </div>\n  ',Zg=t=>`\n    <div class="rodape-confirmar" id="rodapeConfirmar">\n      <br/>\n      <sl-button id="btnConfirmar" slot="footer" variant="primary" ${"slDialogoTipoColagem"===t.idDialog?"":"disabled"}>Confirmar</sl-button>\n      <sl-button slot="footer" variant="default">Fechar</sl-button>\n    </div>\n  `,Yg=()=>{document.getElementById("btnConfirmar").disabled=!1,Dg()};var Jg;!function(t){t[t.PLURAL=0]="PLURAL",t[t.SINGULAR=1]="SINGULAR"}(Jg||(Jg={}));const tb=(t,e)=>{if(e.infoElementos.tiposColados.includes("DispositivoAgrupadorGenerico"))return"";const o=e.infoElementos.tiposColados[0].toLowerCase();return t===Jg.PLURAL?Cl[o].descricaoPlural.toLowerCase():Cl[o].descricao.toLowerCase()},eb=t=>["parte","seo","subseo","alnea"].includes(t),ob=t=>eb(t)?"todas ":"todos ",ib=t=>eb(t)?"as ":"os ",rb=Ms`
  <style>
    :root {
      --elemento-padding-factor: 20;
      --eta-font-serif: 'Times New Roman', Times, serif;
    }

    #lx-eta-box {
      display: grid;
      grid-template-columns: 1fr;
      grid-template-rows: 42px calc(100% - 30px);
      height: 100%;
    }

    /* #lx-eta-box .ql-toolbar.ql-snow {
      border: 1px solid #ccc;
      box-sizing: border-box;
      padding: 3px 10px 3px 10px;
    } */

    .ql-toolbar.ql-snow {
      border: 1px solid #ccc;
      box-sizing: border-box;
      font-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
      /* padding: 8px; */
    }
    #lx-eta-box .ql-snow.ql-toolbar button,
    .ql-snow .ql-toolbar button {
      /* height: 20px !important;
      padding: 0px !important;
      width: 24px !important;
      margin: 0px !important; */
      background: none;
      border: none;
      cursor: pointer;
      display: inline-block;
      float: left;
      height: 24px;
      padding: 3px 5px;
      width: 28px;
    }

    #lx-eta-barra-ferramenta button:focus {
      outline: 0;
      border: 0px solid #f1f1f1;
      -webkit-box-shadow: 0px;
      box-shadow: none;
    }

    #lx-eta-barra-ferramenta .lx-eta-ql-button {
      font-size: 1.1em;
      color: #444444;
    }

    .lx-eta-rebate-180-graus {
      -moz-transform: scaleX(-1);
      -o-transform: scaleX(-1);
      -webkit-transform: scaleX(-1);
      transform: scaleX(-1);
    }

    #lx-eta-editor {
      overflow-y: auto;
    }

    #lx-eta-editor .ql-editor {
      /* font-family: sans-serif, 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
        'Noto Color Emoji'; */
      font-family: var(--eta-font-serif);
      font-size: 18px;
      line-height: 1.42;
      color: #646260;
      text-transform: none !important;
      padding: 0 10px 0 8px;
      min-height: 250px;
      overflow-x: hidden;
    }

    #lx-eta-editor .ql-editor *:focus {
      outline: 0;
      border: 0px solid #f1f1f1;
      -webkit-box-shadow: 0px;
      box-shadow: none;
    }

    #lx-eta-editor .ql-editor label:before {
      /* content: attr(data-rotulo) ' '; */
    }

    #toast-msg {
      padding: 1em;
      font-size: 1.1em;
    }

    .lx-eta-dropbtn {
      background-color: transparent;
      color: #444444;
      width: 26px;
      font-weight: bold;
      vertical-align: middle;
      border: none;
      cursor: pointer;
      text-align: center;
    }

    .container__menu sl-button::part(base) {
      position: absolute;
      margin: -13px 0 0 -15px;
      background-color: #e1e1e1;
      line-height: 20px;
      height: 23px;
      color: black;
      font-weight: bold;
      font-size: 15px;
    }

    .container__menu sl-menu-item::part(suffix) {
      font-size: 14px;
      padding-left: 20px;
    }

    .container__menu sl-menu-item:hover .lx-eta-dropbtn {
      background-color: #e1e1e1;
    }

    .lx-eta-btn-desfazer {
      margin-left: 10px !important;
    }

    .icon-undo-redo {
      width: 19px;
      height: 16px !important;
    }

    .icon-undo-redo:hover {
      fill: #0066cc;
    }

    .icon-negrito {
      fill: #444;
    }

    .icon-negrito:hover {
      fill: #0066cc;
    }

    .icon-sublinhado {
      fill: #444;
    }

    .icon-sublinhado:hover {
      fill: #0066cc;
    }

    .lx-eta-dropdown-content-right {
      right: 0;
    }

    .ql-snow .ql-hidden {
      display: none;
    }

    .ql-snow .ql-tooltip::before {
      content: 'Acesse a norma:';
    }

    .ql-snow .ql-tooltip a.ql-action::after {
      display: none;
    }

    .ql-snow .ql-tooltip a.ql-remove::before {
      display: none;
    }

    .ql-snow .ql-tooltip a.ql-preview {
      max-width: 300px;
    }

    .btn--artigoOndeCouber {
    }

    .container__linha {
      display: flex;
      width: 100%;
    }

    .container__linha--reverse {
      flex-direction: row-reverse;
    }

    .container__texto {
      flex: 1;
      white-space: pre-wrap;
    }

    .container_elemento--omissis .container__texto {
      display: flex;
      flex-direction: row;
      align-items: flex-start;
    }

    .container_elemento--omissis .container__texto--mensagem {
      flex: 1;
      display: inline-block;
    }

    .container_elemento--omissis .texto__rotulo {
      box-sizing: border-box;
      display: flex;
      flex-direction: row;
      align-items: flex-start;
      flex: none;
      order: 0;
      flex-grow: 0;
    }

    .container_elemento--omissis .texto__dispositivo {
      display: flex;
      flex-direction: row;
      align-items: flex-start;
      padding: 0px;
      flex-grow: 1;
    }

    .container_elemento--omissis .texto__omissis {
      display: -webkit-box;
      -webkit-line-clamp: 1;
      -webkit-box-orient: vertical;
      overflow: hidden;
      flex-grow: 1;
      width: 50px;
      white-space: nowrap;
    }

    .elemento-tipo-capitulo .texto__dispositivo,
    .elemento-tipo-titulo .texto__dispositivo,
    .elemento-tipo-livro .texto__dispositivo,
    .elemento-tipo-parte .texto__dispositivo {
      text-transform: uppercase;
    }

    .elemento-tipo-secao .texto__dispositivo,
    .elemento-tipo-subsecao .texto__dispositivo {
      font-weight: bold;
    }

    .container__menu {
      width: 30px;
      vertical-align: top;
      text-align: center;
    }

    .container__elemento--padrao {
      width: 100%;
      min-height: 26px;
      border: 3px solid #ffffff;
      line-height: 1.42;
      margin: 0;
      padding: 0 5px 0 0;
    }

    .container__elemento--articulacao {
      width: 100%;
      min-height: 1px;
      line-height: 0.42;
      margin: 1px;
    }

    .agrupador {
      text-align: center;
    }

    label[pode-informar-numeracao='true'] {
      cursor: pointer;
      /* border-bottom: 1px dashed; */
      -webkit-box-shadow: 0px -1px 0px green inset;
      -moz-box-shadow: 0px -1px 0px green inset;
      box-shadow: 0px -1px 0px green inset;
    }

    /* [existenanormaalterada] label:after, */
    .existencia {
      font-family: var(--sl-font-sans);
      position: relative;
      left: 5px;
      top: -1px;
      margin-right: 5px;
      border: 1px solid green;
      padding: 0 4px;
      font-weight: normal;
      -webkit-border-radius: 4px;
      -moz-border-radius: 4px;
      border-radius: 4px;
      font-size: 12px;
    }

    .existencia {
      margin-left: -10px;
      margin-right: 15px;
    }

    .existencia:hover {
      cursor: pointer;
    }

    /* [existenanormaalterada='true'] label:after {
      content: 'Existente';
    }

    [existenanormaalterada='false'] label:after {
      content: 'Novo';
    } */

    .texto__rotulo {
      color: black;
      font-weight: 600;
    }

    .texto__rotulo--padrao {
      display: inline-block;
      padding-right: 10px; /* Manter padding em vez de margin para evitar problema de layout ao apagar todo o texto do dispositivo.
        Fica um sublinhado a mais, mas  melhor que a alternativa.
      */
    }

    .texto__rotulo--omissis,
    .tipo-omissis {
      font-family: var(--sl-font-sans);
      box-shadow: none;
    }

    .texto__rotulo--omissis:before,
    .tipo-omissis {
      position: relative;
      left: 0;
      top: -1px;
      margin-right: 5px;
      border: 1px solid green;
      padding: 0 4px;
      font-weight: normal;
      -webkit-border-radius: 4px;
      -moz-border-radius: 4px;
      border-radius: 4px;
      font-size: 12px;
      white-space: nowrap;
    }

    .agrupador .blot-tipo-omissis {
      display: block;
    }

    /* .container__texto[tipo-omissis='inciso-caput'] .texto__rotulo--omissis:before {
      content: ' Incisos omitidos ';
    }

    .container__texto[tipo-omissis='inciso-paragrafo'] .texto__rotulo--omissis:before {
      content: ' Incisos omitidos ';
    }

    .container__texto[tipo-omissis='paragrafo'] .texto__rotulo--omissis:before {
      content: ' Pargrafos omitidos ';
    }

    .container__texto[tipo-omissis='alinea'] .texto__rotulo--omissis:before {
      content: ' Alneas omitidas ';
    }

    .container__texto[tipo-omissis='item'] .texto__rotulo--omissis:before {
      content: ' Itens omitidos ';
    } */

    .Omissis {
      word-break: break-all;
      word-break: break-word;
      -webkit-hyphens: auto;
      -moz-hyphens: auto;
      -ms-hyphens: auto;
      hyphens: auto;
    }

    .agrupador .existencia {
      margin-left: 0;
      margin-right: 0;
    }

    .dispositivo--adicionado {
      color: green;
    }

    .dispositivo--modificado {
      color: blue;
    }

    .dispositivo--suprimido {
      color: red;
    }

    .dispositivo--suprimido .texto__dispositivo {
      text-decoration: line-through;
    }

    /* .texto--suprimido {
      text-decoration: line-through;
    } */

    .ementa {
      margin-bottom: 30px;
    }

    .ementa .container__texto {
      margin-left: 35%;
    }

    .texto__rotulo--ementa {
      display: none;
    }

    .container__elemento--ativo {
      border: 3px solid #24d421;
      border-radius: 4px;
    }

    .mensagem {
      font-family: var(--sl-font-sans);
      font-size: 0.8em;
      font-weight: normal;
      border: 1px solid;
      padding: 4px 10px;
      margin: 2px;
      display: inline-block;
      border-radius: 2px;
    }

    .mensagem--success {
      color: #155724;
      background-color: #d4edda;
      border-color: #c3e6cb;
    }

    .mensagem--info {
      color: #0c5460;
      background-color: #d1ecf1;
      border-color: #bee5eb;
    }

    .mensagem--warning {
      color: #856404;
      background-color: #fff3cd;
      border-color: #ffeeba;
    }

    .mensagem--danger {
      color: #721c24;
      background-color: #f8d7da;
      border-color: #f5c6cb;
    }
    .mensagem__fix {
      color: blue;
      text-decoration: underline;
      cursor: pointer;
    }

    #lx-eta-buffer {
      display: none;
      height: 0px;
    }

    /* [fecha-aspas]::after {
      content: ' (' attr(nota-alteracao) ')';
      font-weight: bold;
    }

    [abre-aspas]::before {
      content: '';
      font-weight: bold;
    } */

    .nota-alteracao,
    .abre-aspas,
    .fecha-aspas {
      font-weight: bold;
    }

    .nota-alteracao-editavel {
      text-decoration: underline;
      cursor: pointer;
    }

    .texto__dispositivo {
      display: inline;
      /* background-color: lightblue; */
    }

    @-moz-document url-prefix() {
      .agrupador .texto__dispositivo {
        display: inline-block;
        min-height: 1rem;
      }
    }

    .blot-existencia br,
    .blot-tipo-omissis br,
    .agrupador.dispositivo-alteracao p[fecha-aspas] br,
    .h-artigo br {
      display: inline; /* faz o BR no pular linha em texto__dispositivo vazio */
      content: ''; /* descola cursor do rtulo e remove quebra de linha quando "(NR) */
    }

    .mobile-buttons {
      float: right;
      /* margin-right: 30px; */
      width: auto !important;
      display: none !important;
    }

    .mobile-button {
      margin-right: 2px;
      width: auto !important;
    }

    .mobile-button sl-icon {
      font-size: 18px;
    }

    .mobile-button span {
      vertical-align: 4px;
    }

    @media (max-width: 768px) {
      .mobile-buttons {
        display: inline-block !important;
      }
    }

    @media (max-width: 480px) {
      .mobile-button span {
        display: none;
      }
      .mobile-button:last-child {
        display: none !important;
      }
    }
  </style>
`,nb=Ms`
  <style>
    /*!
    * Quill Editor v1.3.7
    * https://quilljs.com/
    * Copyright (c) 2014, Jason Chen
    * Copyright (c) 2013, salesforce.com
    */
    .ql-container {
      box-sizing: border-box;
      /* font-family: Helvetica, Arial, sans-serif; */
      font-family: var(--eta-font-serif);
      font-size: 13px;
      height: 100%;
      margin: 0px;
      position: relative;
    }
    .ql-container.ql-disabled .ql-tooltip {
      visibility: hidden;
    }
    .ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {
      pointer-events: none;
    }
    .ql-clipboard {
      left: -100000px;
      height: 1px;
      overflow-y: hidden;
      position: absolute;
      top: 50%;
    }
    .ql-clipboard p {
      margin: 0;
      padding: 0;
    }
    .ql-editor {
      box-sizing: border-box;
      line-height: 1.42;
      height: 100%;
      outline: none;
      overflow-y: auto;
      padding: 12px 15px;
      tab-size: 4;
      -moz-tab-size: 4;
      text-align: left;
      /* white-space: pre-wrap; */
      word-wrap: break-word;
    }
    .ql-editor > * {
      cursor: text;
    }
    .ql-editor p,
    .ql-editor ol,
    .ql-editor ul,
    .ql-editor pre,
    .ql-editor blockquote,
    .ql-editor h1,
    .ql-editor h2,
    .ql-editor h3,
    .ql-editor h4,
    .ql-editor h5,
    .ql-editor h6 {
      margin: 0;
      padding: 0;
      counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
    }
    .ql-editor p {
      line-height: 1.42;
      font-size: 18px;
    }
    .ql-editor ol,
    .ql-editor ul {
      padding-left: 1.5em;
    }
    .ql-editor ol > li,
    .ql-editor ul > li {
      list-style-type: none;
    }
    .ql-editor ul > li::before {
      content: '\\2022';
    }
    .ql-editor ul[data-checked='true'],
    .ql-editor ul[data-checked='false'] {
      pointer-events: none;
    }
    .ql-editor ul[data-checked='true'] > li *,
    .ql-editor ul[data-checked='false'] > li * {
      pointer-events: all;
    }
    .ql-editor ul[data-checked='true'] > li::before,
    .ql-editor ul[data-checked='false'] > li::before {
      color: #777;
      cursor: pointer;
      pointer-events: all;
    }
    .ql-editor ul[data-checked='true'] > li::before {
      content: '\\2611';
    }
    .ql-editor ul[data-checked='false'] > li::before {
      content: '\\2610';
    }
    .ql-editor li::before {
      display: inline-block;
      white-space: nowrap;
      width: 1.2em;
    }
    .ql-editor li:not(.ql-direction-rtl)::before {
      margin-left: -1.5em;
      margin-right: 0.3em;
      text-align: right;
    }
    .ql-editor li.ql-direction-rtl::before {
      margin-left: 0.3em;
      margin-right: -1.5em;
    }
    .ql-editor ol li:not(.ql-direction-rtl),
    .ql-editor ul li:not(.ql-direction-rtl) {
      padding-left: 1.5em;
    }
    .ql-editor ol li.ql-direction-rtl,
    .ql-editor ul li.ql-direction-rtl {
      padding-right: 1.5em;
    }
    .ql-editor ol li {
      counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
      counter-increment: list-0;
    }
    .ql-editor ol li:before {
      content: counter(list-0, decimal) '. ';
    }
    .ql-editor ol li.ql-indent-1 {
      counter-increment: list-1;
    }
    .ql-editor ol li.ql-indent-1:before {
      content: counter(list-1, lower-alpha) '. ';
    }
    .ql-editor ol li.ql-indent-1 {
      counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
    }
    .ql-editor ol li.ql-indent-2 {
      counter-increment: list-2;
    }
    .ql-editor ol li.ql-indent-2:before {
      content: counter(list-2, lower-roman) '. ';
    }
    .ql-editor ol li.ql-indent-2 {
      counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;
    }
    .ql-editor ol li.ql-indent-3 {
      counter-increment: list-3;
    }
    .ql-editor ol li.ql-indent-3:before {
      content: counter(list-3, decimal) '. ';
    }
    .ql-editor ol li.ql-indent-3 {
      counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;
    }
    .ql-editor ol li.ql-indent-4 {
      counter-increment: list-4;
    }
    .ql-editor ol li.ql-indent-4:before {
      content: counter(list-4, lower-alpha) '. ';
    }
    .ql-editor ol li.ql-indent-4 {
      counter-reset: list-5 list-6 list-7 list-8 list-9;
    }
    .ql-editor ol li.ql-indent-5 {
      counter-increment: list-5;
    }
    .ql-editor ol li.ql-indent-5:before {
      content: counter(list-5, lower-roman) '. ';
    }
    .ql-editor ol li.ql-indent-5 {
      counter-reset: list-6 list-7 list-8 list-9;
    }
    .ql-editor ol li.ql-indent-6 {
      counter-increment: list-6;
    }
    .ql-editor ol li.ql-indent-6:before {
      content: counter(list-6, decimal) '. ';
    }
    .ql-editor ol li.ql-indent-6 {
      counter-reset: list-7 list-8 list-9;
    }
    .ql-editor ol li.ql-indent-7 {
      counter-increment: list-7;
    }
    .ql-editor ol li.ql-indent-7:before {
      content: counter(list-7, lower-alpha) '. ';
    }
    .ql-editor ol li.ql-indent-7 {
      counter-reset: list-8 list-9;
    }
    .ql-editor ol li.ql-indent-8 {
      counter-increment: list-8;
    }
    .ql-editor ol li.ql-indent-8:before {
      content: counter(list-8, lower-roman) '. ';
    }
    .ql-editor ol li.ql-indent-8 {
      counter-reset: list-9;
    }
    .ql-editor ol li.ql-indent-9 {
      counter-increment: list-9;
    }
    .ql-editor ol li.ql-indent-9:before {
      content: counter(list-9, decimal) '. ';
    }
    .ql-editor .ql-indent-1:not(.ql-direction-rtl) {
      text-indent: 6em;
      padding-left: 3em;
    }
    .ql-editor li.ql-indent-1:not(.ql-direction-rtl) {
      padding-left: 4.5em;
    }
    .ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right {
      padding-right: 3em;
    }
    .ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right {
      padding-right: 4.5em;
    }
    .ql-editor .ql-indent-2:not(.ql-direction-rtl) {
      padding-left: 6em;
    }
    .ql-editor li.ql-indent-2:not(.ql-direction-rtl) {
      padding-left: 7.5em;
    }
    .ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right {
      padding-right: 6em;
    }
    .ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right {
      padding-right: 7.5em;
    }
    .ql-editor .ql-indent-3:not(.ql-direction-rtl) {
      padding-left: 9em;
    }
    .ql-editor li.ql-indent-3:not(.ql-direction-rtl) {
      padding-left: 10.5em;
    }
    .ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right {
      padding-right: 9em;
    }
    .ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right {
      padding-right: 10.5em;
    }
    .ql-editor .ql-indent-4:not(.ql-direction-rtl) {
      padding-left: 12em;
    }
    .ql-editor li.ql-indent-4:not(.ql-direction-rtl) {
      padding-left: 13.5em;
    }
    .ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right {
      padding-right: 12em;
    }
    .ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right {
      padding-right: 13.5em;
    }
    .ql-editor .ql-indent-5:not(.ql-direction-rtl) {
      padding-left: 15em;
    }
    .ql-editor li.ql-indent-5:not(.ql-direction-rtl) {
      padding-left: 16.5em;
    }
    .ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right {
      padding-right: 15em;
    }
    .ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right {
      padding-right: 16.5em;
    }
    .ql-editor .ql-indent-6:not(.ql-direction-rtl) {
      padding-left: 18em;
    }
    .ql-editor li.ql-indent-6:not(.ql-direction-rtl) {
      padding-left: 19.5em;
    }
    .ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right {
      padding-right: 18em;
    }
    .ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right {
      padding-right: 19.5em;
    }
    .ql-editor .ql-indent-7:not(.ql-direction-rtl) {
      padding-left: 21em;
    }
    .ql-editor li.ql-indent-7:not(.ql-direction-rtl) {
      padding-left: 22.5em;
    }
    .ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right {
      padding-right: 21em;
    }
    .ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right {
      padding-right: 22.5em;
    }
    .ql-editor .ql-indent-8:not(.ql-direction-rtl) {
      padding-left: 24em;
    }
    .ql-editor li.ql-indent-8:not(.ql-direction-rtl) {
      padding-left: 25.5em;
    }
    .ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right {
      padding-right: 24em;
    }
    .ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right {
      padding-right: 25.5em;
    }
    .ql-editor .ql-indent-9:not(.ql-direction-rtl) {
      padding-left: 27em;
    }
    .ql-editor li.ql-indent-9:not(.ql-direction-rtl) {
      padding-left: 28.5em;
    }
    .ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right {
      padding-right: 27em;
    }
    .ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right {
      padding-right: 28.5em;
    }
    .ql-editor .ql-video {
      display: block;
      max-width: 100%;
    }
    .ql-editor .ql-video.ql-align-center {
      margin: 0 auto;
    }
    .ql-editor .ql-video.ql-align-right {
      margin: 0 0 0 auto;
    }
    .ql-editor .ql-bg-black {
      background-color: #000;
    }
    .ql-editor .ql-bg-red {
      background-color: #e60000;
    }
    .ql-editor .ql-bg-orange {
      background-color: #f90;
    }
    .ql-editor .ql-bg-yellow {
      background-color: #ff0;
    }
    .ql-editor .ql-bg-green {
      background-color: #008a00;
    }
    .ql-editor .ql-bg-blue {
      background-color: #06c;
    }
    .ql-editor .ql-bg-purple {
      background-color: #93f;
    }
    .ql-editor .ql-color-white {
      color: #fff;
    }
    .ql-editor .ql-color-red {
      color: #e60000;
    }
    .ql-editor .ql-color-orange {
      color: #f90;
    }
    .ql-editor .ql-color-yellow {
      color: #ff0;
    }
    .ql-editor .ql-color-green {
      color: #008a00;
    }
    .ql-editor .ql-color-blue {
      color: #06c;
    }
    .ql-editor .ql-color-purple {
      color: #93f;
    }
    .ql-editor .ql-font-serif {
      font-family: Georgia, Times New Roman, serif;
    }
    .ql-editor .ql-font-monospace {
      font-family: Monaco, Courier New, monospace;
    }
    .ql-editor .ql-size-small {
      font-size: 0.75em;
    }
    .ql-editor .ql-size-large {
      font-size: 1.5em;
    }
    .ql-editor .ql-size-huge {
      font-size: 2.5em;
    }
    .ql-editor .ql-direction-rtl {
      direction: rtl;
      text-align: inherit;
    }
    .ql-editor .ql-align-center {
      text-align: center;
    }
    .ql-editor .ql-align-justify {
      text-align: justify;
    }
    .ql-editor .ql-align-right {
      text-align: right;
    }
    .ql-editor.ql-blank::before {
      color: rgba(0, 0, 0, 0.6);
      content: attr(data-placeholder);
      font-style: italic;
      left: 15px;
      pointer-events: none;
      position: absolute;
      right: 15px;
    }
    .ql-snow.ql-toolbar:after,
    .ql-snow .ql-toolbar:after {
      clear: both;
      content: '';
      display: table;
    }
    .ql-snow.ql-toolbar button,
    .ql-snow .ql-toolbar button {
      background: none;
      border: none;
      cursor: pointer;
      display: inline-block;
      float: left;
      height: 24px;
      padding: 3px 5px;
      width: 28px;
    }
    .ql-snow.ql-toolbar button svg,
    .ql-snow .ql-toolbar button svg {
      float: left;
      height: 100%;
    }
    .ql-snow.ql-toolbar button:active:hover,
    .ql-snow .ql-toolbar button:active:hover {
      outline: none;
    }
    .ql-snow.ql-toolbar input.ql-image[type='file'],
    .ql-snow .ql-toolbar input.ql-image[type='file'] {
      display: none;
    }
    .ql-snow.ql-toolbar button:hover,
    .ql-snow .ql-toolbar button:hover,
    .ql-snow.ql-toolbar button:focus,
    .ql-snow .ql-toolbar button:focus,
    .ql-snow.ql-toolbar button.ql-active,
    .ql-snow .ql-toolbar button.ql-active,
    .ql-snow.ql-toolbar .ql-picker-label:hover,
    .ql-snow .ql-toolbar .ql-picker-label:hover,
    .ql-snow.ql-toolbar .ql-picker-label.ql-active,
    .ql-snow .ql-toolbar .ql-picker-label.ql-active,
    .ql-snow.ql-toolbar .ql-picker-item:hover,
    .ql-snow .ql-toolbar .ql-picker-item:hover,
    .ql-snow.ql-toolbar .ql-picker-item.ql-selected,
    .ql-snow .ql-toolbar .ql-picker-item.ql-selected {
      color: #06c;
    }
    .ql-snow.ql-toolbar button:hover .ql-fill,
    .ql-snow .ql-toolbar button:hover .ql-fill,
    .ql-snow.ql-toolbar button:focus .ql-fill,
    .ql-snow .ql-toolbar button:focus .ql-fill,
    .ql-snow.ql-toolbar button.ql-active .ql-fill,
    .ql-snow .ql-toolbar button.ql-active .ql-fill,
    .ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,
    .ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,
    .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,
    .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,
    .ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,
    .ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,
    .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,
    .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,
    .ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,
    .ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,
    .ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,
    .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
    .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
    .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
    .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,
    .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill {
      fill: #06c;
    }
    .ql-snow.ql-toolbar button:hover .ql-stroke,
    .ql-snow .ql-toolbar button:hover .ql-stroke,
    .ql-snow.ql-toolbar button:focus .ql-stroke,
    .ql-snow .ql-toolbar button:focus .ql-stroke,
    .ql-snow.ql-toolbar button.ql-active .ql-stroke,
    .ql-snow .ql-toolbar button.ql-active .ql-stroke,
    .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,
    .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,
    .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,
    .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,
    .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,
    .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,
    .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
    .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
    .ql-snow.ql-toolbar button:hover .ql-stroke-miter,
    .ql-snow .ql-toolbar button:hover .ql-stroke-miter,
    .ql-snow.ql-toolbar button:focus .ql-stroke-miter,
    .ql-snow .ql-toolbar button:focus .ql-stroke-miter,
    .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,
    .ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,
    .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
    .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
    .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
    .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
    .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
    .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
    .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,
    .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter {
      stroke: #06c;
    }
    @media (pointer: coarse) {
      .ql-snow.ql-toolbar button:hover:not(.ql-active),
      .ql-snow .ql-toolbar button:hover:not(.ql-active) {
        color: #444;
      }
      .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,
      .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,
      .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,
      .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill {
        fill: #444;
      }
      .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,
      .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,
      .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,
      .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter {
        stroke: #444;
      }
    }
    .ql-snow {
      box-sizing: border-box;
    }
    .ql-snow * {
      box-sizing: border-box;
    }
    .ql-snow .ql-hidden {
      display: none;
    }
    .ql-snow .ql-out-bottom,
    .ql-snow .ql-out-top {
      visibility: hidden;
    }
    .ql-snow .ql-tooltip {
      position: absolute;
      transform: translateY(10px);
    }
    .ql-snow .ql-tooltip a {
      cursor: pointer;
      text-decoration: none;
    }
    .ql-snow .ql-tooltip.ql-flip {
      transform: translateY(-10px);
    }
    .ql-snow .ql-formats {
      display: inline-block;
      vertical-align: middle;
    }
    .ql-snow .ql-formats:after {
      clear: both;
      content: '';
      display: table;
    }
    .ql-snow .ql-stroke {
      fill: none;
      stroke: #444;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-width: 2;
    }
    .ql-snow .ql-stroke-miter {
      fill: none;
      stroke: #444;
      stroke-miterlimit: 10;
      stroke-width: 2;
    }
    .ql-snow .ql-fill,
    .ql-snow .ql-stroke.ql-fill {
      fill: #444;
    }
    .ql-snow .ql-empty {
      fill: none;
    }
    .ql-snow .ql-even {
      fill-rule: evenodd;
    }
    .ql-snow .ql-thin,
    .ql-snow .ql-stroke.ql-thin {
      stroke-width: 1;
    }
    .ql-snow .ql-transparent {
      opacity: 0.4;
    }
    .ql-snow .ql-direction svg:last-child {
      display: none;
    }
    .ql-snow .ql-direction.ql-active svg:last-child {
      display: inline;
    }
    .ql-snow .ql-direction.ql-active svg:first-child {
      display: none;
    }
    .ql-snow .ql-editor h1 {
      font-size: 2em;
    }
    .ql-snow .ql-editor h2 {
      font-size: 1.5em;
    }
    .ql-snow .ql-editor h3 {
      font-size: 1.17em;
    }
    .ql-snow .ql-editor h4 {
      font-size: 1em;
    }
    .ql-snow .ql-editor h5 {
      font-size: 0.83em;
    }
    .ql-snow .ql-editor h6 {
      font-size: 0.67em;
    }
    .ql-snow .ql-editor a {
      text-decoration: underline;
    }
    .ql-snow .ql-editor blockquote {
      border-left: 4px solid #ccc;
      margin-bottom: 5px;
      margin-top: 5px;
      padding-left: 16px;
    }
    .ql-snow .ql-editor code,
    .ql-snow .ql-editor pre {
      background-color: #f0f0f0;
      border-radius: 3px;
    }
    .ql-snow .ql-editor pre {
      white-space: pre-wrap;
      margin-bottom: 5px;
      margin-top: 5px;
      padding: 5px 10px;
    }
    .ql-snow .ql-editor code {
      font-size: 85%;
      padding: 2px 4px;
    }
    .ql-snow .ql-editor pre.ql-syntax {
      background-color: #23241f;
      color: #f8f8f2;
      overflow: visible;
    }
    .ql-snow .ql-editor img {
      max-width: 100%;
    }
    .ql-snow .ql-picker {
      color: #444;
      display: inline-block;
      float: left;
      font-size: 14px;
      font-weight: 500;
      height: 24px;
      position: relative;
      vertical-align: middle;
    }
    .ql-snow .ql-picker-label {
      cursor: pointer;
      display: inline-block;
      height: 100%;
      padding-left: 8px;
      padding-right: 2px;
      position: relative;
      width: 100%;
    }
    .ql-snow .ql-picker-label::before {
      display: inline-block;
      line-height: 22px;
    }
    .ql-snow .ql-picker-options {
      background-color: #fff;
      display: none;
      min-width: 100%;
      padding: 4px 8px;
      position: absolute;
      white-space: nowrap;
    }
    .ql-snow .ql-picker-options .ql-picker-item {
      cursor: pointer;
      display: block;
      padding-bottom: 5px;
      padding-top: 5px;
    }
    .ql-snow .ql-picker.ql-expanded .ql-picker-label {
      color: #ccc;
      z-index: 2;
    }
    .ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill {
      fill: #ccc;
    }
    .ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke {
      stroke: #ccc;
    }
    .ql-snow .ql-picker.ql-expanded .ql-picker-options {
      display: block;
      margin-top: -1px;
      top: 100%;
      z-index: 1;
    }
    .ql-snow .ql-color-picker,
    .ql-snow .ql-icon-picker {
      width: 28px;
    }
    .ql-snow .ql-color-picker .ql-picker-label,
    .ql-snow .ql-icon-picker .ql-picker-label {
      padding: 2px 4px;
    }
    .ql-snow .ql-color-picker .ql-picker-label svg,
    .ql-snow .ql-icon-picker .ql-picker-label svg {
      right: 4px;
    }
    .ql-snow .ql-icon-picker .ql-picker-options {
      padding: 4px 0px;
    }
    .ql-snow .ql-icon-picker .ql-picker-item {
      height: 24px;
      width: 24px;
      padding: 2px 4px;
    }
    .ql-snow .ql-color-picker .ql-picker-options {
      padding: 3px 5px;
      width: 152px;
    }
    .ql-snow .ql-color-picker .ql-picker-item {
      border: 1px solid transparent;
      float: left;
      height: 16px;
      margin: 2px;
      padding: 0px;
      width: 16px;
    }
    .ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg {
      position: absolute;
      margin-top: -9px;
      right: 0;
      top: 50%;
      width: 18px;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,
    .ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,
    .ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,
    .ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before {
      content: attr(data-label);
    }
    .ql-snow .ql-picker.ql-header {
      width: 98px;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item::before {
      content: 'Normal';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-value='1']::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='1']::before {
      content: 'Heading 1';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-value='2']::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='2']::before {
      content: 'Heading 2';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-value='3']::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='3']::before {
      content: 'Heading 3';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-value='4']::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='4']::before {
      content: 'Heading 4';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-value='5']::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='5']::before {
      content: 'Heading 5';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-label[data-value='6']::before,
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='6']::before {
      content: 'Heading 6';
    }
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='1']::before {
      font-size: 2em;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='2']::before {
      font-size: 1.5em;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='3']::before {
      font-size: 1.17em;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='4']::before {
      font-size: 1em;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='5']::before {
      font-size: 0.83em;
    }
    .ql-snow .ql-picker.ql-header .ql-picker-item[data-value='6']::before {
      font-size: 0.67em;
    }
    .ql-snow .ql-picker.ql-font {
      width: 108px;
    }
    .ql-snow .ql-picker.ql-font .ql-picker-label::before,
    .ql-snow .ql-picker.ql-font .ql-picker-item::before {
      content: 'Sans Serif';
    }
    .ql-snow .ql-picker.ql-font .ql-picker-label[data-value='serif']::before,
    .ql-snow .ql-picker.ql-font .ql-picker-item[data-value='serif']::before {
      content: 'Serif';
    }
    .ql-snow .ql-picker.ql-font .ql-picker-label[data-value='monospace']::before,
    .ql-snow .ql-picker.ql-font .ql-picker-item[data-value='monospace']::before {
      content: 'Monospace';
    }
    .ql-snow .ql-picker.ql-font .ql-picker-item[data-value='serif']::before {
      font-family: Georgia, Times New Roman, serif;
    }
    .ql-snow .ql-picker.ql-font .ql-picker-item[data-value='monospace']::before {
      font-family: Monaco, Courier New, monospace;
    }
    .ql-snow .ql-picker.ql-size {
      width: 98px;
    }
    .ql-snow .ql-picker.ql-size .ql-picker-label::before,
    .ql-snow .ql-picker.ql-size .ql-picker-item::before {
      content: 'Normal';
    }
    .ql-snow .ql-picker.ql-size .ql-picker-label[data-value='small']::before,
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='small']::before {
      content: 'Small';
    }
    .ql-snow .ql-picker.ql-size .ql-picker-label[data-value='large']::before,
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='large']::before {
      content: 'Large';
    }
    .ql-snow .ql-picker.ql-size .ql-picker-label[data-value='huge']::before,
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='huge']::before {
      content: 'Huge';
    }
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='small']::before {
      font-size: 10px;
    }
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='large']::before {
      font-size: 18px;
    }
    .ql-snow .ql-picker.ql-size .ql-picker-item[data-value='huge']::before {
      font-size: 32px;
    }
    .ql-snow .ql-color-picker.ql-background .ql-picker-item {
      background-color: #fff;
    }
    .ql-snow .ql-color-picker.ql-color .ql-picker-item {
      background-color: #000;
    }
    .ql-toolbar.ql-snow {
      border: 1px solid #ccc;
      box-sizing: border-box;
      font-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
      padding: 8px;
    }
    .ql-toolbar.ql-snow .ql-formats {
      margin-right: 15px;
    }
    .ql-toolbar.ql-snow .ql-picker-label {
      border: 1px solid transparent;
    }
    .ql-toolbar.ql-snow .ql-picker-options {
      border: 1px solid transparent;
      box-shadow: rgba(0, 0, 0, 0.2) 0 2px 8px;
    }
    .ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label {
      border-color: #ccc;
    }
    .ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options {
      border-color: #ccc;
    }
    .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,
    .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover {
      border-color: #000;
    }
    .ql-toolbar.ql-snow + .ql-container.ql-snow {
      border-top: 0px;
    }
    .ql-snow .ql-tooltip {
      background-color: #fff;
      border: 1px solid #ccc;
      box-shadow: 0px 0px 5px #ddd;
      color: #444;
      padding: 5px 12px;
      white-space: nowrap;
    }
    .ql-snow .ql-tooltip::before {
      content: 'Visit URL:';
      line-height: 26px;
      margin-right: 8px;
    }
    .ql-snow .ql-tooltip input[type='text'] {
      display: none;
      border: 1px solid #ccc;
      font-size: 13px;
      height: 26px;
      margin: 0px;
      padding: 3px 5px;
      width: 170px;
    }
    .ql-snow .ql-tooltip a.ql-preview {
      display: inline-block;
      max-width: 200px;
      overflow-x: hidden;
      text-overflow: ellipsis;
      vertical-align: top;
    }
    .ql-snow .ql-tooltip a.ql-action::after {
      border-right: 1px solid #ccc;
      content: 'Edit';
      margin-left: 16px;
      padding-right: 8px;
    }
    .ql-snow .ql-tooltip a.ql-remove::before {
      content: 'Remove';
      margin-left: 8px;
    }
    .ql-snow .ql-tooltip a {
      line-height: 26px;
    }
    .ql-snow .ql-tooltip.ql-editing a.ql-preview,
    .ql-snow .ql-tooltip.ql-editing a.ql-remove {
      display: none;
    }
    .ql-snow .ql-tooltip.ql-editing input[type='text'] {
      display: inline-block;
    }
    .ql-snow .ql-tooltip.ql-editing a.ql-action::after {
      border-right: 0px;
      content: 'Save';
      padding-right: 0px;
    }
    .ql-snow .ql-tooltip[data-mode='link']::before {
      content: 'Enter link:';
    }
    .ql-snow .ql-tooltip[data-mode='formula']::before {
      content: 'Enter formula:';
    }
    .ql-snow .ql-tooltip[data-mode='video']::before {
      content: 'Enter video:';
    }
    .ql-snow a {
      color: #06c;
    }
    .ql-container.ql-snow {
      border: 1px solid #ccc;
    }
  </style>
`;class ab{constructor(t){this.nome=t,this.valores=new Array,this.atributos=new Jd}toString(){if(!this.valores.length)return"<"+this.nome+this.atributos+"/>";const t=new Jd("<"+this.nome+this.atributos+">");return this.valores.forEach((e=>{t.append(e)})),t.append("</"+this.nome+">"),t.toString()}add(t){return t&&this.valores.push(t),this}addAtributo(t,e){return this.atributos.append(" "),this.atributos.append(t),e&&(this.atributos.append('="'),this.atributos.append(e),this.atributos.append('"')),this}}class sb{static compare(t,e){if(!t||!e)throw new Error("Tentativa de comparao de dispositivo nulo.");if(!t.pai)return-1;if(!e.pai)return 1;const o=sb.getIndices(t),i=sb.getIndices(e);return sb.comparaIndices(o,i)}static getIndices(t){const e=[];let o=this.getPaiParaComparacao(t);for(;o;)e.push(this.getIndexDoFilho(o,t)),t=o,o=this.getPaiParaComparacao(t);return e.reverse(),e}static getPaiParaComparacao(t){if(t.pai)return su(t.pai)&&dd(t)?t.pai.caput:t.pai}static getIndexDoFilho(t,e){return lu(e)?0:cu(e)||mu(e)&&su(t)?t.filhos.indexOf(e)+1:dd(e)?-1:t.filhos.indexOf(e)}static comparaIndices(t,e){let o=0;const i=t.length,r=e.length;for(let n=0;n<i&&n<r&&0===o;n++)o=t[n]-e[n];return 0===o&&(o=i-r),o}}class lb{static getAlteracao(t){let e=t;if(e.tipo===Cl.alteracao.tipo)return e;if(pd(e)){for(;e&&e.tipo!==Cl.alteracao.tipo;)e=e.pai;return e}}static existeNaNormaAlterada(t){return t.situacao.existeNaNormaAlterada}}class cb{static getDispositivosNaoOriginais(t){var e,o;const i=[];return(null===(o=null===(e=t.projetoNorma)||void 0===e?void 0:e.ementa)||void 0===o?void 0:o.situacao.descricaoSituacao)===ou.DISPOSITIVO_MODIFICADO&&i.push(t.projetoNorma.ementa),_d(t,(t=>{t.pai&&t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ORIGINAL&&i.push(t)})),i}static getDispositivosAdicionados(t){const e=[];return _d(t,(t=>{t.pai&&t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&e.push(t)})),e}static getDispositivosComando(t){const e=new Array;for(const o of t){if(o.situacao.descricaoSituacao===ou.DISPOSITIVO_ORIGINAL||pd(o)||dd(o))continue;const t=cb.getDispositivoAfetado(o);t&&!e.includes(t)&&e.push(t)}return e}static getDispositivoAfetado(t){const e=t.pai;return Ad(e)?t:lu(e)&&e.pai.situacao.descricaoSituacao!==ou.DISPOSITIVO_ORIGINAL?e.filhos.find((t=>t.situacao.descricaoSituacao===ou.DISPOSITIVO_ORIGINAL))?t:e.pai:su(t)&&t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO?t:cb.isAlteracaoIntegral(e)?cb.getDispositivoAfetado(e):t}static retiraPrimeirosFilhosAdicionadosAgrupador(t){const e=t[0];if(pd(e)||e.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO)return t;if(!t.find((t=>gu(t))))return t;const o=[];let i=[];return t.forEach((t=>{i.indexOf(t)<0&&(o.push(t),gu(t)&&(i=this.listaFilhosAdicionadosComAgrupador(t)))})),o}static listaFilhosAdicionadosComAgrupador(t){const e=[];return wd(t,(t=>t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO&&!lu(t)&&!dd(t)||(e.push(t),!1))),e}static getDispositivoAfetadoEmAlteracao(t){if(mu(t)){if(cb.isOmissisAdjacenteADispositivoDeEmenda(t))return}else if(t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&cb.isTextoOmitido(t))return;const e=lu(t.pai)?t.pai.pai:t.pai;return cb.isAlteracaoIntegralEmAlteracao(e)?cb.getDispositivoAfetadoEmAlteracao(e):t}static isTextoOmitido(t){var e;return mu(t)||t.texto.startsWith(ru)||vu(t)&&!!(null===(e=t.caput)||void 0===e?void 0:e.texto.startsWith(ru))}static getDescricaoSituacaoParaComandoEmenda(t){return t.isDispositivoAlteracao&&t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&lb.existeNaNormaAlterada(t)&&!mu(t)?ou.DISPOSITIVO_MODIFICADO:t.situacao.descricaoSituacao}static isMesmaSituacaoParaComandoEmenda(t,e){return this.getDescricaoSituacaoParaComandoEmenda(t)===this.getDescricaoSituacaoParaComandoEmenda(e)}static isAlteracaoIntegral(t){const e=this.getDescricaoSituacaoParaComandoEmenda(t);if(e===ou.DISPOSITIVO_ORIGINAL)return!1;if(pd(t)&&gu(t)&&e===ou.DISPOSITIVO_SUPRIMIDO)return!1;if(e===ou.DISPOSITIVO_SUPRIMIDO)return!0;if(e===ou.DISPOSITIVO_ADICIONADO)return!gu(t);if(!t.filhos.length)return!su(t)||e!==ou.DISPOSITIVO_ORIGINAL;for(const e of t.filhos)if(!cb.isAlteracaoIntegral(e))return!1;return!0}static isAlteracaoIntegralEmAlteracao(t){return!dd(t)&&((!gu(t)||t.situacao.descricaoSituacao!==ou.DISPOSITIVO_SUPRIMIDO)&&(t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&!cb.isTextoOmitido(t)||t.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO))}static getArvoreDispositivos(t){const e=new Map;return t.length?(t.forEach((t=>{this.atualizaMapa(t,e)})),e):e}static atualizaMapa(t,e){const o=this.getHierarquiaDispositivosDeUmDispositivo(t);let i=e;o.forEach((t=>{const e=i.get(t);if(e)i=e;else{const e=new Map;i.set(t,e),i=e}}))}static getHierarquiaDispositivosDeUmDispositivo(t){const e=new Array;e.push(t);let o=t.pai;for(;o&&!Ad(o)&&!gu(o);)e.push(o),o=o.pai;return e.reverse(),e}static getArvoreDispositivosDeAlteracaoDeNorma(t){const e=new Map;if(!t.length)return e;for(const o of t)this.atualizaMapaDeAlteracaoDeNorma(o,e);return e}static atualizaMapaDeAlteracaoDeNorma(t,e){const o=this.getHierarquiaDispositivosDeUmDispositivo(t);let i=e;for(const t of o)if(pd(t)&&!dd(t))if(i.has(t))i=i.get(t);else{const e=new Map;i.set(t,e),i=e}e=i}static isSequenciasPlural(t){const e=t.length;return 0!==e&&(e>1||cb.isSequenciaPlural(t[0]))}static isSequenciaPlural(t){const e=t.getQuantidadeRanges();return 0!==e&&(e>1||t.getPrimeiroRange().getQuantidadeDispositivos()>1)}static getProximoAgrupador(t){let e=t;do{e=Qu(e)}while(e&&!vu(e));return e}static getDispositivoIrmaoPosterior(t){if(su(t)||vu(t))return this.getArtigoPosterior(t);if(!this.isUltimoDispositivoDoMesmoTipo(t)){const e=t.pai,o=e.filhos.indexOf(t)+1;return e.filhos[o]}}static getArtigoPosterior(t){const e=t.pai;if(e.filhos.length){for(let o=e.filhos.indexOf(t)+1;o<e.filhos.length;o++){const t=e.filhos[o];if(su(t))return t;if(vu(t)){const e=this.buscaProximoArtigo(t);if(e)return e}}if(e.pai)return this.getArtigoPosterior(e)}}static buscaProximoArtigo(t){const e=t.filhos;for(const t of e){if(su(t))return t;if(vu(t))return this.buscaProximoArtigo(t)}}static isUltimoDispositivoDoMesmoTipo(t){if(!t.pai)return!0;const e=t.pai,o=e.filhos.indexOf(t);return e.filhos.length===o+1||e.filhos[o+1].tipo!==t.tipo}static getFilhosEstiloLexML(t){return Cu(t)}static getDispositivoAnteriorDireto(t){return Wu(t)}static getDispositivoPosteriorDireto(t){const e=this.getFilhosEstiloLexML(t);return e.length?e[0]:this.getProximoIrmaoRecursivo(t)}static getProximoIrmaoRecursivo(t){if(!t)return;const e=Qu(t);if(e)return e;{const e=t.pai;return e?void 0:this.getProximoIrmaoRecursivo(e)}}static getRotuloPais(t){const e=new Jd;let o;for(;t&&!su(t);)o=t.pai,e.append(o.pronomePossessivoSingular),e.append(o.getNumeracaoComRotuloParaComandoEmenda(t)),t=o;return e.toString()}static getDispositivosNaAlteracaoParaComando(t){const e=new Array;_d(t,(t=>{t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ORIGINAL&&e.push(t)}));const o=new Array;return e.forEach((t=>{const e=cb.getDispositivoAfetadoEmAlteracao(t);e&&!o.includes(e)&&o.push(e)})),o.sort(sb.compare),o}static isOmissisAdjacenteADispositivoDeEmenda(t){if(!mu(t))return!1;let e=cb.getDispositivoAnteriorDireto(t);if(lu(e)&&(e=e.pai),e&&e.situacao.descricaoSituacao!==ou.DISPOSITIVO_ORIGINAL)return!0;const o=cb.getDispositivoPosteriorDireto(t);return!(!o||o.situacao.descricaoSituacao===ou.DISPOSITIVO_ORIGINAL)}static isMesmoTipoParaComandoEmenda(t,e){return t.tipo===e.tipo&&(!su(t)||cb.isAlteracaoIntegral(t)===cb.isAlteracaoIntegral(e))}static getTextoDoDispositivoOuOmissis(t,e=!1){return t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO||t.situacao.descricaoSituacao===ou.DISPOSITIVO_MODIFICADO||lu(t)?" "+cb.trataTextoParaCitacao(t,e):t.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO?mu(t)?" (Suprimir omissis)":" (Suprimir)":" "+new ab("Omissis")}static trataTextoParaCitacao(t,e=!1){var o;let i=su(t)?t.caput.texto:null!==(o=t.texto)&&void 0!==o?o:"";return i.includes(ru)&&(i=i.replace(ru,new ab("Omissis").toString())),i=e?i.replace(/( *(?:\(NR\)) *)?/,""):i.replace(/( *(?:\(NR\)) *)?/,"$1 "),i.trim().replace(/\s{2,}/g," ").replace(/^<p>\s?/i,"").replace(/\s?<\/p>$/i,"").replace(/<\/?a.*?>/gi,"").replace(/\s([\\.,:?!])/g,"$1")}static isFechaAspas(t){return sd(t)}static verificaNecessidadeRenumeracaoRedacaoFinal(t){for(const e of t)if(cb.implicaEmRenumeracaoRedacaoFinal(e))return!0;return!1}static implicaEmRenumeracaoRedacaoFinal(t){return!(!t.rotulo||"0"!==t.numero&&!/.*(?:-\d).*/i.test(t.rotulo))||!(!su(t)&&!cu(t)||1!==ku(t).filter((t=>t.situacao.descricaoSituacao===ou.DISPOSITIVO_ORIGINAL)).length)}static normalizaCabecalhoComandoEmenda(t){return Zd(t.replace(/caput/g,"<i>caput</i>"))}static verificaAgrupadoresAdicionadosEmSequencia(t,e){if(!gu(t)&&!gu(e))return!1;return!this.getFilhoNaoAdicionadoDeAgrupadorAdicionado(t)&&td(t)===e}static getFilhoNaoAdicionadoDeAgrupadorAdicionado(t){return wd(t,(t=>(su(t)||gu(t))&&t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO?t:void 0))}}class ub extends class{}{constructor(){super(...arguments),this.nivel=0,this.rotulo="",this.agrupador=!1,this.editavel=!0,this.sendoEditado=!1,this.index=0}}const db=Quill.import("blots/block");class pb extends db{constructor(t){super(t)}get instanceBlotName(){return pb.blotName}get linha(){return this.parent.parent.parent}get tamanho(){return this.length()-1}get tagName(){return this.domNode.tagName}get html(){return"<br>"!==this.domNode.innerHTML?this.domNode.innerHTML.replace("&nbsp;",""):""}set html(t){this.domNode.innerHTML=t}}var hb;pb.blotName="EtaBlot",function(t){t[t.Esquerda=0]="Esquerda",t[t.Direita=1]="Direita"}(hb||(hb={}));class fb extends pb{constructor(){super(fb.create())}get instanceBlotName(){return fb.blotName}static create(){const t=super.create();return t.setAttribute("contenteditable","false"),t.setAttribute("class",fb.className),t}}fb.blotName="EtaBlotMenu",fb.tagName="sl-dropdown",fb.className="lx-eta-dropdown";class mb extends pb{constructor(){super(mb.create())}get instanceBlotName(){return mb.blotName}static create(){const t=super.create();return t.setAttribute("variant","text"),t.setAttribute("size","small"),t.setAttribute("slot","trigger"),t.setAttribute("contenteditable","false"),t.setAttribute("class",mb.className),t.innerHTML="&vellip;",t}}mb.blotName="EtaBlotMenuBotao",mb.tagName="sl-button",mb.className="lx-eta-dropbtn";class vb extends pb{constructor(t){super(vb.create(t))}get instanceBlotName(){return vb.blotName}static create(t){const e=super.create(),o=t===hb.Esquerda?"":" lx-eta-dropdown-content-right";return e.setAttribute("contenteditable","false"),e.setAttribute("class",vb.className+o),e}}vb.blotName="EtaBlotMenuConteudo",vb.tagName="sl-menu",vb.className="lx-eta-dropdown-content";class gb extends pb{constructor(t,e){super(gb.create(t,e))}get instanceBlotName(){return gb.blotName}static create(t,e){var o;const i=super.create();return i.setAttribute("contenteditable","false"),i.setAttribute("class",gb.className),i.innerHTML=(null!==(o=t.descricao)&&void 0!==o?o:"")+(t.hotkey?`<span slot="suffix"> ${t.hotkey} </span>`:""),i.addEventListener("mousedown",(()=>{var o;if(t.descricao===pc.descricao||t.descricao===sc.descricao){const t=null===(o=document.getSelection())||void 0===o?void 0:o.focusOffset;localStorage.setItem("indexCursor",JSON.stringify(t))}e(t)})),i}}gb.blotName="EtaBlotMenuItem",gb.tagName="sl-menu-item",gb.className="lx-eta-dropdown-content-item";class bb extends pb{constructor(t){super(bb.create(t))}get instanceBlotName(){return bb.blotName}static create(t){const e=super.create();return e.setAttribute("contenteditable","false"),e.setAttribute("class",bb.getClasseCSS(t)),e.setAttribute("data-rotulo",t.rotulo),t.abreAspas&&e.setAttribute("abre-aspas","true"),yb(t)&&e.setAttribute("pode-informar-numeracao","true"),t.tipo&&e.setAttribute("tipo-dispositivo",t.tipo),e.innerHTML=t.rotulo,t.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&t.dispositivoAlteracao&&(e.title=t.existeNaNormaAlterada?"Dispositivo existente na norma alterada":"Dispositivo a ser adicionado  norma"),e.onclick=xb(e,t),e}get rotulo(){return this.domNode.getAttribute("data-rotulo")}format(t,e,o){t===bb.blotName?(this.domNode.setAttribute("data-rotulo",(o?"":"")+e),o&&this.domNode.setAttribute("abre-aspas","true"),this.domNode.innerHTML=e):t===bb.formatoStyle?this.domNode.setAttribute("style",bb.criarAtributoStyle(e)):super.format(t,e)}static criarAtributoStyle(t){let e="Articulacao"===t.tipo?"color: #373634; font-weight: 600; line-height: 0.42;":"color: #373634; font-weight: 600; line-height: 1.42;";return e=t.agrupador?`${e} display: block; font-size: 1rem; text-align: center;`:`${e} float: left; margin-right: 10px;`,e}static getClasseCSS(t){var e,o,i;const r={[ou.DISPOSITIVO_ADICIONADO]:"dispositivo--adicionado",[ou.DISPOSITIVO_MODIFICADO]:"dispositivo--modificado",[ou.DISPOSITIVO_SUPRIMIDO]:"dispositivo--suprimido"},n=t.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO;return"texto__rotulo"+(t.agrupador?" texto__rotulo--agrupador":" texto__rotulo--padrao")+(n&&t.dispositivoAlteracao?" rotulo":"")+" texto__rotulo--"+(null===(e=t.tipo)||void 0===e?void 0:e.toLowerCase())+" "+(null!==(i=r[null!==(o=t.descricaoSituacao)&&void 0!==o?o:""])&&void 0!==i?i:"")}setEstilo(t){this.domNode.setAttribute("class",`${bb.getClasseCSS(t)}`)}atualizarAtributos(t){this.setEstilo(t),this.domNode.setAttribute("data-rotulo",t.rotulo),t.abreAspas?this.domNode.setAttribute("abre-aspas","true"):this.domNode.removeAttribute("abre-aspas"),yb(t)?this.domNode.setAttribute("pode-informar-numeracao","true"):this.domNode.removeAttribute("pode-informar-numeracao"),this.domNode.onclick=xb(this.domNode,t)}}bb.blotName="EtaBlotRotulo",bb.tagName="LABEL",bb.formatoStyle="STYLE";const yb=t=>{var e,o,i;return!(t.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO||!t.dispositivoAlteracao||!t.abreAspas&&"Artigo"!==t.tipo&&null!==(i=null===(o=null===(e=t.hierarquia)||void 0===e?void 0:e.pai)||void 0===o?void 0:o.existeNaNormaAlterada)&&void 0!==i&&!i)},xb=(t,e)=>yb(e)?()=>t.dispatchEvent(new CustomEvent("rotulo",{bubbles:!0,cancelable:!0,detail:{elemento:e}})):()=>!1;class _b extends pb{constructor(t){super(_b.create(t)),this._htmlAnt=""}get instanceBlotName(){return _b.blotName}static create(t){var e,o;const i=super.create(),r=cp(null!==(o=null===(e=t.conteudo)||void 0===e?void 0:e.texto)&&void 0!==o?o:"").trim();return i.setAttribute("class",_b.getClasseCSS(t)),i.setAttribute("contenteditable",(null==t?void 0:t.editavel)?"true":"false"),t.notaAlteracao&&i.setAttribute("nota-alteracao",t.notaAlteracao||""),t.fechaAspas&&i.setAttribute("fecha-aspas","true"),"Omissis"===t.tipo||r.indexOf(ru)>=0?i.innerHTML='<span class="texto__omissis">'+ru+"</span>":i.innerHTML=""!==r?r:"<br>",i}set htmlAnt(t){this._htmlAnt=t}get htmlAnt(){return this._htmlAnt}get alterado(){return this._htmlAnt!==this.html}static getClasseCSS(t){return"texto__dispositivo"}atualizarAtributos(t){this.htmlAnt=this.html,t.notaAlteracao?this.domNode.setAttribute("nota-alteracao",t.notaAlteracao||""):this.domNode.removeAttribute("nota-alteracao"),t.fechaAspas?this.domNode.setAttribute("fecha-aspas","true"):this.domNode.removeAttribute("fecha-aspas")}}_b.blotName="EtaBlotConteudo",_b.tagName="P",_b.className="texto__dispositivo";class wb extends pb{constructor(){super(wb.create())}get instanceBlotName(){return wb.blotName}static create(){const t=super.create();return t.setAttribute("contenteditable","false"),t.innerHTML="&nbsp;",t}}wb.blotName="EtaBlotEspaco",wb.tagName="ESPACO",wb.className="espaco";class Ab extends pb{constructor(t){super(Ab.create(t))}get instanceBlotName(){return Ab.blotName}static create(t){const e=super.create();return e.setAttribute("contenteditable","false"),e.classList.add(Ab.className),Ab._atualizarAtributos(t,e),e}static formats(){return!0}atualizarElemento(t){this.atualizarAtributos(t)}atualizarAtributos(t){Ab._atualizarAtributos(t,this.domNode)}static _atualizarAtributos(t,e){e.innerHTML=Ab.montarHTML(t),e.onclick=Eb(e,t),bh(t)?(e.classList.add("existencia"),e.title=t.existeNaNormaAlterada?"Dispositivo existente na norma alterada":"Dispositivo a ser adicionado  norma"):e.classList.remove("existencia")}static montarHTML(t){return bh(t)?t.existeNaNormaAlterada?"Existente":"Novo":""}}Ab.blotName="EtaBlotExistencia",Ab.tagName="blot-existencia",Ab.className="blot-existencia";const Eb=(t,e)=>bh(e)?()=>t.dispatchEvent(new CustomEvent("toggle-existencia",{bubbles:!0,cancelable:!0,detail:{elemento:e}})):()=>!1;class Ob extends pb{constructor(t){super(Ob.create(t)),this.elemento=t}get instanceBlotName(){return Ob.blotName}static create(t){const e=super.create();return e.setAttribute("contenteditable","false"),e.setAttribute("class",Ob.className),e.innerHTML=Ob.montarHTML(t),e}static formats(){return!0}atualizarAtributos(t){this.elemento=t,this.domNode.innerHTML=Ob.montarHTML(t)}static montarHTML(t){return t.fechaAspas?" ":" "}}Ob.blotName="EtaBlotFechaAspas",Ob.tagName="fecha-aspas",Ob.className="fecha-aspas";class Ib extends pb{constructor(t){super(Ib.create(t))}get instanceBlotName(){return Ib.blotName}static create(t){const e=super.create();return e.setAttribute("contenteditable","false"),e.setAttribute("class",Ib.className),Ib._atualizarAtributos(t,e),e}static formats(){return!0}atualizarAtributos(t){Ib._atualizarAtributos(t,this.domNode)}static _atualizarAtributos(t,e){e.innerHTML=Ib.montarHTML(t),e.onclick=Sb(e,t),t.notaAlteracao?e.setAttribute("nota-alteracao",t.notaAlteracao||""):e.removeAttribute("nota-alteracao"),t.podeEditarNotaAlteracao?e.classList.add("nota-alteracao-editavel"):e.classList.remove("nota-alteracao-editavel")}static montarHTML(t){return t.notaAlteracao?"("+t.notaAlteracao+")":" "}}Ib.blotName="EtaBlotNotaAlteracao",Ib.tagName="nota-alteracao",Ib.className="nota-alteracao";const Sb=(t,e)=>e.podeEditarNotaAlteracao?()=>t.dispatchEvent(new CustomEvent("nota-alteracao",{bubbles:!0,cancelable:!0,detail:{elemento:e}})):()=>!1,Cb=Quill.import("blots/container");class kb extends Cb{constructor(t){var e,o,i;super(kb.create(t)),this.elemento=t,this._lexmlId=null!==(e=t.lexmlId)&&void 0!==e?e:"",this._editavel=t.editavel,this._nivel=t.nivel,this._numero=null!==(o=t.numero)&&void 0!==o?o:"",this._tipo=null!==(i=t.tipo)&&void 0!==i?i:"",this._agrupador=t.agrupador,this._hierarquia=t.hierarquia,this._descricaoSituacao=t.descricaoSituacao?t.descricaoSituacao:void 0,this._existeNaNormaAlterada=t.existeNaNormaAlterada}get instanceBlotName(){return kb.blotName}static criarId(t){return`lxEtaId${null!=t?t:0}`}static create(t){var e,o;const i=super.create(),r=cp(null!==(o=null===(e=t.conteudo)||void 0===e?void 0:e.texto)&&void 0!==o?o:"").trim();return i.setAttribute("contenteditable","false"),i.setAttribute("class",kb.className+" "+kb.getClasseCSS(t)),i.setAttribute("id",kb.criarId(t.uuid)),bh(t)&&i.setAttribute("existenanormaalterada",t.existeNaNormaAlterada?"true":"false"),("Omissis"===t.tipo||r.indexOf(ru)>=0)&&i.classList.add("container_elemento--omissis"),i}findBlot(t){if(this.blotRotulo)return this.findBlotRef(this.blotRotulo.next,t)}findBlotRef(t,e){if(t)return t.instanceBlotName===e?t:this.findBlotRef(t.next,e)}get blotRotulo(){var t,e;const o=null===(e=null===(t=this.children.head)||void 0===t?void 0:t.children)||void 0===e?void 0:e.head.children.head;return o instanceof bb?o:null==o?void 0:o.next}get blotExistencia(){return this.findBlot(Ab.blotName)}get blotConteudo(){return this.findBlot(_b.blotName)}get blotAbreAspas(){return this.children.head.children.head.children.head}get blotFechaAspas(){return this.findBlot(Ob.blotName)}get blotNotaAlteracao(){return this.findBlot(Ib.blotName)}get containerDireito(){return this.children.head.children.tail}get blotInsideContainerDireito(){return this.containerDireito.children.head}get tamanho(){return this.length()-1}get id(){var t;return null!==(t=this.domNode.getAttribute("id"))&&void 0!==t?t:""}set agrupador(t){this._agrupador=t}get agrupador(){return this._agrupador}set editavel(t){this._editavel=t}get editavel(){return this._editavel}set hierarquia(t){this._hierarquia=t}get hierarquia(){return this._hierarquia}set nivel(t){this._nivel=t}get nivel(){return this._nivel}set numero(t){this._numero=t}get numero(){return this._numero}set tipo(t){this._tipo=t}get tipo(){return this._tipo}set descricaoSituacao(t){this._descricaoSituacao=t}get descricaoSituacao(){return this._descricaoSituacao}set existeNaNormaAlterada(t){this._existeNaNormaAlterada=t}get existeNaNormaAlterada(){return this._existeNaNormaAlterada}get uuid(){return parseInt(this.id.substr(7),0)}set lexmlId(t){this._lexmlId=t}get lexmlId(){var t;return null!==(t=this._lexmlId)&&void 0!==t?t:""}get html(){return"<br>"!==this.domNode.innerHTML?this.domNode.innerHTML:""}set html(t){this.domNode.innerHTML=t}resetClasses(){this.domNode.classList.remove("dispositivo--adicionado"),this.domNode.classList.remove("dispositivo--modificado"),this.domNode.classList.remove("dispositivo--suprimido")}setEstilo(t){let e="";switch(this.resetClasses(),t.descricaoSituacao){case ou.DISPOSITIVO_ADICIONADO:e="dispositivo--adicionado";break;case ou.DISPOSITIVO_MODIFICADO:e="dispositivo--modificado";break;case ou.DISPOSITIVO_SUPRIMIDO:e="dispositivo--suprimido"}e&&this.domNode.classList.add(e),this.blotRotulo.setEstilo(t)}atualizarAtributos(t){var e,o,i,r,n;bh(t)?this.domNode.setAttribute("existenanormaalterada",t.existeNaNormaAlterada):this.domNode.removeAttribute("existenanormaalterada"),null===(e=this.blotAbreAspas)||void 0===e||e.atualizarAtributos(t),null===(o=this.blotRotulo)||void 0===o||o.atualizarAtributos(t),null===(i=this.blotExistencia)||void 0===i||i.atualizarAtributos(t),this.blotConteudo.atualizarAtributos(t),null===(r=this.blotFechaAspas)||void 0===r||r.atualizarAtributos(t),null===(n=this.blotNotaAlteracao)||void 0===n||n.atualizarAtributos(t)}atualizarElemento(t){var e,o,i;this.elemento=t,this._lexmlId=null!==(e=t.lexmlId)&&void 0!==e?e:"",this._editavel=t.editavel,this._nivel=t.nivel,this._numero=null!==(o=t.numero)&&void 0!==o?o:"",this._tipo=null!==(i=t.tipo)&&void 0!==i?i:"",this._agrupador=t.agrupador,this._hierarquia=t.hierarquia,this._descricaoSituacao=t.descricaoSituacao?t.descricaoSituacao:void 0,this._existeNaNormaAlterada=t.existeNaNormaAlterada,this.setEstilo(t),this.atualizarAtributos(t)}format(t,e){t===kb.blotName?this.domNode.setAttribute("style",kb.criarAtributoStyle(e)):super.format(t,e)}ativarBorda(){this.domNode.classList.add("container__elemento--ativo")}desativarBorda(){this.domNode.classList.remove("container__elemento--ativo"),this.limparContainerDireito()}limparContainerDireito(){this.blotInsideContainerDireito instanceof fb&&(this.blotInsideContainerDireito.remove(),(new wb).insertInto(this.containerDireito))}static criarAtributoStyle(t){let e="Articulacao"===t.tipo?"width: 100%; min-height: 1px; line-height: 0.42; margin: 1px":"width: 100%; min-height: 26px; border: 1px solid #ffffff; line-height: 1.42; margin: 0px 2px 0px 5px !important;";return t.agrupador&&(e=`${e} text-align: center;`),e}static getClasseCSS(t){var e;let o="Articulacao"===t.tipo?"container__elemento--articulacao":"container__elemento--padrao";return o=`${o} elemento-tipo-${null===(e=t.tipo)||void 0===e?void 0:e.toLowerCase()}`,o=t.agrupador?`${o} agrupador`:"Ementa"===t.tipo?`${o} ementa`:`${o} h-artigo`,t.dispositivoAlteracao&&(o=`${o} dispositivo-alteracao`),o}}function Nb(t){t.stopPropagation(),t.preventDefault()}kb.blotName="EtaContainerTable",kb.tagName="DIV",kb.className="container__elemento";const Tb="a-z0-9\\s'!@#$%&\\*\\(\\)_\\-+=`{}\\[\\]\\^~<,>.:;?/|\\",qb=new RegExp(`[${Tb}]`,"i"),Pb=new RegExp(`[^${Tb}]`,"gi"),Db=Quill.import("modules/keyboard");class Rb extends Db{constructor(t,e){super(t,e),this.operacaoTecladoInvalida=new Ig,this.adicionaElementoTeclaEnter=new Ig,this.removeElemento=new Ig,this.removeElementoSemTexto=new Ig,this.renumeraElemento=new Ig,this.transformaElemento=new Ig,this.moveElemento=new Ig,this.onChange=new Ig,this.toggleExistencia=new Ig,this.adicionaAgrupador=new Ig,this.altGraphPressionado=!1}listen(){this.quill.root.addEventListener("keyup",(t=>{!t.ctrlKey||t.altKey||t.shiftKey||!"biBI".includes(t.key)||this.onHotKeyToolbar()})),this.quill.root.addEventListener("keydown",(t=>{if(this.altGraphPressionado=t.altKey&&2===t.location,this.quill.cursorDeTextoEstaSobreLink()||"Backspace"===t.key&&this.quill.cursorDeTextoEstaSobreLink(-1)||!this.isTeclaQueAlteraTexto(t)||this.onChange.notify("keyboard"),this.quill.cursorDeTextoEstaSobreLink()&&this.quill.cursorDeTextoEstaSobreLink(-1)&&!["Delete","Backspace"].includes(t.key)){if(!t.ctrlKey&&1===t.key.length||t.ctrlKey&&"xvXV".includes(t.key)||t.altKey&&"0123456789".includes(t.key)||"Enter"===t.key)return void Nb(t)}else{if(this.verificaSelecaoComLink())return void Nb(t);if("Omissis"===this.quill.linhaAtual.tipo&&!["ArrowUp","ArrowDown"].includes(t.key)&&(this.isTeclaQueAlteraTexto(t)||"Enter"===t.key||t.altKey||t.metaKey)&&!t.ctrlKey)return"Enter"===t.key&&this.enterEmOmissis(),void Nb(t);if(this.quill.cursorDeTextoEstaSobreOmissis()&&!["Delete","Backspace"].includes(t.key)&&(this.isTeclaQueAlteraTexto(t)||"Enter"===t.key||t.altKey)&&!t.ctrlKey)return"Enter"===t.key&&this.enterEmOmissis(),void Nb(t);if(t.ctrlKey){if(t.altKey||t.metaKey||(["Delete","Backspace"].includes(t.key)?Nb(t):"Home"===t.key?this.onTeclaHome(t):"End"===t.key?this.onTeclaEnd(t):"a"!==t.key.toLowerCase()||t.shiftKey?"d"===t.key.toLowerCase()?this.onTeclaCtrlD(t):"z"===t.key.toLowerCase()?this.onTeclaCtrlZ(t):"y"===t.key.toLowerCase()?this.onTeclaCtrlY(t):t.ctrlKey&&t.shiftKey&&"a"===t.key.toLowerCase()?this.onTeclaCtrlShiftA(t):"b"!==t.key&&"i"!==t.key&&"x"!==t.key&&"v"!==t.key||this.onValidarTecla(t):this.onTeclaCtrlA(t)),(t.altKey||t.metaKey)&&(["o"].includes(t.key.toLowerCase())?this.onHotKeyTransformacaoTipo(t):["n",""].includes(t.key.toLowerCase())?this.onHotKeyRenumeraDispositivo(t):["x",""].includes(t.key.toLowerCase())?this.onHotKeyToggleExistencia(t):["g"].includes(t.key.toLowerCase())&&this.onHotKeyAdicionaAgrupador(t),["229","172","68","248","960","8224"].includes(t.key.charCodeAt(0).toString()))){let e="";switch(t.key.charCodeAt(0).toString()){case"229":e="a";break;case"172":e="l";break;case"68":e="n";break;case"248":e="o";break;case"960":e="p";break;case"8224":e="t"}if(e){const t=new KeyboardEvent("keydown",{key:e});this.onHotKeyTransformacaoTipo(t)}}}else t.altKey?"ArrowUp"!==t.key&&"ArrowDown"!==t.key||this.onHotKeyMover(t):"ArrowRight"===t.key?this.onTeclaArrowRight(t):"ArrowLeft"===t.key?this.onTeclaArrowLeft(t):"ArrowDown"===t.key?this.onTeclaArrowDown(t):"ArrowUp"===t.key?this.onTeclaArrowUp(t):"Enter"===t.key?this.onTeclaEnter(t):"Escape"===t.key?this.onTeclaEscape(t):"Delete"===t.key?this.onTeclaDelete(t):"Backspace"===t.key?this.onTeclaBackspace(t):"Tab"===t.key?this.onTeclaTab(t):1===t.key.length&&qb.test(t.key)&&this.onValidarTecla(t)}})),super.listen()}isTeclaComCaracterGrafico(t){return 3!==t.location&&"123456=[]/".includes(t.key)}isTeclaQueAlteraTexto(t){return!(t.ctrlKey||t.altKey||t.metaKey)&&(!(this.altGraphPressionado&&!this.isTeclaComCaracterGrafico(t))&&!(!["Delete","Backspace"].includes(t.key)&&1!==t.key.length))}verificarOperacaoTecladoPermitida(){const t=this.quill.textoSelecionado;if(t.conteudo&&t.quantidadeCR>0){if(1===t.quantidadeCR&&/\n$/gi.test(t.conteudo)){const t=this.quill.getSelection(!0);return this.quill.setSelection(t.index,t.length-1,Quill.sources.API),!0}return this.operacaoTecladoInvalida.notify(),!1}return!0}onTeclaArrowRight(t){const e=this.quill.getSelection(!0),[o,i]=this.quill.getLine(e.index);i===o.tamanho&&(o.linha.next&&this.quill.setIndex(this.quill.getIndex(o.linha.next.blotConteudo),Quill.sources.USER),Nb(t))}onTeclaArrowLeft(t){const e=this.quill.getSelection(!0),[o,i]=this.quill.getLine(e.index);if(0===i){if(o.linha.prev){const t=o.linha.prev,e=this.quill.getIndex(t.blotConteudo)+t.blotConteudo.tamanho;this.quill.setIndex(e,Quill.sources.USER)}Nb(t)}}onTeclaArrowUp(t){const e=this.quill.getSelection(!0),[o,i]=this.quill.getLine(e.index);if(0===i||this.quill.cursorDeTextoEstaSobreOmissis()){if(o.linha.prev){const t=o.linha.prev,e=this.quill.getIndex(t.blotConteudo)+t.blotConteudo.tamanho;this.quill.setIndex(e,Quill.sources.USER)}Nb(t)}this.quill.isProcessandoMudancaLinha&&Nb(t)}onTeclaArrowDown(t){const e=this.quill.getSelection(!0),[o,i]=this.quill.getLine(e.index);(i===o.tamanho||this.quill.cursorDeTextoEstaSobreOmissis())&&(o.linha.next&&this.quill.setIndex(this.quill.getIndex(o.linha.next.blotConteudo),Quill.sources.USER),Nb(t)),this.quill.isProcessandoMudancaLinha&&Nb(t)}onTeclaEnter(t){if(this.verificarOperacaoTecladoPermitida()&&!this.quill.cursorDeTextoEstaSobreLink(-1)){const t=this.quill.getSelection(!0);this.quill.setSelection(t.index,0,Quill.sources.SILENT),this.adicionaElementoTeclaEnter.notify(t)}Nb(t)}onTeclaEscape(t){const e=this.quill.getSelection(!0);this.quill.setIndex(e.index,Quill.sources.SILENT),this.quill.setSelection(this.quill.inicioConteudoAtual,0,Quill.sources.SILENT),Nb(t)}onTeclaDelete(t){const e=this.quill.getSelection(!0);if(this.quill.linhaAtual.blotConteudo.html)if(this.verificarOperacaoTecladoPermitida()&&e.index!==this.quill.fimConteudoAtual){if(this.quill.cursorDeTextoEstaSobreLink()){let e=this.quill.getSelection().index;this.quill.cursorDeTextoEstaSobreLink(-1)||(e+=1),this.apagaTextoNaPosicao(e),Nb(t)}else if(this.quill.cursorDeTextoEstaSobreOmissis()){this.quill.linhaAtual.domNode.classList.remove("container_elemento--omissis");const e=this.quill.getSelection().index;this.apagaTextoNaPosicao(e),Nb(t)}}else Nb(t);else Nb(t),this.removeElementoSemTexto.notify(t.key)}onTeclaBackspace(t){const e=this.quill.getSelection(!0);if(this.quill.linhaAtual.blotConteudo.html){if(!this.verificarOperacaoTecladoPermitida()||e.index===this.quill.inicioConteudoAtual&&0===e.length)Nb(t);else if(this.quill.cursorDeTextoEstaSobreLink(-1)){const e=this.quill.getSelection().index;this.apagaTextoNaPosicao(e),Nb(t)}else if(this.quill.cursorDeTextoEstaSobreOmissis()){this.quill.linhaAtual.domNode.classList.remove("container_elemento--omissis");const e=this.quill.getSelection().index;this.apagaTextoNaPosicao(e),Nb(t)}}else Nb(t),this.removeElementoSemTexto.notify(t.key)}onValidarTecla(t){this.verificarOperacaoTecladoPermitida()||Nb(t)}onTeclaHome(t){const e=this.quill.getPrimeiraLinha(),o=this.quill.getIndex(e.next.blotConteudo);this.quill.setIndex(o,Quill.sources.USER),this.quill.scroll.domNode.scrollTo(0,0),Nb(t)}onTeclaEnd(t){var e,o;const i=null!==(o=this.quill.getIndex(this.quill.getUltimaLinha().blotConteudo)+(null===(e=this.quill.getUltimaLinha().blotConteudo)||void 0===e?void 0:e.tamanho))&&void 0!==o?o:0;this.quill.setIndex(i,Quill.sources.USER),this.quill.scroll.domNode.scrollTo(0,this.quill.scroll.domNode.scrollHeight),Nb(t)}onTeclaCtrlD(t){this.removeElemento.notify(),Nb(t)}onTeclaTab(t){this.transformaElemento.notify(t),Nb(t)}onTeclaCtrlZ(t){this.quill.undo(),Nb(t)}onTeclaCtrlY(t){this.quill.redo(),Nb(t)}onTeclaCtrlA(t){Nb(t)}onTeclaCtrlShiftA(t){this.quill.setSelection(this.quill.inicioConteudoAtual,this.quill.linhaAtual.blotConteudo.tamanho,Quill.sources.SILENT),Nb(t)}onHotKeyRenumeraDispositivo(t){this.renumeraElemento.notify(t),Nb(t)}onHotKeyMover(t){this.moveElemento.notify(t),Nb(t)}onHotKeyTransformacaoTipo(t){this.transformaElemento.notify(t),Nb(t)}onHotKeyToolbar(){var t;(null===(t=document.getSelection())||void 0===t?void 0:t.toString())&&this.onChange.notify("toolbar(hotkey)")}onHotKeyToggleExistencia(t){this.toggleExistencia.notify(t),Nb(t)}onHotKeyAdicionaAgrupador(t){this.adicionaAgrupador.notify(t),Nb(t)}verificaSelecaoComLink(){var t,e,o,i;const r=this.quill.getSelection(!0);if(!r)return!1;let n=!1;const a=this.quill.getContents(r).ops;return((null===(e=null===(t=a[0])||void 0===t?void 0:t.attributes)||void 0===e?void 0:e.link)||(null===(i=null===(o=a[a.length-1])||void 0===o?void 0:o.attributes)||void 0===i?void 0:i.link))&&(n=!0),n}apagaTextoNaPosicao(t){const[e,o]=this.quill.getLeaf(t);this.quill.deleteText(t-o,e.text.length)}enterEmOmissis(){if(this.verificarOperacaoTecladoPermitida()){const t=this.quill.getSelection(!0),e=this.quill.getIndex(this.quill.linhaAtual.blotConteudo),o=this.quill.linhaAtual.blotConteudo.length();t.index!==e&&(t.index=e+o-1),this.adicionaElementoTeclaEnter.notify(t)}}}const Lb='\n<svg class="icon-negrito" id="negrito" viewBox="0 0 16 16">\n<path class="st0" d="M10.7,13.5c-0.1,0-0.4,0-0.6-0.2L6,7.8C6,7.7,5.8,7.7,5.8,7.8l0,5.1c0,0.3-0.2,0.5-0.5,0.5H3.7\n\tc-0.3,0-0.5-0.2-0.5-0.5l0-9.5c-0.1-0.2,0-0.4,0.1-0.5c0.1-0.2,0.4-0.4,0.7-0.4h1c0.1,0,0.4,0,0.6,0.2l4.4,5.9\n\tc0.1,0.1,0.2,0,0.2-0.1V3c0-0.3,0.2-0.5,0.5-0.5h1.5c0.3,0,0.5,0.2,0.5,0.5V13c0,0.3-0.2,0.5-0.5,0.5H10.7z"/>\n</svg>\n';class Mb extends pb{constructor(t){super(Mb.create(t)),this.elemento=t}get instanceBlotName(){return Mb.blotName}static create(t){const e=super.create();return e.setAttribute("contenteditable","false"),e.setAttribute("class",Mb.className),e.innerHTML=Mb.montarHTML(t),e}static formats(){return!0}atualizarAtributos(t){this.elemento=t,this.domNode.innerHTML=Mb.montarHTML(t)}static montarHTML(t){return t.abreAspas?"":""}}Mb.blotName="EtaBlotAbreAspas",Mb.tagName="abre-aspas",Mb.className="abre-aspas";const $b=Quill.import("blots/inline");class jb extends $b{get instanceBlotName(){return jb.blotName}static formats(){return!0}}jb.blotName="EtaBlotConteudoOmissis",jb.tagName="span",jb.className="texto__omissis";class zb extends pb{constructor(t){super(zb.create(t))}get instanceBlotName(){return zb.blotName}static create(t){const e=super.create();let o="";return o=t.tipo===op.INFO?"mensagem--info":t.tipo===op.WARNING?"mensagem--warning":"mensagem--danger",e.setAttribute("contenteditable","false"),e.classList.add(o),e.innerHTML=t.descricao?t.descricao:"",t.fix&&(e.innerHTML+='. <span class="mensagem__fix">Corrigir agora.</span>',e.onclick=()=>e.dispatchEvent(new CustomEvent("mensagem",{bubbles:!0,cancelable:!0,detail:{mensagem:t}}))),e}}zb.blotName="EtaBlotMensagem",zb.tagName="div",zb.className="mensagem";class Fb extends pb{constructor(){super(Fb.create())}get instanceBlotName(){return Fb.blotName}static create(){const t=super.create();return t.setAttribute("contenteditable","false"),t.setAttribute("style","font-size: 0.8em;"),t}}Fb.blotName="mensagens",Fb.tagName="MENSAGENS";class Ub extends pb{constructor(t){super(Ub.create(t))}get instanceBlotName(){return Ub.blotName}static create(t){const e=super.create();return e.setAttribute("contenteditable","false"),e.classList.add(Ub.className),Ub._atualizarAtributos(t,e),e}static formats(){return!0}atualizarElemento(t){this.atualizarAtributos(t)}atualizarAtributos(t){Ub._atualizarAtributos(t,this.domNode)}static _atualizarAtributos(t,e){e.innerHTML=Ub.getDescricaoTipoOmissis(t),"Omissis"===t.tipo?e.classList.add("tipo-omissis"):e.classList.remove("tipo-omissis")}static getDescricaoTipoOmissis(t){switch(t.tipoOmissis){case"inciso-caput":case"inciso-paragrafo":return" Incisos omitidos ";case"paragrafo":return" Pargrafos omitidos ";case"alinea":return" Alneas omitidas ";case"item":return" Itens omitidos ";default:return""}}}Ub.blotName="EtaBlotTipoOmissis",Ub.tagName="blot-tipo-omissis",Ub.className="blot-tipo-omissis";const Bb=Quill.import("modules/clipboard");class Vb extends(pl(yg)(Bb)){constructor(t,e){super(t,e),this.onChange=new Ig,this.onPasteTextoArticulado=new Ig,this.quill.root.addEventListener("cut",(t=>{var e;if(this.quill.cursorDeTextoEstaSobreLink())return void Nb(t);(null===(e=document.getSelection())||void 0===e?void 0:e.toString())&&this.onChange.notify("clipboard")}))}convert(t){if("string"==typeof t)return this.container.innerHTML=t,super.convert();this.container.innerHTML=this.container.innerHTML.replace(Pb,"").replace(/(<p\s*)/gi," <p").replace(/(<br\s*\/>)/gi," ").replace(/<(?!strong)(?!\/strong)(?!em)(?!\/em)(?!sub)(?!\/sub)(?!sup)(?!\/sup)(.*?)>/gi,"").replace(/<([a-z]+) .*?=".*?( *\/?>)/gi,"<$1$2");const e=super.convert();return this.container.innerHTML="",e}onPaste(t){var e,o;if(this.quill.cursorDeTextoEstaSobreLink())return void Nb(t);t.preventDefault();let i=null===(e=null==t?void 0:t.clipboardData)||void 0===e?void 0:e.getData("text/html");const r=null===(o=null==t?void 0:t.clipboardData)||void 0===o?void 0:o.getData("text/plain"),n=this.quill.getSelection();if(i&&(i=(t=>ep(t,"head"))((t=>ep(t,"script"))(ep(i,"style")))),i&&i.length>0&&Yd(i).length>0){const t=Kv(i);if(void 0!==t&&this.hasRotulo(t))return void this.adicionaDispositivos(r,t,n);this.quill.deleteText(n.index,n.length),this.quill.clipboard.dangerouslyPasteHTML(n.index,t),t&&this.onChange.notify("clipboard")}else if(r){if(""!==r.trim()&&this.hasRotulo(r))return void this.adicionaDispositivos(r,r,n);this.quill.clipboard.dangerouslyPasteHTML(n.index,r),r&&this.onChange.notify("clipboard")}}hasRotulo(t){var e;const o=null===(e=Yd(t))||void 0===e?void 0:e.replace(/&nbsp;/g," ").replace(/["']/g,"").trim();return!!(o&&o.length>0&&/^(parte|livro|t[i]tulo|cap[i]tulo|se[c][a]o|subse[c][a]o|art\.|art||par[a]grafo [u]nico|[IVXMDC]{1,3}\s*[-]{1}|[az]{1,2}\)|\d{1,3}[\t .]+).*/i.test(o))}adicionaDispositivos(t,e,o){this.onPasteTextoArticulado.notify({textoColadoOriginal:t,textoColadoAjustado:e,range:o})}}const Hb=Quill.import("blots/container");class Gb extends Hb{constructor(t){super(Gb.create()),this.alinhamentoMenu=t}get instanceBlotName(){return Gb.blotName}static create(){const t=super.create();return t.setAttribute("contenteditable","false"),t.setAttribute("class",Gb.className),t}}Gb.blotName="EtaContainerTdDireito",Gb.tagName="DIV",Gb.className="container__menu";const Kb=Quill.import("blots/container");class Wb extends Kb{constructor(t){super(Wb.create(t))}get instanceBlotName(){return Wb.blotName}static create(t){const e=super.create();e.setAttribute("contenteditable","false"),e.setAttribute("class",Wb.className+" container__texto--nivel"+t.nivel);const o=Number(getComputedStyle(document.documentElement).getPropertyValue("--elemento-padding-factor"));if(o){const i=(t.agrupador||"Ementa"===t.tipo?0:t.nivel)*o+5;e.setAttribute("style",`padding-left: ${i}px;`)}return t.tipoOmissis&&e.setAttribute("tipo-omissis",t.tipoOmissis),e}}Wb.blotName="EtaContainerTdEsquerdo",Wb.tagName="DIV",Wb.className="container__texto",Wb.classLevel="level";const Qb=Quill.import("blots/container");class Xb extends Qb{constructor(t,e){super(Xb.create(t,e))}get instanceBlotName(){return Xb.blotName}static create(t,e){const o=super.create(),i=e===hb.Esquerda?" container__linha--reverse":"";return o.setAttribute("class",Xb.className+i),o}}Xb.blotName="EtaContainerTr",Xb.tagName="DIV",Xb.className="container__linha";class Zb extends Quill{constructor(t,e){super(t,e)}getConteudoHtml(t,e,o){const i=this.scroll.children.head;return this.setConteudo(this.converterHtmlParaDelta(t),Quill.sources.SILENT),this.deleteText(e+o,i.length()-o-1,Quill.sources.SILENT),e>0&&this.deleteText(0,e,Quill.sources.SILENT),i.domNode.innerHTML}converterHtmlParaDelta(t){return this.clipboard.convert(null!=t?t:"")}converterDeltaParaHtml(t){return this.setConteudo(t,Quill.sources.SILENT),this.scroll.children.head.domNode.innerHTML}setConteudo(t,e){var o;const i=this.scroll.children.head;let r=0;i.length()>1&&this.deleteText(r,i.length()-1,null!=e?e:Quill.sources.SILENT),this.insertText(r," ",Quill.sources.SILENT),null===(o=t.ops)||void 0===o||o.forEach((t=>{t.attributes?this.insertText(r,t.insert,t.attributes,null!=e?e:Quill.sources.SILENT):this.insertText(r,t.insert,null!=e?e:Quill.sources.SILENT),r+=t.insert.length})),this.deleteText(r,1,Quill.sources.SILENT)}}class Yb extends Quill{constructor(t,e,o){super(t,o),this._undoEstruturaVazio=!0,this._redoEstruturaVazio=!0,this._processandoMudancaLinha=!1,this.undoRedoEstrutura=new Ig,this.elementoSelecionado=new Ig,this.aspasAberta=!1,this.observableSelectionChange=new Ig,this.onSelectionChange=(t,e)=>{const o=this.linhaAtual;this._mudouDeLinha=this.verificarMudouLinha(t,e),this._mudouDeLinha&&(this.observableSelectionChange.notify(o),this.aspasAberta=!1,this.limparHistory())},this.onTextChange=()=>{this._linhaAtual&&setTimeout((()=>{this.linhaAtual.blotConteudo&&this.acertarAspas()}),0)},this.on("text-change",this.onTextChange),this.on("selection-change",this.onSelectionChange),this.buffer=new Zb(e,{}),this.root.addEventListener("dragstart",(t=>{t.preventDefault()})),this.root.addEventListener("drop",(t=>{t.preventDefault()}))}get mudouDeLinha(){var t;return null!==(t=this._mudouDeLinha)&&void 0!==t&&t}get linhaAnterior(){return this._linhaAnterior}get linhaAtual(){return this._linhaAtual}get inicioConteudoAtual(){return this.linhaAtual.blotConteudo?this.getIndex(this.linhaAtual.blotConteudo):0}get fimConteudoAtual(){return this.inicioConteudoAtual+this.linhaAtual.blotConteudo.tamanho}get textoSelecionado(){var t,e,o;const i=null!==(t=this.getSelection(!0))&&void 0!==t?t:{index:0,length:0},r=this.getText().substr(i.index,i.length);return{conteudo:r,quantidadeCR:null!==(o=null===(e=r.match(/(\n)/gi))||void 0===e?void 0:e.length)&&void 0!==o?o:0}}get isUndoEstruturaVazio(){return this._undoEstruturaVazio}set undoEstruturaVazio(t){this._undoEstruturaVazio=t}get isRedoEstruturaVazio(){return this._redoEstruturaVazio}set redoEstruturaVazio(t){this._redoEstruturaVazio=t}get isProcessandoMudancaLinha(){return this._processandoMudancaLinha}set processandoMudancaLinha(t){this._processandoMudancaLinha=t}static configurar(){const t=Yb.import("parchment"),e=new t.Attributor.Attribute("id","id",{scope:t.Scope.BLOCK}),o=new t.Attributor.Style("paddingLeft","padding-left",{scope:t.Scope.BLOCK}),i=new t.Attributor.Style("border","border",{scope:t.Scope.BLOCK}),r=new t.Attributor.Style("borderColor","border-color",{scope:t.Scope.BLOCK}),n=new t.Attributor.Style("display","display",{scope:t.Scope.BLOCK}),a=new t.Attributor.Style("aria-label","aria-label",{scope:t.Scope.BLOCK}),s=new t.Attributor.Attribute("dataRotulo","data-rotulo",{scope:t.Scope.BLOCK});Quill.import("ui/icons").bold=Lb,Yb.register("modules/clipboard",Vb,!0),Yb.register("modules/keyboard",Rb,!0),Yb.register(jb,!0),Yb.register(Mb,!0),Yb.register(Ob,!0),Yb.register(Ib,!0),Yb.register(Ab,!0),Yb.register(Ub,!0),Yb.register(_b,!0),Yb.register(wb,!0),Yb.register(zb,!0),Yb.register(Fb,!0),Yb.register(mb,!0),Yb.register(vb,!0),Yb.register(gb,!0),Yb.register(fb,!0),Yb.register(bb,!0),Yb.register(kb,!0),Yb.register(Wb,!0),Yb.register(Gb,!0),Yb.register(Xb,!0),Yb.register(e,!0),Yb.register(o,!0),Yb.register(i,!0),Yb.register(r,!0),Yb.register(n,!0),Yb.register(a,!0),Yb.register(s,!0)}destroi(){var t,e;this.off("text-change",this.onTextChange),this.off("selection-change",this.onSelectionChange),null===(t=this.keyboard)||void 0===t||t.operacaoTecladoInvalida.clean(),null===(e=this.keyboard)||void 0===e||e.adicionaElementoTeclaEnter.clean()}getConteudoHtmlParteLinha(t,e,o){return this.buffer.getConteudoHtml(t.html,e,o)}getPrimeiraLinha(){return this.scroll.children.head}getUltimaLinha(){return this.scroll.children.tail}getLinha(t,e=this.getPrimeiraLinha()){return e.uuid===t?e:e.next?this.getLinha(t,e.next):void 0}getLinhaPorId(t){return Quill.find(this.getHtmlElement(kb.criarId(t)),!1)}setIndex(t,e=Quill.sources.USER){var o;const i=null!==(o=this.getSelection(!0))&&void 0!==o?o:{index:0,length:0};if(t!==i.index||0!==i.length)try{this.setSelection(t,0,e)}catch(o){this.setSelection(t-1,0,e)}}setConteudoLinha(t,e,o){var i;let r=this.getIndex(t);t.length()>1&&this.deleteText(r,t.length()-1,null!=o?o:Quill.sources.SILENT),this.insertText(r," ",Quill.sources.SILENT),null===(i=e.ops)||void 0===i||i.forEach((t=>{t.attributes?this.insertText(r,t.insert,t.attributes,null!=o?o:Quill.sources.SILENT):this.insertText(r,t.insert,null!=o?o:Quill.sources.SILENT),r+=t.insert.length})),this.deleteText(r,1,Quill.sources.SILENT)}converterHtmlParaDelta(t){return this.buffer.converterHtmlParaDelta(t)}converterDeltaParaHtml(t){return this.buffer.converterDeltaParaHtml(t)}irProximaLinha(){var t;const e=this.getIndex(null===(t=this._linhaAtual)||void 0===t?void 0:t.next.blotConteudo);this.setSelection(e,0)}desmarcarLinhaAtual(t){this._linhaAnterior=t,null==t||t.desativarBorda()}marcarLinhaAtual(t){t&&"Articulacao"!==t.tipo&&(this.atualizarLinhaCorrente(t),this.elementoSelecionado.notify(t.uuid))}undo(){0===this.history.stack.undo.length?this.isUndoEstruturaVazio||this.undoRedoEstrutura.notify(Yb.UNDO):(this.history.undo(),this.focus())}redo(){0===this.history.stack.redo.length?this.isRedoEstruturaVazio||this.undoRedoEstrutura.notify(Yb.REDO):(this.history.redo(),this.focus())}limparHistory(){setTimeout((()=>{this.history.clear()}),0)}desmarcarLinhas(){document.querySelectorAll(".container__elemento--ativo").forEach((t=>{this.getLinhaPorId(parseInt(t.id.substr(7),0)).desativarBorda()}))}verificarMudouLinha(t,e){if(e&&0===(null==t?void 0:t.index)&&0===(null==t?void 0:t.length))return this.setSelection(e.index,0),!1;if(t){const o=this.getLine(t.index)[0],i=o.linha;if(o.tagName===bb.tagName||o.tagName===wb.tagName||o.tagName===fb.tagName||o.tagName===Fb.tagName||o.tagName===Mb.tagName||o.tagName===Ub.tagName||o.tagName===Ab.tagName?this.setSelection(this.getIndex(o.linha.blotConteudo),0,Quill.sources.SILENT):o.tagName!==Ob.tagName&&o.tagName!==Ib.tagName||this.setSelection(this.getIndex(o.linha.blotFechaAspas)-1,0,Quill.sources.SILENT),e){const t=this.getLine(e.index)[0];if(t){if(i===t.linha)return!1}}return this.desmarcarLinhas(),this.marcarLinhaAtual(i),!0}return!1}getHtmlElement(t){return this.root.querySelector(`#${t}`)}acertarAspas(){var t,e;if(this._linhaAtual){const o=this.inicioConteudoAtual,i=null!==(e=this.getText(o,null===(t=this.linhaAtual)||void 0===t?void 0:t.blotConteudo.tamanho))&&void 0!==e?e:"";let r=o;if(i.indexOf('"')>-1)for(let t=0;t<i.length;t++)'"'===i[t]&&(r+=t,this.deleteText(r,1,Quill.sources.SILENT),this.insertText(r,this.aspasAberta?"":"",Quill.sources.SILENT),this.aspasAberta=!this.aspasAberta,r=o)}}atualizarLinhaCorrente(t){this.processandoMudancaLinha=!0,this._linhaAtual=t,this._linhaAtual.blotConteudo.htmlAnt=this._linhaAtual.blotConteudo.html,t.ativarBorda(),this.scrollToElemento(t.uuid)}scrollToElemento(t){const e=this.getHtmlElement(kb.criarId(t));setTimeout((()=>{this.isInEtaBoxViewport(e)||this.scrollIntoEtaBox(e)}),0)}scrollIntoEtaBox(t){var e;const o=t.offsetTop;null===(e=t.closest(".ql-editor"))||void 0===e||e.scrollTo(0,o)}isInEtaBoxViewport(t){const e=t.getBoundingClientRect(),o=t.closest("#lx-eta-box").getBoundingClientRect().bottom;return e.top>=0&&e.bottom<=o}cursorDeTextoEstaSobreLink(t=0){var e;const o=this.getSelection(!0);if(o){const i=this.getContents(o.index+t,1).ops;return!(!i||!i[0])&&(null===(e=i[0].attributes)||void 0===e?void 0:e.link)}return!1}cursorDeTextoEstaSobreOmissis(){const t=this.getSelection(!0);if(t){return this.getLeaf(t.index)[0].text===ru}return!1}}Yb.UNDO="undo",Yb.REDO="redo";class Jb extends pb{constructor(){super(Jb.create())}get instanceBlotName(){return Jb.blotName}static create(){return super.create()}}Jb.blotName="EtaBlotQuebraLinha",Jb.tagName="BR";class ty{static criarContainerLinha(t){const e=new kb(t),o=new Xb(t.editavel,this.alinhamentoMenu),i=new Wb(t),r=new Gb(this.alinhamentoMenu);return t.abreAspas&&new Mb(t).insertInto(i),new bb(t).insertInto(i),!0===t.dispositivoAlteracao&&t.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&new Ab(t).insertInto(i),"Omissis"===t.tipo&&new Ub(t).insertInto(i),t.agrupador&&(new Jb).insertInto(i),new _b(t).insertInto(i),void 0!==t.fechaAspas&&t.fechaAspas&&(new Ob(t).insertInto(i),t.notaAlteracao&&new Ib(t).insertInto(i)),(new wb).insertInto(r),i.insertInto(o),r.insertInto(o),o.insertInto(e),e}static criarContainerMensagens(t){const e=new Xb(!1,this.alinhamentoMenu),o=new Wb(t),i=new Gb(this.alinhamentoMenu);return t.mensagens&&t.mensagens.length>0&&t.mensagens.forEach((t=>{new zb(t).insertInto(o)})),(new wb).insertInto(i),o.domNode.classList.add("container__texto--mensagem"),o.insertInto(e),i.insertInto(e),e}}ty.alinhamentoMenu=hb.Esquerda;const ey=t=>t.toString().padStart(2,"0");class oy{constructor(t="",e="",o="",i=[],r=[],n=""){this.urn="",this.nomePreferido="",this.nomesAlternativos=[],this.nomes=[],this.ementa="",this.nomePorExtenso="",this.urn=t,this.nomePreferido=e,this.nomesAlternativos=r,this.nomes=i,this.ementa=n,this.nomePorExtenso=o}numero(){return this.urn.split(";")[1]}tipo(){return this.urn.split(":")[4]}sData(){return this.urn.split(":")[5].split(";")[0]}data(){const t=this.sData();return new Date(t)}dataDDMMYYYY(){return(t=>[ey(t.getDate()),ey(t.getMonth()+1),t.getFullYear()].join("/"))(this.data())}}let iy=class extends ol{constructor(){super(...arguments),this.placeholder="",this.label="",this.items=[],this.opened=!1,this.maxSuggestions=10,this.onSearch=t=>console.log("Texto da pesquisa",t),this.onSelect=t=>console.log("Item selecionado:",t),this.onChange=t=>console.log("Mudana texto:",t),this._interval=1e3,this._bound={},this._blur=!1,this._mouseEnter=!1,this._search=()=>{const{value:t}=this.contentElement;clearTimeout(this._timer),t.length>=5&&(this._timer=setTimeout((()=>{this.onSearch(t)}),this._interval))}}render(){var t;return Ms`
      <style>
        .suggest-container {
          position: relative;
        }

        ul {
          position: absolute;
          display: block;
          list-style-type: none;
          margin: 0;
          padding: 0;
          z-index: 10000;
          border: 1px solid grey;
          background: white;
        }
        li {
          padding: 4px;
          cursor: pointer;
        }
        li.active {
          background: whitesmoke;
        }
        [hidden] {
          display: none;
        }

        .lexml-autocomplete-input {
          width: 100%;
        }

        @media (max-width: 576px) {
          .lexml-autocomplete-label {
            width: calc(100% - 2px);
            display: block;
          }
          .lexml-autocomplete-input {
            width: calc(100% - 2px);
          }
        }
      </style>
      <slot id="dropdown-input">
        <sl-input
          id="defaultInput"
          class="lexml-autocomplete-input"
          type="text"
          label=${this.label}
          placeholder=${this.placeholder}
          .value=${(null===(t=this.value)||void 0===t?void 0:t.description)||""}
          @change=${t=>this._handleChange(t.target.value)}
        ></sl-input>
      </slot>
      <div class="suggest-container">
        <ul id="suggestions" ?hidden=${!this.opened} @mouseenter=${this._handleItemMouseEnter} @mouseleave=${this._handleItemMouseLeave}>
          ${this.items.map((t=>Ms`<li @click=${()=>this.autocomplete(t)}>${t.description}</li>`))}
        </ul>
      </div>
    `}get contentElement(){if(this._inputEl)return this._inputEl;if(!this.hasUpdated)return;const t=this.shadowRoot.getElementById("dropdown-input").assignedElements();return this._inputEl=t.length?t[0]:this.shadowRoot.getElementById("defaultInput"),this._inputEl}get value(){return this.contentElement&&this.contentElement.value}set value(t){this.contentElement?this.contentElement.value=t:this._tempValue=t}firstUpdated(){this._suggestionEl=this.shadowRoot.getElementById("suggestions"),this._suggestionEl.style.width=`${this.contentElement.getBoundingClientRect().width}px`,this._bound.onKeyDown=this._handleKeyDown.bind(this),this._bound.onKeyUp=this._handleKeyUp.bind(this),this._bound.onFocus=this._handleFocus.bind(this),this._bound.onBlur=this._handleBlur.bind(this),this._bound.onChange=this._handleChange.bind(this),this.contentElement.addEventListener("keydown",this._bound.onKeyDown),this.contentElement.addEventListener("keyup",this._bound.onKeyUp),this.contentElement.addEventListener("focus",this._bound.onFocus),this.contentElement.addEventListener("blur",this._bound.onBlur),this.contentElement.addEventListener("sl-input",this._bound.onChange),void 0!==this._tempValue&&(this.contentElement.value=this._tempValue)}disconnectedCallback(){this.contentElement&&(this.contentElement.removeEventListener("keydown",this._bound.onKeyDown),this.contentElement.removeEventListener("keyup",this._bound.onKeyUp),this.contentElement.removeEventListener("focus",this._bound.onFocus),this.contentElement.removeEventListener("blur",this._bound.onBlur),this.contentElement.removeEventListener("sl-input",this._bound.onChange))}focus(t){this.contentElement&&this.contentElement.focus(t)}updated(t){t.has("items")&&(this.items.length>1||1===this.items.length&&this.items[0]!==this.contentElement.value?this.open():this.close()),t.has("opened")&&this.opened&&this._suggestionEl.childElementCount&&(this._highlightedEl=this._suggestionEl.children[0],this._highlightedEl.classList.add("active"))}open(){"0px"===this._suggestionEl.style.width&&(this._suggestionEl.style.width=`${this.contentElement.getBoundingClientRect().width}px`),this.items.length&&(this.opened=!0)}close(){this.opened=!1,this._highlightedEl=null}autocomplete(t){this.contentElement.value=t,this.onSelect(t),this.close()}_highlightPrev(){this._highlightedEl&&this._highlightedEl.previousElementSibling&&(this._highlightedEl.classList.remove("active"),this._highlightedEl=this._highlightedEl.previousElementSibling,this._highlightedEl.classList.add("active"))}_highlightNext(){this._highlightedEl&&this._highlightedEl.nextElementSibling&&(this._highlightedEl.classList.remove("active"),this._highlightedEl=this._highlightedEl.nextElementSibling,this._highlightedEl.classList.add("active"))}_handleChange(t){this.onChange(t)}_handleKeyDown(t){"ArrowUp"!==t.key&&"ArrowDown"!==t.key||(t.preventDefault(),t.stopPropagation())}_handleKeyUp(t){var e,o;switch(t.key){case"ArrowUp":(null===(e=this._highlightedEl)||void 0===e?void 0:e.previousElementSibling)&&(t.preventDefault(),t.stopPropagation(),this._highlightPrev());break;case"ArrowDown":(null===(o=this._highlightedEl)||void 0===o?void 0:o.nextElementSibling)&&(t.preventDefault(),t.stopPropagation(),this._highlightNext());break;case"Enter":this._highlightedEl&&this._highlightedEl.click(),this.contentElement.blur();break;default:this._search()}}_handleFocus(){this._blur=!1,this.items.length>1&&this.open()}_handleBlur(){this._blur=!0,setTimeout((()=>this.close()),200)}_handleItemMouseEnter(){this._mouseEnter=!0}_handleItemMouseLeave(){this._mouseEnter=!1,this._blur&&setTimeout((()=>this.close()),500)}};ns([al({type:String})],iy.prototype,"placeholder",void 0),ns([al({type:String})],iy.prototype,"label",void 0),ns([al({type:Array,reflect:!0})],iy.prototype,"items",void 0),ns([al({type:Boolean,reflect:!0})],iy.prototype,"opened",void 0),ns([al({type:Number})],iy.prototype,"maxSuggestions",void 0),ns([al({type:Function})],iy.prototype,"onSearch",void 0),ns([al({type:Function})],iy.prototype,"onSelect",void 0),ns([al({type:Function})],iy.prototype,"onChange",void 0),ns([al({type:String})],iy.prototype,"value",null),iy=ns([rl("autocomplete-async")],iy);class ry{constructor(t,e){this.description=e,this.value=t}}let ny=class extends ol{constructor(){super(...arguments),this.urnInicial="",this.onSelect=t=>{},this._selectedNorma=new oy,this._optionsNorma=[],this._normas=[]}async _searchNormas(t){try{const e=await fetch(`api/autocomplete-norma?query=${t}`);return(await e.json()).map((t=>new oy(t.urn,t.nomePreferido,t.nomePorExtenso,t.nomes,t.nomesAlternativos,t.ementa)))}catch(t){console.log("Erro inesperado ao consultar as normas"),console.log(t)}return Promise.resolve([])}_updateNormas(t){const e=t.replace(/[,;]| n /gi," ").replaceAll(".","").toLowerCase();this._searchNormas(e).then((t=>{this._normas=t,this._optionsNorma=t.map((t=>new ry(t.urn,t.nomePreferido)))}))}_handleSearch(t){this._updateNormas(t)}_handleSelect(t){const e=this._normas.find((e=>e.urn===t.value));e&&(this._selectedNorma=e,this.onSelect(this._selectedNorma))}_getNormaByURN(t){const e=new oy(t),o=`${e.sData()} ${e.numero()}`;this._searchNormas(o).then((e=>{this._selectedNorma=e.find((e=>e.urn===t)),this.onSelect(this._selectedNorma),this._autoCompleteAsync.value=this._selectedNorma.nomePreferido}))}firstUpdated(){this.urnInicial&&this._getNormaByURN(this.urnInicial)}_handleChange(t){this._selectedNorma=new oy,this.onSelect(this._selectedNorma)}render(){return Ms`<style>
        .ajuda,
        .sp-ementa {
          font-size: var(--sl-font-size-small);
          font-weight: normal;
        }
        .wp-ementa {
          height: 85px;
          margin-top: 10px;
          overflow-y: auto;
        }
        .wp-ementa p {
          margin: 0;
        }
        .lb-ementa {
          display: block;
          margin-top: 10px;
        }
      </style>
      <div>
        <autocomplete-async
          id="auto-complete-async"
          label="Identificao da norma"
          placeholder="ex: Lei 10406 ou Cdigo Civil"
          .items=${this._optionsNorma}
          .onSearch=${t=>this._handleSearch(t)}
          .onSelect=${t=>this._handleSelect(t)}
          .onChange=${t=>this._handleChange(t)}
        ></autocomplete-async>
        <span class="ajuda">Informar a identificao da norma com tipo e nmero ou o apelido da norma. So aceitas abreviaes como LCP e MPV.</span>
        <label class="lb-ementa">Ementa:</label>
        <div class="wp-ementa"><span class="sp-ementa">${(this._selectedNorma.ementa||"").slice(0,450)}</span></div>
      </div>`}};async function ay(t,e,o,i){const r=document.createElement("sl-dialog");document.body.appendChild(r),r.label="Assistente de alterao de norma",r.addEventListener("sl-request-close",(t=>{"overlay"===t.detail.source&&t.preventDefault()}));const n=document.createRange().createContextualFragment('\n  <style>\n    .ajuda {\n      font-size: var(--sl-font-size-small);\n      font-weight: normal;\n    }\n\n    sl-radio-group::part(base) {\n      display: grid;\n      grid-template-columns: 230px 1fr;\n      grid-gap: 0px;\n      flex-wrap: wrap;\n    }\n\n    sl-radio::part(base) {\n      display: flex;\n      flex-direction: row;\n    }\n\n    sl-radio-group sl-input::part(form-control) {\n      display: flex;\n      flex-direction: row;\n      gap: 10px;\n      align-items: center;\n      flex-wrap: wrap;\n    }\n\n    #dataNorma::part(form-control-input){\n      max-width: 160px;\n    }\n    #anoNorma::part(form-control-input){\n      max-width: 90px;\n    }\n\n    @media (max-width: 520px) {\n      sl-radio-group::part(base) {\n        display: flex;\n        grid-template-columns: column;\n        gap: 10px;\n        flex-wrap: wrap;\n      }\n    }\n  </style>\n  <autocomplete-norma id="auto-norma"></autocomplete-norma>\n  <br />\n    <sl-input name="dispositivos" id="dispositivos" placeholder="ex: inciso I do  3 do Art.1" label="Dispositivo da norma" clearable></sl-input>\n    <span class="ajuda">Informar apenas um dispositivo. Depois podero ser adicionados outros.</span>\n    <p class="ajuda" style="margin-block-end: 0;">\n      Terminar sempre com o artigo, por exemplo:\n    </p>\n    <ul class="ajuda" style="margin-block-start: .3em; margin-block-end: 0;">\n      <li>item 9 da alnea b do inciso V do pargrafo 4 do artigo 12-B</li>\n      <li>ali c, inc X, par 6, art 1</li>\n      <li> 8 art 32</li>\n      <li>pargrafo nico do art 7</li>\n    </ul>\n  </div>\n  <br/>\n  <sl-alert variant="warning" closable class="alert-closable">\n    <sl-icon slot="icon" name="exclamation-triangle"></sl-icon>\n    <strong>Dados invlidos.</strong><br/>\n    <span>Revise os dados informados.</span>\n  </sl-alert>\n  <sl-button slot="footer" variant="default">Cancelar</sl-button>\n  <sl-button slot="footer" variant="primary">Ok</sl-button>\n  ');let a=new oy;const s=n.querySelector("#auto-norma"),l=n.querySelector("#dispositivos"),c=n.querySelectorAll("sl-button"),u=c[0],d=c[1],p=n.querySelector("sl-alert"),h=p.querySelector("strong"),f=p.querySelector("span"),m=(t="Dados invlidos.",e="Revise os dados informados.")=>{h.innerHTML=t,f.innerHTML=e};s.onSelect=t=>{a=t},d.onclick=()=>{let n=!1;const s=null==l?void 0:l.value;if(m(),a.urn)if(s&&s.length>0)try{Pf(s,xf(wf(),Cl.artigo.tipo))}catch(t){m("Dispositivo da norma no identificado.","Informe apenas um dispositivo em um dos formatos acima. Depois ser possvel alterar outros dispositivos."),n=!0}else m("Informe o dispositivo da norma a ser alterada.","Informe apenas um dispositivo em um dos formatos acima. Depois ser possvel alterar outros dispositivos."),n=!0;else m("Dados invlidos","Identifique uma norma a ser alterada."),n=!0;n?null==p||p.show():(e.focus(),null==p||p.hide(),null==r||r.hide(),null==r||r.remove(),t.norma=a.urn,o.dispatch(i.execute(t,a.urn,s)))},u.onclick=()=>{e.focus(),null==r||r.hide(),null==r||r.remove()},e.blur(),await r.appendChild(n),await r.show(),s.focus()}ns([al({type:String})],ny.prototype,"urnInicial",void 0),ns([al({type:Function})],ny.prototype,"onSelect",void 0),ns([sl()],ny.prototype,"_selectedNorma",void 0),ns([sl()],ny.prototype,"_optionsNorma",void 0),ns([cl("#auto-complete-async")],ny.prototype,"_autoCompleteAsync",void 0),ny=ns([rl("autocomplete-norma")],ny);let sy=class extends(pl(yg)(ol)){constructor(){super(),this.eventosOnChange=[],this.inscricoes=[],this.onSelectionChange=(t,e,o)=>{0===(null==t?void 0:t.length)&&o===Quill.sources.USER&&this.ajustarLinkParaNorma()},this.tabIndex=-1}get quill(){return this._quill}createRenderRoot(){return this}async firstUpdated(){this.inicializar(this.configEditor()),this.querySelectorAll(".ql-bold, .ql-italic, .ql-script").forEach((t=>{t.addEventListener("click",(t=>{t.stopImmediatePropagation()}))}))}stateChanged(t){var e,o,i;this.quill?(this.quill.undoEstruturaVazio=0===(null!==(e=t.elementoReducer.past)&&void 0!==e?e:[]).length,this.quill.redoEstruturaVazio=0===(null!==(o=t.elementoReducer.future)&&void 0!==o?o:[]).length,t.elementoReducer.ui&&(t.elementoReducer.ui.message?this.alertar(t.elementoReducer.ui.message.descricao):"AtualizacaoAlertas"!==(null===(i=t.elementoReducer.ui.events[0])||void 0===i?void 0:i.stateType)&&this.processarStateEvents(t.elementoReducer.ui.events))):this.quillNaoInicializado(t)}disconnectedCallback(){this.inscricoes.forEach((t=>t.cancel())),this.removeEventListener("ontextchange",(t=>console.log(t))),this.removeEventListener("rotulo",(t=>console.log(t))),this.removeEventListener("nota-alteracao",(t=>console.log(t))),this.removeEventListener("toggle-existencia",(t=>console.log(t))),this.destroiQuill(),super.disconnectedCallback()}render(){return Ms`
      ${nb}
      ${rb}
      <style>
        :host {
          --lx-eta-editor-height: 100%;
          --lx-eta-editor-overflow: display;
        }
        #lx-eta-editor {
          overflow: var(--lx-eta-editor-overflow);
          display: block;
          height: calc(100% - 12px);
        }
        .sl-toast-stack sl-alert::part(base) {
          background-color: var(--sl-color-danger-100);
        }
      </style>
      <div id="lx-eta-box">
        <div id="lx-eta-barra-ferramenta">
          <button class="ql-bold" title="Negrito (Ctrl+b)"></button>
          <button class="ql-italic" title="Itlico (Ctrl+i)"></button>
          <button class="ql-script" value="sub" title="Subscrito"></button>
          <button class="ql-script" value="super" title="Sobrescrito"></button>

          <button @click=${this.onClickUndo} class="lx-eta-ql-button lx-eta-btn-desfazer" title="Desfazer (Ctrl+Z)">
            <svg class="icon-undo-redo" id="undo" viewBox="0 0 512 512">
              <path
                d="M488,256c0,123.4-100.5,223.9-223.9,223.9c-48.8,0-95.2-15.6-134.2-44.9c-14.1-10.6-17-30.7-6.4-44.8 c10.6-14.1,30.6-16.9,44.8-6.4c27.8,20.9,61,31.9,95.9,31.9c88.1,0,159.8-71.7,159.8-159.8S352.3,96.2,264.2,96.2 c-37.5,0-73.1,13.5-101.3,36.6L208,178c17,17,5,46.1-19.1,46.1H43.2c-10.6,0-19.2-8.6-19.2-19.2V59C24,35,53.1,23,70.1,40l47.6,47.6 c40.2-34.9,91.8-55.5,146.4-55.5C387.5,32.1,488,132.6,488,256z"
              />
            </svg>
          </button>
          <button @click=${this.onClickRedo} class="lx-eta-ql-button" title="Refazer (Ctrl+y)">
            <svg class="icon-undo-redo lx-eta-rebate-180-graus" id="redo" viewBox="0 0 512 512">
              <path
                d="M488,256c0,123.4-100.5,223.9-223.9,223.9c-48.8,0-95.2-15.6-134.2-44.9c-14.1-10.6-17-30.7-6.4-44.8 c10.6-14.1,30.6-16.9,44.8-6.4c27.8,20.9,61,31.9,95.9,31.9c88.1,0,159.8-71.7,159.8-159.8S352.3,96.2,264.2,96.2 c-37.5,0-73.1,13.5-101.3,36.6L208,178c17,17,5,46.1-19.1,46.1H43.2c-10.6,0-19.2-8.6-19.2-19.2V59C24,35,53.1,23,70.1,40l47.6,47.6 c40.2-34.9,91.8-55.5,146.4-55.5C387.5,32.1,488,132.6,488,256z"
              />
            </svg>
          </button>
          <button type="button" class="ql-clean">
            <svg class="" viewBox="0 0 18 18">
              <line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"></line>
              <line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"></line>
              <line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"></line>
              <line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"></line>
              <rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"></rect>
            </svg>
          </button>

          <input type="button" @click=${this.artigoOndeCouber} class="${"ql-hidden"} btn--artigoOndeCouber" value="Propor artigo onde couber" title="Artigo onde couber"></input>
          <div class="mobile-buttons">
            <button class="mobile-button" title="Comando" @click=${this.showComandoEmendaModal}>
              <sl-icon name="code"></sl-icon>
              <span>Comando</span>
            </button>
            <button class="mobile-button" title="Dicas" @click=${this.showAjudaModal}>
              <sl-icon name="lightbulb"></sl-icon>
              <span>Dicas</span>
            </button>
            <button class="mobile-button" title="Atalhos" @click=${this.showAtalhosModal}>
              <sl-icon name="keyboard"></sl-icon>
              <span>Atalhos</span>
            </button>
          </div>
        </div>
        <div id="lx-eta-editor"></div>
      </div>
      <elix-toast id="toast-alerta" duration="3000">
        <div id="toast-msg"></div>
      </elix-toast>
      <div id="lx-eta-buffer"><p></p></div>
      <lexml-ajuda-modal></lexml-ajuda-modal>
      <lexml-emenda-comando-modal></lexml-emenda-comando-modal>
      <lexml-atalhos-modal></lexml-atalhos-modal>
    `}showAjudaModal(){this.ajudaModal.show()}showAtalhosModal(){this.atalhosModal.show()}showComandoEmendaModal(){this.comandoEmendaModal.show()}formatacaoAlterada(){var t;(null===(t=document.getSelection())||void 0===t?void 0:t.toString())&&this.agendarEmissaoEventoOnChange("toolbar")}onClickUndo(){this.quill.undo()}onClickRedo(){this.quill.redo()}artigoOndeCouber(){}ajustarLinkParaNorma(){const t=document.querySelector("a.ql-preview"),e=null==t?void 0:t.getAttribute("href");if(null==e?void 0:e.startsWith("urn")){const o="https://normas.leg.br/?urn="+e;t.setAttribute("href",o),t.innerHTML=(t=>{var e;const o=kp(t),i=Ep(o),r=null===(e=Ap(o))||void 0===e?void 0:e.descricao,n=Ip(o);return(r||"")+(i?" n "+i:"")+(n.length>7?" de "+n:"")})(e)}}onBold(t){this.quill.keyboard.verificarOperacaoTecladoPermitida()&&(this.quill.format("bold",t),this.formatacaoAlterada())}onItalic(t){this.quill.keyboard.verificarOperacaoTecladoPermitida()&&(this.quill.format("italic",t),this.formatacaoAlterada())}onScript(t){this.quill.keyboard.verificarOperacaoTecladoPermitida()&&(this.quill.format("script",t),this.formatacaoAlterada())}onOperacaoInvalida(){this.alertar("Operao no permitida.")}isDesmembramento(t,e,o){return 0!==(e+o).localeCompare(t)}adicionarElemento(t){var e,o;const i=this.quill.linhaAtual,r=i.blotConteudo,n=null!==(e=this.quill.inicioConteudoAtual)&&void 0!==e?e:0,a=null!==(o=n+r.tamanho)&&void 0!==o?o:0;let s="",l="";if(t.index===n)s="",l=r.html;else if(t.index===a)s=r.html,l="";else{const e=a-t.index;s=this.quill.getConteudoHtmlParteLinha(r,0,r.tamanho-e),l=this.quill.getConteudoHtmlParteLinha(r,t.index-n,e)}const c=this.criarElemento(i.uuid,i.lexmlId,i.tipo,s,i.numero,i.hierarquia);if(this.isDesmembramento(r.htmlAnt,s,l)){const t=this.criarElemento(i.uuid,i.lexmlId,i.tipo,s+l,i.numero,i.hierarquia);yg.dispatch(rc.execute(t))}yg.dispatch(Nl.execute(c,l))}editarNotaAlteracao(t){((t,e,o)=>{const i=document.createElement("sl-dialog");document.body.appendChild(i),i.label="Nota de alterao",i.addEventListener("sl-request-close",(t=>{"overlay"===t.detail.source&&t.preventDefault()}));const r=document.createRange().createContextualFragment('\n  <sl-radio-group fieldset label="Selecione o tipo de nota de alterao:">\n    <sl-radio class="nota" id="nota-nr" value="NR">Nova redao \'(NR)\'</sl-radio>\n    <sl-radio class="nota" id="nota-ac" value="AC">Acrscimo \'(AC)\'</sl-radio>\n    <sl-radio class="nota" id="nota-vazia" value="">Sem nota de alterao</sl-radio>\n  </sl-radio-group>\n  <sl-button slot="footer" variant="default">Cancelar</sl-button>\n  <sl-button slot="footer" variant="primary">Ok</sl-button>\n  ');({NR:r.querySelector("#nota-nr"),AC:r.querySelector("#nota-ac"),VZ:r.querySelector("#nota-vazia")})[t.notaAlteracao||"VZ"].checked=!0;const n=r.querySelectorAll("sl-button"),a=n[0];n[1].onclick=()=>{const e=document.querySelector('sl-radio.nota[aria-checked="true"]').value;t.notaAlteracao!==e&&o.dispatch(tu.execute(t,e)),null==i||i.hide(),null==i||i.remove()},a.onclick=()=>{e.focus(),null==i||i.hide(),null==i||i.remove()},e.blur(),i.appendChild(r),i.show()})(t,this.quill,yg)}async renumerarElemento(){var t,e,o;const i=this.quill.linhaAtual,r=i.blotConteudo.html,n=this.criarElemento(null!==(t=i.uuid)&&void 0!==t?t:0,i.lexmlId,null!==(e=i.tipo)&&void 0!==e?e:"","",i.numero,i.hierarquia,i.descricaoSituacao,i.existeNaNormaAlterada);if(!((t,e)=>{var o,i,r,n;const a=hh(t,e);return void 0!==a&&void 0!==(null===(i=null===(o=e.hierarquia)||void 0===o?void 0:o.pai)||void 0===i?void 0:i.uuidAlteracao)&&e.descricaoSituacao!==ou.DISPOSITIVO_ORIGINAL&&e.descricaoSituacao!==ou.DISPOSITIVO_SUPRIMIDO&&!(pd(a)&&a.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&"1"===(null===(r=Xu(a))||void 0===r?void 0:r.numero)&&(null===(n=Xu(a))||void 0===n?void 0:n.situacao.descricaoSituacao)!==ou.DISPOSITIVO_ADICIONADO)})(yg.getState().elementoReducer.articulacao,n))return void this.alertar("Nessa situao, no  possvel renumerar o dispositivo");const a=document.createElement("sl-dialog");document.body.appendChild(a),a.label="Informar numerao",a.addEventListener("sl-request-close",(t=>{"overlay"===t.detail.source&&t.preventDefault()}));const s=document.createRange().createContextualFragment(`\n      <div class="input-validation-required">\n        <sl-input type="text" help-text="${(t=>{var e;const o=t.toLowerCase(),i=null===(e=Cl[o].descricao)||void 0===e?void 0:e.toLowerCase();if(o){if(["artigo","paragrafo","item"].includes(o))return"Digite o nmero do "+i+". Ex: 5, 6-A"+("paragrafo"===o?", nico":"");if("alinea"===o)return"Digite a letra da "+i+". Ex: b, c-A";return`Digite o nmero romano d${["parte","secao","subsecao"].includes(o)?"a":"o"} ${i}. Ex: II, III-A'`}return""})(null!==(o=n.tipo)&&void 0!==o?o:"")}" label="Numerao do dispositivo:" clearable></sl-input>\n        <br/>\n      </div>\n      <br/>\n      <sl-alert variant="warning" closable class="alert-closable">\n        <sl-icon slot="icon" name="exclamation-triangle"></sl-icon>\n        <div class="erro"></div>\n      </sl-alert>\n      <sl-button slot="footer" variant="default">Cancelar</sl-button>\n      <sl-button slot="footer" variant="primary">Ok</sl-button>\n    `),l=s.querySelector("sl-input");var c;l.value=`${c=i.blotRotulo.rotulo,c.replace(/\./g,"").replace(/["]/g,"").replace(/^Parte/i,"").replace(/^Livro/i,"").replace(/^T[i]tulo/i,"").replace(/^Cap[i]tulo/i,"").replace(/^Se[c][a]o/i,"").replace(/^Subse[c][a]o/i,"").replace(/^Artigo$/i,"").replace(/^Par[a]grafo$/i,"").replace(/^Inciso$/i,"").replace(/^Al[i]nea$/i,"").replace(/^Item$/i,"").replace(/Art/i,"").replace(//i,"").replace(//i,"").replace(/[]/i,"").replace(/[-][/s]*$/,"").replace(/[)][/s]*$/,"").trim()}`;const u=s.querySelectorAll("sl-button"),d=u[0],p=u[1],h=s.querySelector(".erro"),f=s.querySelector("sl-alert");p.onclick=()=>{var t;this.quill.focus(),null==a||a.hide(),null==a||a.remove(),(null===(t=n.conteudo)||void 0===t?void 0:t.texto)!==r&&(n.conteudo.texto=r,yg.dispatch(oc.execute(n))),yg.dispatch(xc.execute(n,l.value.trim()))},d.onclick=()=>{this.quill.focus(),null==a||a.hide(),null==a||a.remove()};const m=()=>{const t=l.value;return/^\s*$/.test(t)?"A numerao no pode ser vazia.":""},v=t=>{let e=m();e||!n.tipo||((t,e)=>{const o=t.split("-"),i=o[0],r="-"+o.slice(1,o.length).join("-"),n=(Xp[e]||$p)(i)&&"0"!==i;return 1===o.length?n:n&&/^(-[a-z]{1,2}){1,2}$/i.test(r)})(l.value,n.tipo)||(e="Numerao invlida."),h.innerText=e,e?null==f||f.show():null==f||f.hide(),p.disabled=Boolean(e),p.disabled||"Enter"===t.key&&p.click()};l.addEventListener("keyup",v),l.addEventListener("sl-clear",v),a.appendChild(s),await(null==a?void 0:a.show()),p.disabled=Boolean(m()),l.focus()}toggleExistencia(){var t,e;const o=this.quill.linhaAtual,i=this.criarElemento(null!==(t=o.uuid)&&void 0!==t?t:0,o.lexmlId,null!==(e=o.tipo)&&void 0!==e?e:"","",o.numero,o.hierarquia,o.descricaoSituacao,o.existeNaNormaAlterada);this.toggleExistenciaElemento(i)}adicionaAgrupador(){this.adicionarAgrupadorArtigo(this.quill.linhaAtual.elemento)}adicionarAgrupadorArtigo(t){((t,e,o)=>{var i,r;Array.from(document.querySelectorAll("#slDialogAdicionarAgrupadorArtigo")).forEach((t=>document.body.removeChild(t)));const n=null===(r=null===(i=t.hierarquia)||void 0===i?void 0:i.pai)||void 0===r?void 0:r.tipo,a=t.agrupador?t.tipo:"Articulacao"===n?"Capitulo":n,s=document.createElement("sl-dialog");s.id="slDialogAdicionarAgrupadorArtigo",document.body.appendChild(s),s.label="Adicionar agrupador de artigo",s.addEventListener("sl-request-close",(t=>{"overlay"===t.detail.source&&t.preventDefault()}));const l=document.createRange().createContextualFragment(`\n  <style>\n\n    #chkManterNoMesmoGrupoDeAspas {\n      margin: 10px;\n    }\n    #chkManterNoMesmoGrupoDeAspas[disabled] {\n      display: none;\n    }\n    #rdgPosicao {\n      margin-top: 20px;\n    }\n\n  </style>\n  <div class="agrupadores">\n    <sl-radio-group fieldset label="Tipo de agrupador" id="rdgTipoAgrupador">\n      <sl-radio class="tipo-agrupador" id="Parte" value="Parte">Parte</sl-radio>\n      <sl-radio class="tipo-agrupador" id="Livro" value="Livro">Livro</sl-radio>\n      <sl-radio class="tipo-agrupador" id="Titulo" value="Titulo">Ttulo</sl-radio>\n      <sl-radio class="tipo-agrupador" id="Capitulo" value="Capitulo">Captulo</sl-radio>\n      <sl-radio class="tipo-agrupador" id="Secao" value="Secao">Seo</sl-radio>\n      <sl-radio class="tipo-agrupador" id="Subsecao" value="Subsecao">Subseo</sl-radio>\n    </sl-radio-group>\n  </div>\n  <div style="display: ${"Artigo"===t.tipo?"none":"block"};">\n    <sl-radio-group fieldset label="Posicionamento" id="rdgPosicao">\n      <sl-radio class="posicao-agrupador" id="posicao-antes" value="antes">Antes</sl-radio>\n      <sl-radio class="posicao-agrupador" id="posicao-depois" value="depois" checked>Depois</sl-radio>\n    </sl-radio-group>\n  </div>\n  <div>\n    <sl-checkbox id="chkManterNoMesmoGrupoDeAspas">Manter no mesmo grupo de aspas</sl-checkbox>\n  </div>\n  <sl-button slot="footer" variant="default">Cancelar</sl-button>\n  <sl-button slot="footer" variant="primary">Ok</sl-button>\n  `),c=Array.from(l.querySelectorAll(".tipo-agrupador")),u=[...t.tiposAgrupadoresQuePodemSerInseridosAntes];"Artigo"!==t.tipo&&u.push(...t.tiposAgrupadoresQuePodemSerInseridosDepois);const d=1===u.length?u[0]:a,p=c.find((t=>t.value===d));p.checked=!0,c.forEach((t=>{t.disabled=!u.includes(t.value),t.checked=!t.disabled&&t.checked}));const h=l.querySelectorAll("sl-button"),f=h[0],m=h[1],v=l.querySelector("#posicao-antes"),g=l.querySelector("#posicao-depois"),b=l.querySelector("#chkManterNoMesmoGrupoDeAspas");let y=!1;b.checked=y;const x="Artigo"===t.tipo?Al:El,_=()=>{var e;const o=null===(e=document.querySelector('sl-radio.posicao-agrupador[aria-checked="true"]'))||void 0===e?void 0:e.value,i=t.abreAspas&&t.fechaAspas;t.agrupador?i?(b.disabled=!1,b.checked=y):!t.abreAspas&&!t.fechaAspas||t.abreAspas&&"depois"===o||t.fechaAspas&&"antes"===o?(b.disabled=!0,b.checked=!0):(b.disabled=!1,b.checked=y):(b.disabled=!0,b.checked=!t.abreAspas)};b.onchange=t=>{y=t.target.checked},setTimeout((()=>_()),0),l.querySelector("#rdgPosicao").onclick=()=>{_()},l.querySelector("#rdgTipoAgrupador").onclick=e=>{"Artigo"!==t.tipo&&u.includes(e.target.value)&&(v.disabled=!t.tiposAgrupadoresQuePodemSerInseridosAntes.includes(e.target.value),g.disabled=!t.tiposAgrupadoresQuePodemSerInseridosDepois.includes(e.target.value),v.disabled||g.disabled?(v.checked=!v.disabled,g.checked=!g.disabled):(v.checked=!1,g.checked=!0),_())},m.onclick=()=>{const e=document.querySelector('sl-radio.tipo-agrupador[aria-checked="true"]').value,i="Artigo"===t.tipo?"antes":document.querySelector('sl-radio.posicao-agrupador[aria-checked="true"]').value,r=b.checked;e&&o.dispatch(x.execute(t,e,void 0,i,r)),null==s||s.hide(),document.body.removeChild(s)},f.onclick=()=>{e.focus(),null==s||s.hide(),document.body.removeChild(s)},setTimeout((()=>p.click()),0),e.blur(),s.appendChild(l),s.show()})(t,this.quill,yg)}toggleExistenciaElemento(t){const e=t.existeNaNormaAlterada?uc:cc;yg.dispatch(e.execute(t))}removerElementoSemTexto(t){var e,o;const i=this.quill.linhaAtual,r=this.criarElemento(null!==(e=i.uuid)&&void 0!==e?e:0,i.lexmlId,null!==(o=i.tipo)&&void 0!==o?o:"","",i.numero,i.hierarquia);yg.dispatch(eu.execute(r,t))}removerElemento(){var t;const e=this.quill.linhaAtual,o=`Voc realmente deseja remover o dispositivo ${null===(t=e.blotRotulo)||void 0===t?void 0:t.rotulo}?`;this.confirmar(o,["Sim","No"],(t=>{var o,i;if("Sim"===t.detail.closeResult){const t=this.criarElemento(null!==(o=e.uuid)&&void 0!==o?o:0,e.lexmlId,null!==(i=e.tipo)&&void 0!==i?i:"","",e.numero,e.hierarquia);yg.dispatch(bc.execute(t))}this.quill.focus()}))}moverElemento(t){const e=this.quill.linhaAtual,o=e.blotConteudo.html,i=this.criarElemento(e.uuid,e.lexmlId,e.tipo,o,e.numero,e.hierarquia);"ArrowUp"===t.key?yg.dispatch(vc.execute(i)):"ArrowDown"===t.key&&yg.dispatch(fc.execute(i))}transformarElemento(t){const e=this.quill.linhaAtual,o=e.blotConteudo.html,i=this.criarElemento(e.uuid,e.lexmlId,e.tipo,o,e.numero,e.hierarquia);"o"===t.key.toLowerCase()?yg.dispatch(((t,e)=>new Ec(Cl[e.toLowerCase()],"Transformar "+t.tipo+"em "+Cl[e.toLowerCase()].name,"transformar"+t.tipo+"Em"+Cl[e.toLowerCase()].name).execute(t))(i,Cl.omissis.name)):Db.keys.TAB&&yg.dispatch(t.shiftKey?{type:"SHIFT_TAB",atual:i}:(t=>({type:"TAB",atual:t}))(i))}elementoSelecionado(t){var e;const o=this.quill.linhaAtual,i=this.criarElemento(t,o.lexmlId,null!==(e=o.tipo)&&void 0!==e?e:"","",o.numero,o.hierarquia);yg.dispatch(ac.execute(i)),this.quill.processandoMudancaLinha=!1}undoRedoEstrutura(t){"undo"===t?yg.dispatch({type:"UNDO"}):yg.dispatch({type:"REDO"})}processarStateEvents(t){null==t||t.forEach((e=>{var o;switch(e.stateType){case yh.DocumentoCarregado:this.destroiQuill(),this.inicializar(this.configEditor()),this.carregarArticulacao(null!==(o=e.elementos)&&void 0!==o?o:[]);break;case yh.InformarDadosAssistente:ay(e.elementos[0],this.quill,yg,Sl);break;case yh.InformarNorma:!async function(t,e,o,i){const r=document.createElement("sl-dialog");document.body.appendChild(r),r.label="Dados da norma vigente",r.addEventListener("sl-request-close",(t=>{"overlay"===t.detail.source&&t.preventDefault()}));const n=document.createRange().createContextualFragment(`\n\n  <div class="input-validation-required">\n    <autocomplete-norma id="auto-norma" urnInicial="${t.norma}"></autocomplete-norma>\n  </div>\n  <br/>\n  <sl-alert variant="warning" closable class="alert-closable">\n    <sl-icon slot="icon" name="exclamation-triangle"></sl-icon>\n    <strong>Dados invlidos.</strong><br/>\n    Identifique uma norma a ser alterada.\n  </sl-alert>\n  <sl-button slot="footer" variant="default">Cancelar</sl-button>\n  <sl-button slot="footer" variant="primary">Ok</sl-button>\n  `),a=n.querySelector("#auto-norma"),s=n.querySelectorAll("sl-button"),l=s[0],c=s[1],u=n.querySelector("sl-alert");let d="";a.onSelect=t=>{d=t.urn},c.onclick=()=>{d?(e.focus(),null==u||u.hide(),null==r||r.hide(),null==r||r.remove(),t.norma=d,o.dispatch(i.execute(t))):null==u||u.show()},l.onclick=()=>{e.focus(),null==r||r.hide(),null==r||r.remove()},e.blur(),await r.appendChild(n),await r.show(),a.focus()}(e.elementos[0],this.quill,yg,ic);break;case yh.ElementoIncluido:this.inserirNovoElementoNoQuill(e.elementos[0],e.referencia,!0),this.inserirNovosElementosNoQuill(e,!0);break;case yh.ElementoModificado:case yh.ElementoRestaurado:this.atualizarQuill(e),this.atualizarOmissis(e),t[t.length-1]===e&&this.marcarLinha(e);break;case yh.ElementoSuprimido:this.atualizarSituacao(e),t[t.length-1]===e&&this.marcarLinha(e);break;case yh.ElementoRemovido:this.removerLinhaQuill(e);break;case yh.ElementoRenumerado:this.renumerarQuill(e);break;case yh.ElementoValidado:this.atualizarMensagemQuill(e);break;case yh.ElementoSelecionado:this.atualizarAtributos(e),t[t.length-1]===e&&this.montarMenuContexto(e),this.atualizarMensagemQuill(e);break;case yh.ElementoMarcado:setTimeout((()=>this.marcarLinha(e)),100);break;case yh.SituacaoElementoModificada:this.atualizarQuill(e),this.atualizarSituacao(e),this.atualizarAtributos(e),this.atualizarMensagemQuill(e),this.atualizarOmissis(e)}this.quill.limparHistory()}));const e=[yh.ElementoModificado,yh.ElementoSuprimido,yh.ElementoRestaurado,yh.ElementoIncluido,yh.ElementoRemovido,yh.ElementoRenumerado],o=null==t?void 0:t.filter((t=>e.includes(t.stateType))).map((t=>t.stateType));(null==o?void 0:o.length)&&(this.eventosOnChange.push(...o),this.agendarEmissaoEventoOnChange("stateEvents",o))}marcarLinha(t){this.quill.desmarcarLinhaAtual(this.quill.linhaAtual);const e=t.elementos[0],o=this.quill.getLinha(e.uuid);this.quill.atualizarLinhaCorrente(o),this.elementoSelecionado(o.uuid);const i=this.quill.getIndex(o.blotConteudo);try{this.quill.setIndex(i,Quill.sources.SILENT)}catch(t){}t.moverParaFimLinha&&setTimeout((()=>{const t=this.quill.getSelection().index+this.quill.linhaAtual.blotConteudo.html.length;this.quill.setSelection(t,0,Quill.sources.USER)}),0)}processarEscolhaMenu(t){var e,o,i;if(t===xc)this.renumerarElemento();else if(t===tu)this.editarNotaAlteracao(this.quill.linhaAtual.elemento);else if(t instanceof wl)this.adicionarAgrupadorArtigo(this.quill.linhaAtual.elemento);else{const r=this.quill.linhaAtual,n=this.criarElemento(null!==(e=r.uuid)&&void 0!==e?e:0,r.lexmlId,null!==(o=r.tipo)&&void 0!==o?o:"","",r.numero,r.hierarquia);n.conteudo.texto=null!==(i=r.blotConteudo.html)&&void 0!==i?i:"",yg.dispatch(t.execute(n))}}inserirNovoElementoNoQuill(t,e,o){var i,r;const n=this.quill.getLinha((null===(i=t.elementoAnteriorNaSequenciaDeLeitura)||void 0===i?void 0:i.uuid)||e.uuid);if(n){const e=ty.criarContainerLinha(t);n.next?e.insertInto(this.quill.scroll,n.next):e.insertInto(this.quill.scroll);const i=yg.getState().elementoReducer.modo===Au.EMENDA_ARTIGO_ONDE_COUBER;if(""!==(null===(r=this.quill.linhaAtual)||void 0===r?void 0:r.blotConteudo.html)||""===e.blotConteudo.html||i||"Omissis"===t.tipo){if(o){this.quill.desmarcarLinhaAtual(this.quill.linhaAtual),this.quill.marcarLinhaAtual(e);try{this.quill.setIndex(this.quill.getIndex(e.blotConteudo),Quill.sources.SILENT)}catch(t){}}}else this.quill.linhaAtual.blotConteudo.htmlAnt=this.quill.linhaAtual.blotConteudo.html;e.descricaoSituacao=t.descricaoSituacao,e.existeNaNormaAlterada=t.existeNaNormaAlterada,e.setEstilo(t)}}inserirNovosElementosNoQuill(t,e){var o;const i=null!==(o=t.elementos)&&void 0!==o?o:[];for(let t=1;t<i.length;t++)this.inserirNovoElementoNoQuill(i[t],i[t-1],e)}atualizarSituacao(t){var e;let o;(null!==(e=t.elementos)&&void 0!==e?e:[]).forEach((t=>{var e;o=this.quill.getLinha(null!==(e=t.uuid)&&void 0!==e?e:0,"Ementa"===t.tipo?void 0:o),o&&t.descricaoSituacao!==o.descricaoSituacao&&(o.descricaoSituacao=t.descricaoSituacao,o.setEstilo(t))}))}atualizarAtributos(t){var e;let o;(null!==(e=t.elementos)&&void 0!==e?e:[]).forEach((t=>{var e;o=this.quill.getLinha(null!==(e=t.uuid)&&void 0!==e?e:0,"Ementa"===t.tipo?void 0:o),o&&o.atualizarElemento(t)}))}atualizarOmissis(t){var e;let o;(null!==(e=t.elementos)&&void 0!==e?e:[]).forEach((t=>{var e,i,r,n,a;if(t.dispositivoAlteracao){if(o=this.quill.getLinha(null!==(e=t.uuid)&&void 0!==e?e:0,o),o&&cp(null===(i=o.blotConteudo)||void 0===i?void 0:i.html).indexOf(ru)>=0){o.blotConteudo.html="";const t=this.quill.getIndex(o.blotConteudo);this.quill.insertText(t,ru,{EtaBlotConteudoOmissis:!0})}if((null===(r=t.conteudo)||void 0===r?void 0:r.texto)!==(null==o?void 0:o.blotConteudo.html)){cp(null!==(a=null===(n=t.conteudo)||void 0===n?void 0:n.texto)&&void 0!==a?a:"").indexOf(ru)>=0&&(null==o||o.domNode.classList.add("container_elemento--omissis"))}}}))}atualizarQuill(t){var e;let o;(null!==(e=t.elementos)&&void 0!==e?e:[]).map((t=>{var e,i,r,n,a,s,l;if(o=this.quill.getLinha(null!==(e=t.uuid)&&void 0!==e?e:0,"Ementa"===t.tipo?void 0:o),o){let e=!1;t.editavel!==o.editavel&&(o.editavel=t.editavel),t.rotulo!==(null===(i=o.blotRotulo)||void 0===i?void 0:i.html)&&(o.numero=null!==(r=t.numero)&&void 0!==r?r:"",null===(n=o.blotRotulo)||void 0===n||n.format(bb.blotName,t.rotulo)),t.nivel!==o.nivel&&(o.nivel=t.nivel,o.format(kb.blotName,t),e=!0),t.agrupador!==o.agrupador&&(o.agrupador=t.agrupador,null===(a=o.blotRotulo)||void 0===a||a.format(bb.formatoStyle,t),e||o.format(kb.blotName,t));const c=null!==(l=null===(s=t.conteudo)||void 0===s?void 0:s.texto)&&void 0!==l?l:"";o.blotConteudo.html!==c&&(o.blotConteudo.html=c),t.descricaoSituacao!==o.descricaoSituacao&&(o.descricaoSituacao=t.descricaoSituacao,o.setEstilo(t)),o.atualizarElemento(t),2===o.children.length&&o.children.tail.remove(),t.mensagens&&t.mensagens.length>0&&ty.criarContainerMensagens(t).insertInto(o)}}))}removerLinhaQuill(t){var e;let o;(null!==(e=t.elementos)&&void 0!==e?e:[]).forEach((t=>{var e;o=this.quill.getLinha(null!==(e=t.uuid)&&void 0!==e?e:0,o),o&&o.remove()}));const i=this.quill.getSelection();if(i){const t=this.quill.getLine(i.index-1)[0].linha,e=this.quill.getIndex(t.blotConteudo);this.quill.setSelection(e,0,Quill.sources.SILENT),this.quill.marcarLinhaAtual(t)}}renumerarQuill(t){var e;let o;(null!==(e=t.elementos)&&void 0!==e?e:[]).map((t=>{var e,i;o=this.quill.getLinha(null!==(e=t.uuid)&&void 0!==e?e:0,o),o&&(null===(i=o.blotRotulo)||void 0===i||i.format(bb.blotName,t.rotulo))}))}atualizarMensagemQuill(t){var e;let o;(null!==(e=t.elementos)&&void 0!==e?e:[]).map((t=>{var e;o=this.quill.getLinha(null!==(e=t.uuid)&&void 0!==e?e:0,o),o&&(2===(null==o?void 0:o.children.length)&&o.children.tail.remove(),t.mensagens&&t.mensagens.length>0&&ty.criarContainerMensagens(t).insertInto(o))}))}montarMenuContexto(t){var e,o;const i=t.elementos?t.elementos[0]:new ub,r=(null!==(e=null==i?void 0:i.acoesPossiveis)&&void 0!==e?e:[]).filter((t=>Mh(t)));if(r.length>0){const t=new fb,e=new vb(this.quill.linhaAtual.containerDireito.alinhamentoMenu),i=t=>{this.processarEscolhaMenu(t),this.quill.focus()};(new mb).insertInto(t),r.forEach((t=>{new gb(t,i).insertInto(e)})),e.insertInto(t),null===(o=this.quill.linhaAtual.blotInsideContainerDireito)||void 0===o||o.remove(),t.insertInto(this.quill.linhaAtual.containerDireito)}}criarElemento(t,e,o,i,r,n,a,s){const l=new ub;return l.uuid=t,l.lexmlId=e,l.tipo=o,l.numero=r,l.conteudo={texto:i},l.hierarquia=n,l.descricaoSituacao=a,l.existeNaNormaAlterada=s,l}inicializar(t){const e=this.getHtmlElement("lx-eta-editor"),o=this.getHtmlElement("lx-eta-buffer");Yb.configurar(),this._quill=new Yb(e,o,t),this.quill.on("selection-change",this.onSelectionChange),this.inscricoes.push(this.quill.keyboard.operacaoTecladoInvalida.subscribe(this.onOperacaoInvalida.bind(this))),this.inscricoes.push(this.quill.keyboard.adicionaElementoTeclaEnter.subscribe(this.adicionarElemento.bind(this))),this.inscricoes.push(this.quill.keyboard.moveElemento.subscribe(this.moverElemento.bind(this))),this.inscricoes.push(this.quill.keyboard.removeElemento.subscribe(this.removerElemento.bind(this))),this.inscricoes.push(this.quill.keyboard.removeElementoSemTexto.subscribe(this.removerElementoSemTexto.bind(this))),this.inscricoes.push(this.quill.keyboard.renumeraElemento.subscribe(this.renumerarElemento.bind(this))),this.inscricoes.push(this.quill.keyboard.transformaElemento.subscribe(this.transformarElemento.bind(this))),this.inscricoes.push(this.quill.keyboard.toggleExistencia.subscribe(this.toggleExistencia.bind(this))),this.inscricoes.push(this.quill.keyboard.adicionaAgrupador.subscribe(this.adicionaAgrupador.bind(this))),this.inscricoes.push(this.quill.undoRedoEstrutura.subscribe(this.undoRedoEstrutura.bind(this))),this.inscricoes.push(this.quill.elementoSelecionado.subscribe(this.elementoSelecionado.bind(this))),this.inscricoes.push(this.quill.observableSelectionChange.subscribe(this.atualizarTextoElemento.bind(this))),this.inscricoes.push(this.quill.keyboard.onChange.subscribe(this.agendarEmissaoEventoOnChange.bind(this))),this.inscricoes.push(this.quill.clipboard.onChange.subscribe(this.agendarEmissaoEventoOnChange.bind(this))),this.inscricoes.push(Cg.subscribe(this.agendarEmissaoEventoOnChange.bind(this))),this.inscricoes.push(this.quill.clipboard.onPasteTextoArticulado.subscribe(this.onPasteTextoArticulado.bind(this))),e.addEventListener("rotulo",(t=>{t.stopImmediatePropagation(),this.renumerarElemento()})),e.addEventListener("nota-alteracao",(t=>{t.stopImmediatePropagation(),this.editarNotaAlteracao(t.detail.elemento)})),e.addEventListener("toggle-existencia",(t=>{t.stopImmediatePropagation(),this.toggleExistenciaElemento(t.detail.elemento)})),e.addEventListener("mensagem",(t=>{var e,o;t.stopImmediatePropagation();const i=this.quill.linhaAtual;if(i)if(ip.RENUMERAR_DISPOSITIVO===(null===(o=null===(e=t.detail)||void 0===e?void 0:e.mensagem)||void 0===o?void 0:o.descricao))this.renumerarElemento();else{const e=i.blotConteudo,o=this.criarElemento(i.uuid,i.lexmlId,i.tipo,e.html,i.numero,i.hierarquia);yg.dispatch(nc.execute(o,t.detail.mensagem))}}))}agendarEmissaoEventoOnChange(t,e=[]){clearTimeout(this.timerOnChange),this.timerOnChange=setTimeout((()=>this.emitirEventoOnChange(t,e)),1e3)}atualizarTextoElemento(t){var e,o,i;if(null===(e=null==t?void 0:t.blotConteudo)||void 0===e?void 0:e.alterado){const e=this.criarElemento(t.uuid,t.lexmlId,t.tipo,null!==(i=null===(o=t.blotConteudo)||void 0===o?void 0:o.html)&&void 0!==i?i:"",t.numero,t.hierarquia);yg.dispatch(rc.execute(e))}}alertaGlobalVerificaRenumeracao(){const t="alerta-global-renumeracao",e=cb.getDispositivosAdicionados(yg.getState().elementoReducer.articulacao);if(e.length&&cb.verificaNecessidadeRenumeracaoRedacaoFinal(e)){const e={id:t,tipo:"warning",mensagem:"Os rtulos apresentados servem apenas para o posicionamento correto do novo dispositivo no texto. Sero feitas as renumeraes necessrias no momento da consolidao das emendas.",podeFechar:!0};yg.dispatch(Ol(e))}else yg.dispatch(Il(t))}alertaGlobalVerificaCorrelacao(){var t,e;const o=document.querySelector("lexml-eta").getDispositivosEmenda()||[],i=Object.values(o).flat(1).map((t=>t.id));if([...new Set(i.map((t=>t.split("_").filter((t=>t.startsWith("art")))[0])))].length>1){const t={id:"alerta-global-correlacao",tipo:"info",mensagem:"Cada emenda pode referir-se a apenas um dispositivo, salvo se houver correlao entre dispositivos. Verifique se h correlao entre os dispositivos emendados antes de submet-la.",podeFechar:!0};yg.dispatch(Ol(t))}else(null===(e=null===(t=yg.getState().elementoReducer.ui)||void 0===t?void 0:t.alertas)||void 0===e?void 0:e.some((t=>"alerta-global-correlacao"===t.id)))&&yg.dispatch(Il("alerta-global-correlacao"))}emitirEventoOnChange(t,e=[]){var o;this.atualizarTextoElemento(this.quill.linhaAtual),this.dispatchEvent(new CustomEvent("onchange",{bubbles:!0,composed:!0,detail:{origemEvento:t}})),(null===(o=this.eventosOnChange)||void 0===o?void 0:o.length)&&(this.eventosOnChange.includes(yh.ElementoIncluido)||this.eventosOnChange.includes(yh.ElementoRemovido))&&this.alertaGlobalVerificaRenumeracao(),this.alertaGlobalVerificaCorrelacao(),this.eventosOnChange=[]}carregarArticulacao(t){setTimeout((()=>{this.quill.getLine(0)[0].remove(),t.forEach((t=>{const e=ty.criarContainerLinha(t);e.insertInto(this.quill.scroll),e.setEstilo(t),t.tipo===Cl.generico.tipo&&yg.dispatch(Yc.execute(t))})),this.quill.limparHistory(),t.length>1&&setTimeout((()=>{const e=this.quill.getLinha(t[1].uuid);(null==e?void 0:e.blotConteudo)&&this.quill.setSelection(this.quill.getIndex(null==e?void 0:e.blotConteudo),0,Quill.sources.USER)}),0),yg.dispatch(Zc.execute())}),0)}configEditor(){return{formats:["bold","italic","link","script","EtaBlotConteudoOmissis"],modules:{toolbar:{container:"#lx-eta-barra-ferramenta",handlers:{bold:this.onBold.bind(this),italic:this.onItalic.bind(this),script:this.onScript.bind(this)}},history:{delay:0,maxStack:500,userOnly:!0}},theme:"snow"}}async confirmar(t,e,o){let i="";const r=document.createElement("sl-dialog");r.label="Confirmao";r.innerHTML=t+'\n      <sl-button slot="footer" variant="default">No</sl-button>\n      <sl-button slot="footer" variant="primary">Sim</sl-button>\n    ',await document.body.appendChild(r),await r.show();const n=r.querySelectorAll("sl-button"),a=n[0],s=n[1];s.focus(),a.onclick=()=>{i="No",null==r||r.hide(),null==r||r.remove()},s.onclick=()=>{i="Sim",null==r||r.hide(),null==r||r.remove()},r.addEventListener("sl-request-close",(t=>{"overlay"===t.detail.source&&t.preventDefault()})),r.addEventListener("sl-hide",(t=>{t.detail.closeResult=i,o(t)}))}alertar(t){const e=Object.assign(document.createElement("sl-alert"),{variant:"danger",closable:!0,duration:4e3,innerHTML:`\n        <sl-icon name="exclamation-octagon" slot="icon"></sl-icon>\n        ${t}\n      `});document.body.append(e),e.toast()}quillNaoInicializado(t){var e;let o=[];const i=t=>{setTimeout((()=>{this.quill?t.length>0&&this.carregarArticulacao(t):i(t)}),70)};if(t.elementoReducer.ui){const i=t.elementoReducer.ui.events.find((t=>t.stateType===yh.DocumentoCarregado));o=null!==(e=null==i?void 0:i.elementos)&&void 0!==e?e:[]}i(o)}getHtmlElement(t){return this.querySelector(`#${t}`)}destroiQuill(){this.getHtmlElement("lx-eta-editor").innerHTML="",this.getHtmlElement("lx-eta-buffer").innerHTML="",this.quill&&(this.quill.off("selection-change",this.onSelectionChange),this.quill.destroi()),this._quill=void 0}async onPasteTextoArticulado(t){const e=this.quill.linhaAtual,o=new ub;o.uuid=e.uuid,o.tipo=e.tipo;const i=await vv.newInstanceFromTexto(t.textoColadoOriginal,t.textoColadoAjustado,yg.getState().elementoReducer.articulacao,e.elemento);Tg(this.quill,yg,i,t.range)}};ns([cl("lexml-ajuda-modal")],sy.prototype,"ajudaModal",void 0),ns([cl("lexml-atalhos-modal")],sy.prototype,"atalhosModal",void 0),ns([cl("lexml-emenda-comando-modal")],sy.prototype,"comandoEmendaModal",void 0),sy=ns([rl("lexml-eta-editor")],sy);let ly=class extends ol{constructor(){super(...arguments),this.htmlAgrupador=()=>{var t,e,o;return Ms`<p class="rotulo">${this.elemento.rotulo}</p>
      <p class="texto-agrupador">${Ag(null!==(o=null===(e=null===(t=this.elemento)||void 0===t?void 0:t.conteudo)||void 0===e?void 0:e.texto)&&void 0!==o?o:"")}</p>`},this.htmlDispositivo=()=>{var t,e,o;return Ms`
      <p class="texto" style="${`padding-left: ${20*this.elemento.nivel}px;`}">
        <span class="rotulo">${this.elemento.rotulo}</span>
        ${Ag(null!==(o=null===(e=null===(t=this.elemento)||void 0===t?void 0:t.conteudo)||void 0===e?void 0:e.texto)&&void 0!==o?o:"")}
      </p>
    `}}render(){return Ms`
      <div class="box">
        <div class="conteudo">${this.elemento.agrupador?this.htmlAgrupador():this.htmlDispositivo()}</div>
      </div>
    `}};ly.styles=us`
    :host {
      display: block;
      padding: 0px;
      margin: 0px;
      font-family: sans-serif, 'Open Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
        'Noto Color Emoji';
      font-size: 1.1em;
      line-height: 1.2;
      color: #646260;
      text-transform: none !important;
    }

    p.rotulo {
      margin: 5px !important;
      color: #373634;
      font-weight: 600;
      text-align: center;
    }

    p.texto {
      margin: 5px !important;
    }

    p.texto-agrupador {
      margin: 5px !important;
      text-align: center;
    }

    span.rotulo {
      color: #373634;
      font-weight: 600;
    }
  `,ns([al({type:Object})],ly.prototype,"elemento",void 0),ly=ns([rl("lexml-eta-elemento")],ly);let cy=class extends ol{render(){return Ms`
      <div class="lx-eta-help">
        <div class="lx-eta-help-content">
          <div><b>Ctrl+Shift+A</b>&nbsp;-&nbsp;Seleciona o texto do dispositivo atual</div>
          <!-- <div><b>Ctrl+A</b>&nbsp;-&nbsp;Seleciona todos os dispositivos da articulao</div> -->
          <div><b>Ctrl+Home</b>&nbsp;-&nbsp;Vai para o primeiro dispositivo</div>
          <div><b>Ctrl+End</b>&nbsp;-&nbsp;Vai para o ltimo dispositivo</div>
          <div><b>Alt+&uarr;</b>&nbsp;-&nbsp;Move o dispositivo acima</div>
          <div><b>Alt+&darr;</b>&nbsp;-&nbsp;Move o dispositivo abaixo</div>
          <div><b>Ctrl+F;</b>&nbsp;-&nbsp;Localizar texto</div>
          <hr></hr>
          <div><b>Enter</b>&nbsp;-&nbsp;Finaliza a edio do dispositivo atual e cria um novo</div>
          <div><b>Ctrl+D</b>&nbsp;-&nbsp;Remove dispositivo atual</div>
          <div><b>Ctrl+Z</b>&nbsp;-&nbsp;Desfaz ultima alterao</div>
          <div><b>Ctrl+Y</b>&nbsp;-&nbsp;Refaz alterao</div>
          <hr></hr>
          <div><b>Tab</b>&nbsp;-&nbsp;Indenta para a direita o dispositivo, transformando-o no tipo mais provvel</div>
          <div><b>Shift+Tab</b>&nbsp;-&nbsp;Recua o dispositivo para a esquerda, transformando-o no tipo mais provvel</div>
          <hr></hr>
          <div><b>Ctrl+Alt+N</b>&nbsp;-&nbsp;Numera o dispositivo</div>
          <div><b>Ctrl+Alt+O</b>&nbsp;-&nbsp;Omite dispositivos</div>
        </div>
      </div>
    `}};cy.styles=us`
    :host {
      display: block;
      padding: 10px;
      font-family: var(--sl-font-sans);
    }
    .lx-eta-help-content div {
      color: black;
      padding: 2px 0px;
      text-decoration: none;
      display: block;
      white-space: wrap;
      font-size: 0.8em;
      font-weight: normal !important;
      text-align: left;
    }

    /* .lx-eta-help:hover .lx-eta-help-content {
      display: block;
    } */
  `,cy=ns([rl("lexml-eta-atalhos")],cy);let uy=class extends ol{constructor(){super(),this.texto="",this.onChange=new Ig,this.toolbarOptions=[["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],["blockquote"],["undo","redo"],[{align:[]}],["clean"]],this.icons=Quill.import("ui/icons"),this.init=()=>{var t;this.container=document.querySelector("#editor-justificativa"),this.container&&(this.quill=new Quill(this.container,{formats:["bold","italic","underline","align","list","script","blockquote"],modules:{toolbar:{container:"#toolbar",handlers:{undo:this.undo,redo:this.redo}},history:{delay:0,maxStack:500,userOnly:!0},clipboard:{}},placeholder:"",theme:"snow"}),this.setContent(this.texto),null===(t=this.quill)||void 0===t||t.on("text-change",this.updateTexto))},this.setContent=t=>{this.quill&&(this.quill.root.innerHTML=t.replace(/indent/g,"ql-indent").replace(/align-justify/g,"ql-align-justify").replace(/align-center/g,"ql-align-center").replace(/align-right/g,"ql-align-right"))},this.updateTexto=()=>{var t,e;const o=(null===(t=this.quill)||void 0===t?void 0:t.root.innerHTML)?null===(e=this.quill)||void 0===e?void 0:e.root.innerHTML.replace(/ql-indent/g,"indent").replace(/ql-align-justify/g,"align-justify").replace(/ql-align-center/g,"align-center").replace(/ql-align-right/g,"align-right"):"";this.texto="<p><br></p>"===o?"":o,this.agendarEmissaoEventoOnChange()},this.undo=()=>{var t;return null===(t=this.quill)||void 0===t?void 0:t.history.undo()},this.redo=()=>{var t;return null===(t=this.quill)||void 0===t?void 0:t.history.redo()},this.icons.undo='<svg viewbox="0 0 18 18">\n    <polygon class="ql-fill ql-stroke" points="6 10 4 12 2 10 6 10"></polygon>\n    <path class="ql-stroke" d="M8.09,13.91A4.6,4.6,0,0,0,9,14,5,5,0,1,0,4,9"></path>\n    </svg>',this.icons.redo='<svg viewbox="0 0 18 18">\n    <polygon class="ql-fill ql-stroke" points="12 10 14 12 16 10 12 10"></polygon>\n    <path class="ql-stroke" d="M9.91,13.91A4.6,4.6,0,0,1,9,14a5,5,0,1,1,5-5"></path>\n    </svg>',this.icons.bold=Lb,this.icons.underline='\n<svg class="icon-sublinhado" id="sublinhado" viewBox="0 0 16 16">\n<path class="st0" d="M4.3,9.4c0-0.2,0.1-0.3,0.4-0.3h0.7c0.2,0,0.4,0.1,0.4,0.3C5.8,10.4,6.7,11,8.1,11c1.3,0,2.2-0.5,2.2-1.4\n\tc0-1.1-1.2-1.4-2.5-1.9C6.3,7.3,4.5,6.8,4.5,5c0-1.6,1.5-2.7,3.5-2.7c1.9,0,3.3,1.1,3.4,2.6c0,0.2-0.1,0.3-0.4,0.3h-0.7\n\tc-0.2,0-0.3-0.1-0.4-0.3C9.9,4.1,9.2,3.7,8.1,3.7C6.8,3.7,6,4.2,6,5c0,0.9,0.9,1.2,2.2,1.6c1.6,0.5,3.5,1.1,3.5,3.1\n\tc0,1.6-1.5,2.7-3.6,2.7C5.9,12.3,4.3,11.2,4.3,9.4z"/>\n<rect x="3" y="12.9" class="st0" width="9.9" height="0.8"/>\n</svg>\n'}agendarEmissaoEventoOnChange(){clearTimeout(this.timerOnChange),this.timerOnChange=setTimeout((()=>{this.dispatchEvent(new CustomEvent("onchange",{bubbles:!0,composed:!0,detail:{origemEvento:"justificativa"}})),this.onChange.notify("justificativa")}),1e3)}update(t){super.update(t)}createRenderRoot(){return this}render(){return Ms`
      <style>
        #editor-justificativa {
          height: 375px;
        }
        #editor-justificativa p:not(.ql-align-rigth, .ql-align-center) {
          text-indent: 3em;
        }
        .ql-toolbar.ql-snow .ql-formats {
          margin-right: 8px;
        }
      </style>
      <div id="toolbar">
        <span class="ql-formats">
          <button type="button" class="ql-bold" title="Negrito (Ctrl+b)"></button>
          <button type="button" class="ql-italic" title="Itlico (Ctrl+i)"></button>
          <button type="button" class="ql-underline" title="Sublinhado (Ctrl+u)"></button>
        </span>
        <span class="ql-formats">
          <button type="button" class="ql-list" value="ordered" title="Lista ordenada"></button>
          <button type="button" class="ql-list" value="bullet" title="Lista no ordenada"></button>
        </span>
        <span class="ql-formats">
          <button type="button" class="ql-script" value="sub" title="Subscrito"></button>
          <button type="button" class="ql-script" value="super" title="Sobrescrito"></button>
        </span>
        <span class="ql-formats">
          <button type="button" class="ql-blockquote" title="Bloco de citao"></button>
        </span>
        <span class="ql-formats">
          <button type="button" class="ql-undo" title="Desfazer (Ctrl+z)"></button>
          <button type="button" class="ql-redo" title="Refazer (Ctrl+Shift+z)"></button>
        </span>
        <span class="ql-formats">
          <select class="ql-align" title="Alinhar">
            <option value=""></option>
            <option value="center"></option>
            <option value="right"></option>
            <option value="justify"></option>
          </select>
        </span>
        <span class="ql-formats">
          <button type="button" class="ql-clean" title="Limpar formatao"></button>
        </span>
      </div>
      <div id="editor-justificativa"></div>
    `}firstUpdated(){this.init()}};ns([al({type:String})],uy.prototype,"texto",void 0),uy=ns([rl("lexml-emenda-justificativa")],uy);const dy=Ms`
  <style>
    :root,
    :host,
    .sl-theme-light {
      --sl-color-gray-50: hsl(0 0% 97.5%);
      --sl-color-gray-100: hsl(240 4.8% 95.9%);
      --sl-color-gray-200: hsl(240 5.9% 90%);
      --sl-color-gray-300: hsl(240 4.9% 83.9%);
      --sl-color-gray-400: hsl(240 5% 64.9%);
      --sl-color-gray-500: hsl(240 3.8% 46.1%);
      --sl-color-gray-600: hsl(240 5.2% 33.9%);
      --sl-color-gray-700: hsl(240 5.3% 26.1%);
      --sl-color-gray-800: hsl(240 3.7% 15.9%);
      --sl-color-gray-900: hsl(240 5.9% 10%);
      --sl-color-gray-950: hsl(240 7.3% 8%);

      --sl-color-red-50: hsl(0 85.7% 97.3%);
      --sl-color-red-100: hsl(0 93.3% 94.1%);
      --sl-color-red-200: hsl(0 96.3% 89.4%);
      --sl-color-red-300: hsl(0 93.5% 81.8%);
      --sl-color-red-400: hsl(0 90.6% 70.8%);
      --sl-color-red-500: hsl(0 84.2% 60.2%);
      --sl-color-red-600: hsl(0 72.2% 50.6%);
      --sl-color-red-700: hsl(0 73.7% 41.8%);
      --sl-color-red-800: hsl(0 70% 35.3%);
      --sl-color-red-900: hsl(0 62.8% 30.6%);
      --sl-color-red-950: hsl(0 60% 19.6%);

      --sl-color-orange-50: hsl(33.3 100% 96.5%);
      --sl-color-orange-100: hsl(34.3 100% 91.8%);
      --sl-color-orange-200: hsl(32.1 97.7% 83.1%);
      --sl-color-orange-300: hsl(30.7 97.2% 72.4%);
      --sl-color-orange-400: hsl(27 96% 61%);
      --sl-color-orange-500: hsl(24.6 95% 53.1%);
      --sl-color-orange-600: hsl(20.5 90.2% 48.2%);
      --sl-color-orange-700: hsl(17.5 88.3% 40.4%);
      --sl-color-orange-800: hsl(15 79.1% 33.7%);
      --sl-color-orange-900: hsl(15.3 74.6% 27.8%);
      --sl-color-orange-950: hsl(15.2 69.1% 19%);

      --sl-color-amber-50: hsl(48 100% 96.1%);
      --sl-color-amber-100: hsl(48 96.5% 88.8%);
      --sl-color-amber-200: hsl(48 96.6% 76.7%);
      --sl-color-amber-300: hsl(45.9 96.7% 64.5%);
      --sl-color-amber-400: hsl(43.3 96.4% 56.3%);
      --sl-color-amber-500: hsl(37.7 92.1% 50.2%);
      --sl-color-amber-600: hsl(32.1 94.6% 43.7%);
      --sl-color-amber-700: hsl(26 90.5% 37.1%);
      --sl-color-amber-800: hsl(22.7 82.5% 31.4%);
      --sl-color-amber-900: hsl(21.7 77.8% 26.5%);
      --sl-color-amber-950: hsl(22.9 74.1% 16.7%);

      --sl-color-yellow-50: hsl(54.5 91.7% 95.3%);
      --sl-color-yellow-100: hsl(54.9 96.7% 88%);
      --sl-color-yellow-200: hsl(52.8 98.3% 76.9%);
      --sl-color-yellow-300: hsl(50.4 97.8% 63.5%);
      --sl-color-yellow-400: hsl(47.9 95.8% 53.1%);
      --sl-color-yellow-500: hsl(45.4 93.4% 47.5%);
      --sl-color-yellow-600: hsl(40.6 96.1% 40.4%);
      --sl-color-yellow-700: hsl(35.5 91.7% 32.9%);
      --sl-color-yellow-800: hsl(31.8 81% 28.8%);
      --sl-color-yellow-900: hsl(28.4 72.5% 25.7%);
      --sl-color-yellow-950: hsl(33.1 69% 13.9%);

      --sl-color-lime-50: hsl(78.3 92% 95.1%);
      --sl-color-lime-100: hsl(79.6 89.1% 89.2%);
      --sl-color-lime-200: hsl(80.9 88.5% 79.6%);
      --sl-color-lime-300: hsl(82 84.5% 67.1%);
      --sl-color-lime-400: hsl(82.7 78% 55.5%);
      --sl-color-lime-500: hsl(83.7 80.5% 44.3%);
      --sl-color-lime-600: hsl(84.8 85.2% 34.5%);
      --sl-color-lime-700: hsl(85.9 78.4% 27.3%);
      --sl-color-lime-800: hsl(86.3 69% 22.7%);
      --sl-color-lime-900: hsl(87.6 61.2% 20.2%);
      --sl-color-lime-950: hsl(86.5 60.6% 13.9%);

      --sl-color-green-50: hsl(138.5 76.5% 96.7%);
      --sl-color-green-100: hsl(140.6 84.2% 92.5%);
      --sl-color-green-200: hsl(141 78.9% 85.1%);
      --sl-color-green-300: hsl(141.7 76.6% 73.1%);
      --sl-color-green-400: hsl(141.9 69.2% 58%);
      --sl-color-green-500: hsl(142.1 70.6% 45.3%);
      --sl-color-green-600: hsl(142.1 76.2% 36.3%);
      --sl-color-green-700: hsl(142.4 71.8% 29.2%);
      --sl-color-green-800: hsl(142.8 64.2% 24.1%);
      --sl-color-green-900: hsl(143.8 61.2% 20.2%);
      --sl-color-green-950: hsl(144.3 60.7% 12%);

      --sl-color-emerald-50: hsl(151.8 81% 95.9%);
      --sl-color-emerald-100: hsl(149.3 80.4% 90%);
      --sl-color-emerald-200: hsl(152.4 76% 80.4%);
      --sl-color-emerald-300: hsl(156.2 71.6% 66.9%);
      --sl-color-emerald-400: hsl(158.1 64.4% 51.6%);
      --sl-color-emerald-500: hsl(160.1 84.1% 39.4%);
      --sl-color-emerald-600: hsl(161.4 93.5% 30.4%);
      --sl-color-emerald-700: hsl(162.9 93.5% 24.3%);
      --sl-color-emerald-800: hsl(163.1 88.1% 19.8%);
      --sl-color-emerald-900: hsl(164.2 85.7% 16.5%);
      --sl-color-emerald-950: hsl(164.3 87.5% 9.4%);

      --sl-color-teal-50: hsl(166.2 76.5% 96.7%);
      --sl-color-teal-100: hsl(167.2 85.5% 89.2%);
      --sl-color-teal-200: hsl(168.4 83.8% 78.2%);
      --sl-color-teal-300: hsl(170.6 76.9% 64.3%);
      --sl-color-teal-400: hsl(172.5 66% 50.4%);
      --sl-color-teal-500: hsl(173.4 80.4% 40%);
      --sl-color-teal-600: hsl(174.7 83.9% 31.6%);
      --sl-color-teal-700: hsl(175.3 77.4% 26.1%);
      --sl-color-teal-800: hsl(176.1 69.4% 21.8%);
      --sl-color-teal-900: hsl(175.9 60.8% 19%);
      --sl-color-teal-950: hsl(176.5 58.6% 11.4%);

      --sl-color-cyan-50: hsl(183.2 100% 96.3%);
      --sl-color-cyan-100: hsl(185.1 95.9% 90.4%);
      --sl-color-cyan-200: hsl(186.2 93.5% 81.8%);
      --sl-color-cyan-300: hsl(187 92.4% 69%);
      --sl-color-cyan-400: hsl(187.9 85.7% 53.3%);
      --sl-color-cyan-500: hsl(188.7 94.5% 42.7%);
      --sl-color-cyan-600: hsl(191.6 91.4% 36.5%);
      --sl-color-cyan-700: hsl(192.9 82.3% 31%);
      --sl-color-cyan-800: hsl(194.4 69.6% 27.1%);
      --sl-color-cyan-900: hsl(196.4 63.6% 23.7%);
      --sl-color-cyan-950: hsl(196.8 61% 16.1%);

      --sl-color-sky-50: hsl(204 100% 97.1%);
      --sl-color-sky-100: hsl(204 93.8% 93.7%);
      --sl-color-sky-200: hsl(200.6 94.4% 86.1%);
      --sl-color-sky-300: hsl(199.4 95.5% 73.9%);
      --sl-color-sky-400: hsl(198.4 93.2% 59.6%);
      --sl-color-sky-500: hsl(198.6 88.7% 48.4%);
      --sl-color-sky-600: hsl(200.4 98% 39.4%);
      --sl-color-sky-700: hsl(201.3 96.3% 32.2%);
      --sl-color-sky-800: hsl(201 90% 27.5%);
      --sl-color-sky-900: hsl(202 80.3% 23.9%);
      --sl-color-sky-950: hsl(202.3 73.8% 16.5%);

      --sl-color-blue-50: hsl(213.8 100% 96.9%);
      --sl-color-blue-100: hsl(214.3 94.6% 92.7%);
      --sl-color-blue-200: hsl(213.3 96.9% 87.3%);
      --sl-color-blue-300: hsl(211.7 96.4% 78.4%);
      --sl-color-blue-400: hsl(213.1 93.9% 67.8%);
      --sl-color-blue-500: hsl(217.2 91.2% 59.8%);
      --sl-color-blue-600: hsl(221.2 83.2% 53.3%);
      --sl-color-blue-700: hsl(224.3 76.3% 48%);
      --sl-color-blue-800: hsl(225.9 70.7% 40.2%);
      --sl-color-blue-900: hsl(224.4 64.3% 32.9%);
      --sl-color-blue-950: hsl(226.2 55.3% 18.4%);

      --sl-color-indigo-50: hsl(225.9 100% 96.7%);
      --sl-color-indigo-100: hsl(226.5 100% 93.9%);
      --sl-color-indigo-200: hsl(228 96.5% 88.8%);
      --sl-color-indigo-300: hsl(229.7 93.5% 81.8%);
      --sl-color-indigo-400: hsl(234.5 89.5% 73.9%);
      --sl-color-indigo-500: hsl(238.7 83.5% 66.7%);
      --sl-color-indigo-600: hsl(243.4 75.4% 58.6%);
      --sl-color-indigo-700: hsl(244.5 57.9% 50.6%);
      --sl-color-indigo-800: hsl(243.7 54.5% 41.4%);
      --sl-color-indigo-900: hsl(242.2 47.4% 34.3%);
      --sl-color-indigo-950: hsl(243.5 43.6% 22.9%);

      --sl-color-violet-50: hsl(250 100% 97.6%);
      --sl-color-violet-100: hsl(251.4 91.3% 95.5%);
      --sl-color-violet-200: hsl(250.5 95.2% 91.8%);
      --sl-color-violet-300: hsl(252.5 94.7% 85.1%);
      --sl-color-violet-400: hsl(255.1 91.7% 76.3%);
      --sl-color-violet-500: hsl(258.3 89.5% 66.3%);
      --sl-color-violet-600: hsl(262.1 83.3% 57.8%);
      --sl-color-violet-700: hsl(263.4 70% 50.4%);
      --sl-color-violet-800: hsl(263.4 69.3% 42.2%);
      --sl-color-violet-900: hsl(263.5 67.4% 34.9%);
      --sl-color-violet-950: hsl(265.1 61.5% 21.4%);

      --sl-color-purple-50: hsl(270 100% 98%);
      --sl-color-purple-100: hsl(268.7 100% 95.5%);
      --sl-color-purple-200: hsl(268.6 100% 91.8%);
      --sl-color-purple-300: hsl(269.2 97.4% 85.1%);
      --sl-color-purple-400: hsl(270 95.2% 75.3%);
      --sl-color-purple-500: hsl(270.7 91% 65.1%);
      --sl-color-purple-600: hsl(271.5 81.3% 55.9%);
      --sl-color-purple-700: hsl(272.1 71.7% 47.1%);
      --sl-color-purple-800: hsl(272.9 67.2% 39.4%);
      --sl-color-purple-900: hsl(273.6 65.6% 32%);
      --sl-color-purple-950: hsl(276 59.5% 16.5%);

      --sl-color-fuchsia-50: hsl(289.1 100% 97.8%);
      --sl-color-fuchsia-100: hsl(287 100% 95.5%);
      --sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);
      --sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);
      --sl-color-fuchsia-400: hsl(292 91.4% 72.5%);
      --sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);
      --sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);
      --sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);
      --sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);
      --sl-color-fuchsia-900: hsl(296.7 63.6% 28%);
      --sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);

      --sl-color-pink-50: hsl(327.3 73.3% 97.1%);
      --sl-color-pink-100: hsl(325.7 77.8% 94.7%);
      --sl-color-pink-200: hsl(325.9 84.6% 89.8%);
      --sl-color-pink-300: hsl(327.4 87.1% 81.8%);
      --sl-color-pink-400: hsl(328.6 85.5% 70.2%);
      --sl-color-pink-500: hsl(330.4 81.2% 60.4%);
      --sl-color-pink-600: hsl(333.3 71.4% 50.6%);
      --sl-color-pink-700: hsl(335.1 77.6% 42%);
      --sl-color-pink-800: hsl(335.8 74.4% 35.3%);
      --sl-color-pink-900: hsl(335.9 69% 30.4%);
      --sl-color-pink-950: hsl(336.2 65.4% 15.9%);

      --sl-color-rose-50: hsl(355.7 100% 97.3%);
      --sl-color-rose-100: hsl(355.6 100% 94.7%);
      --sl-color-rose-200: hsl(352.7 96.1% 90%);
      --sl-color-rose-300: hsl(352.6 95.7% 81.8%);
      --sl-color-rose-400: hsl(351.3 94.5% 71.4%);
      --sl-color-rose-500: hsl(349.7 89.2% 60.2%);
      --sl-color-rose-600: hsl(346.8 77.2% 49.8%);
      --sl-color-rose-700: hsl(345.3 82.7% 40.8%);
      --sl-color-rose-800: hsl(343.4 79.7% 34.7%);
      --sl-color-rose-900: hsl(341.5 75.5% 30.4%);
      --sl-color-rose-950: hsl(341.3 70.1% 17.1%);

      --sl-color-primary-50: var(--sl-color-sky-50);
      --sl-color-primary-100: var(--sl-color-sky-100);
      --sl-color-primary-200: var(--sl-color-sky-200);
      --sl-color-primary-300: var(--sl-color-sky-300);
      --sl-color-primary-400: var(--sl-color-sky-400);
      --sl-color-primary-500: var(--sl-color-sky-500);
      --sl-color-primary-600: var(--sl-color-sky-600);
      --sl-color-primary-700: var(--sl-color-sky-700);
      --sl-color-primary-800: var(--sl-color-sky-800);
      --sl-color-primary-900: var(--sl-color-sky-900);
      --sl-color-primary-950: var(--sl-color-sky-950);

      --sl-color-success-50: var(--sl-color-green-50);
      --sl-color-success-100: var(--sl-color-green-100);
      --sl-color-success-200: var(--sl-color-green-200);
      --sl-color-success-300: var(--sl-color-green-300);
      --sl-color-success-400: var(--sl-color-green-400);
      --sl-color-success-500: var(--sl-color-green-500);
      --sl-color-success-600: var(--sl-color-green-600);
      --sl-color-success-700: var(--sl-color-green-700);
      --sl-color-success-800: var(--sl-color-green-800);
      --sl-color-success-900: var(--sl-color-green-900);
      --sl-color-success-950: var(--sl-color-green-950);

      --sl-color-warning-50: var(--sl-color-amber-50);
      --sl-color-warning-100: var(--sl-color-amber-100);
      --sl-color-warning-200: var(--sl-color-amber-200);
      --sl-color-warning-300: var(--sl-color-amber-300);
      --sl-color-warning-400: var(--sl-color-amber-400);
      --sl-color-warning-500: var(--sl-color-amber-500);
      --sl-color-warning-600: var(--sl-color-amber-600);
      --sl-color-warning-700: var(--sl-color-amber-700);
      --sl-color-warning-800: var(--sl-color-amber-800);
      --sl-color-warning-900: var(--sl-color-amber-900);
      --sl-color-warning-950: var(--sl-color-amber-950);

      --sl-color-danger-50: var(--sl-color-red-50);
      --sl-color-danger-100: var(--sl-color-red-100);
      --sl-color-danger-200: var(--sl-color-red-200);
      --sl-color-danger-300: var(--sl-color-red-300);
      --sl-color-danger-400: var(--sl-color-red-400);
      --sl-color-danger-500: var(--sl-color-red-500);
      --sl-color-danger-600: var(--sl-color-red-600);
      --sl-color-danger-700: var(--sl-color-red-700);
      --sl-color-danger-800: var(--sl-color-red-800);
      --sl-color-danger-900: var(--sl-color-red-900);
      --sl-color-danger-950: var(--sl-color-red-950);

      --sl-color-neutral-50: var(--sl-color-gray-50);
      --sl-color-neutral-100: var(--sl-color-gray-100);
      --sl-color-neutral-200: var(--sl-color-gray-200);
      --sl-color-neutral-300: var(--sl-color-gray-300);
      --sl-color-neutral-400: var(--sl-color-gray-400);
      --sl-color-neutral-500: var(--sl-color-gray-500);
      --sl-color-neutral-600: var(--sl-color-gray-600);
      --sl-color-neutral-700: var(--sl-color-gray-700);
      --sl-color-neutral-800: var(--sl-color-gray-800);
      --sl-color-neutral-900: var(--sl-color-gray-900);
      --sl-color-neutral-950: var(--sl-color-gray-950);

      --sl-color-neutral-0: hsl(0, 0%, 100%);
      --sl-color-neutral-1000: hsl(0, 0%, 0%);

      --sl-border-radius-small: 0.1875rem;
      --sl-border-radius-medium: 0.25rem;
      --sl-border-radius-large: 0.5rem;
      --sl-border-radius-x-large: 1rem;

      --sl-border-radius-circle: 50%;
      --sl-border-radius-pill: 9999px;

      --sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);
      --sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);
      --sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);
      --sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);
      --sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);

      --sl-spacing-3x-small: 0.125rem;
      --sl-spacing-2x-small: 0.25rem;
      --sl-spacing-x-small: 0.5rem;
      --sl-spacing-small: 0.75rem;
      --sl-spacing-medium: 1rem;
      --sl-spacing-large: 1.25rem;
      --sl-spacing-x-large: 1.75rem;
      --sl-spacing-2x-large: 2.25rem;
      --sl-spacing-3x-large: 3rem;
      --sl-spacing-4x-large: 4.5rem;

      --sl-transition-x-slow: 1000ms;
      --sl-transition-slow: 500ms;
      --sl-transition-medium: 250ms;
      --sl-transition-fast: 150ms;
      --sl-transition-x-fast: 50ms;

      --sl-font-mono: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
      --sl-font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
      --sl-font-serif: Georgia, 'Times New Roman', serif;

      --sl-font-size-2x-small: 0.625rem;
      --sl-font-size-x-small: 0.75rem;
      --sl-font-size-small: 0.875rem;
      --sl-font-size-medium: 1rem;
      --sl-font-size-large: 1.25rem;
      --sl-font-size-x-large: 1.5rem;
      --sl-font-size-2x-large: 2.25rem;
      --sl-font-size-3x-large: 3rem;
      --sl-font-size-4x-large: 4.5rem;

      --sl-font-weight-light: 300;
      --sl-font-weight-normal: 400;
      --sl-font-weight-semibold: 500;
      --sl-font-weight-bold: 700;

      --sl-letter-spacing-denser: -0.03em;
      --sl-letter-spacing-dense: -0.015em;
      --sl-letter-spacing-normal: normal;
      --sl-letter-spacing-loose: 0.075em;
      --sl-letter-spacing-looser: 0.15em;

      --sl-line-height-denser: 1;
      --sl-line-height-dense: 1.4;
      --sl-line-height-normal: 1.8;
      --sl-line-height-loose: 2.2;
      --sl-line-height-looser: 2.6;

      --sl-focus-ring-alpha: 40%;
      --sl-focus-ring-width: 3px;
      --sl-focus-ring: 0 0 0 var(--sl-focus-ring-width) hsl(198.6 88.7% 48.4% / var(--sl-focus-ring-alpha));

      --sl-button-font-size-small: var(--sl-font-size-x-small);
      --sl-button-font-size-medium: var(--sl-font-size-small);
      --sl-button-font-size-large: var(--sl-font-size-medium);

      --sl-input-height-small: 1.875rem;
      --sl-input-height-medium: 2.5rem;
      --sl-input-height-large: 3.125rem;

      --sl-input-background-color: var(--sl-color-neutral-0);
      --sl-input-background-color-hover: var(--sl-input-background-color);
      --sl-input-background-color-focus: var(--sl-input-background-color);
      --sl-input-background-color-disabled: var(--sl-color-neutral-100);
      --sl-input-border-color: var(--sl-color-neutral-300);
      --sl-input-border-color-hover: var(--sl-color-neutral-400);
      --sl-input-border-color-focus: var(--sl-color-primary-500);
      --sl-input-border-color-disabled: var(--sl-color-neutral-300);
      --sl-input-border-width: 1px;

      --sl-input-border-radius-small: var(--sl-border-radius-medium);
      --sl-input-border-radius-medium: var(--sl-border-radius-medium);
      --sl-input-border-radius-large: var(--sl-border-radius-medium);

      --sl-input-font-family: var(--sl-font-sans);
      --sl-input-font-weight: var(--sl-font-weight-normal);
      --sl-input-font-size-small: var(--sl-font-size-small);
      --sl-input-font-size-medium: var(--sl-font-size-medium);
      --sl-input-font-size-large: var(--sl-font-size-large);
      --sl-input-letter-spacing: var(--sl-letter-spacing-normal);

      --sl-input-color: var(--sl-color-neutral-700);
      --sl-input-color-hover: var(--sl-color-neutral-700);
      --sl-input-color-focus: var(--sl-color-neutral-700);
      --sl-input-color-disabled: var(--sl-color-neutral-900);
      --sl-input-icon-color: var(--sl-color-neutral-500);
      --sl-input-icon-color-hover: var(--sl-color-neutral-600);
      --sl-input-icon-color-focus: var(--sl-color-neutral-600);
      --sl-input-placeholder-color: var(--sl-color-neutral-500);
      --sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);
      --sl-input-spacing-small: var(--sl-spacing-small);
      --sl-input-spacing-medium: var(--sl-spacing-medium);
      --sl-input-spacing-large: var(--sl-spacing-large);

      --sl-input-filled-background-color: var(--sl-color-neutral-100);
      --sl-input-filled-background-color-hover: var(--sl-color-neutral-100);
      --sl-input-filled-background-color-focus: var(--sl-color-neutral-100);
      --sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);
      --sl-input-filled-color: var(--sl-color-neutral-800);
      --sl-input-filled-color-hover: var(--sl-color-neutral-800);
      --sl-input-filled-color-focus: var(--sl-color-neutral-700);
      --sl-input-filled-color-disabled: var(--sl-color-neutral-800);

      --sl-input-label-font-size-small: var(--sl-font-size-small);
      --sl-input-label-font-size-medium: var(--sl-font-size-medium);
      --sl-input-label-font-size-large: var(--sl-font-size-large);

      --sl-input-label-color: inherit;

      --sl-input-help-text-font-size-small: var(--sl-font-size-x-small);
      --sl-input-help-text-font-size-medium: var(--sl-font-size-small);
      --sl-input-help-text-font-size-large: var(--sl-font-size-medium);

      --sl-input-help-text-color: var(--sl-color-neutral-500);

      --sl-toggle-size: 1rem;

      --sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);

      --sl-panel-background-color: var(--sl-color-neutral-0);
      --sl-panel-border-color: var(--sl-color-neutral-200);
      --sl-panel-border-width: 1px;

      --sl-tooltip-border-radius: var(--sl-border-radius-medium);
      --sl-tooltip-background-color: var(--sl-color-neutral-800);
      --sl-tooltip-color: var(--sl-color-neutral-0);
      --sl-tooltip-font-family: var(--sl-font-sans);
      --sl-tooltip-font-weight: var(--sl-font-weight-normal);
      --sl-tooltip-font-size: var(--sl-font-size-small);
      --sl-tooltip-line-height: var(--sl-line-height-dense);
      --sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);
      --sl-tooltip-arrow-size: 4px;

      --sl-z-index-drawer: 700;
      --sl-z-index-dialog: 800;
      --sl-z-index-dropdown: 900;
      --sl-z-index-toast: 950;
      --sl-z-index-tooltip: 1000;
    }

    .sl-scroll-lock {
      overflow: hidden !important;
    }

    .sl-toast-stack {
      position: fixed;
      top: 0;
      right: 0;
      z-index: var(--sl-z-index-toast);
      width: 28rem;
      max-width: 100%;
      max-height: 100%;
      overflow: auto;
    }

    .sl-toast-stack sl-alert {
      --box-shadow: var(--sl-shadow-large);
      margin: var(--sl-spacing-medium);
    }
  </style>
`;class py{constructor(){this.dataUltimaModificacao=(new Date).toISOString(),this.aplicacao="",this.versaoAplicacao="",this.modoEdicao=hy.EMENDA,this.metadados={},this.proposicao=new my,this.colegiadoApreciador=new vy,this.epigrafe=new gy,this.componentes=[new by],this.comandoEmenda=new Ey,this.justificativa="",this.local="",this.data=(new Date).toISOString().replace(/T.*/,""),this.autoria=new Iy,this.opcoesImpressao=new Sy}}var hy,fy;!function(t){t.EMENDA="emenda",t.EMENDA_ARTIGO_ONDE_COUBER="emendaArtigoOndeCouber"}(hy||(hy={}));class my{constructor(){this.urn="",this.sigla="",this.numero="",this.ano="",this.ementa="",this.identificacaoTexto=""}}class vy{constructor(){this.siglaCasaLegislativa="CN",this.tipoColegiado="Plenrio"}}class gy{constructor(){this.texto="",this.complemento=""}}class by{constructor(){this.urn="",this.articulado=!0,this.dispositivos=new yy}}class yy{constructor(){this.dispositivosSuprimidos=[],this.dispositivosModificados=[],this.dispositivosAdicionados=[]}}class xy{constructor(){this.tipo="",this.id=""}}class _y extends xy{}class wy extends xy{}class Ay extends wy{}class Ey{constructor(){this.comandos=[]}}class Oy{constructor(t,e){this.cabecalho=t,this.citacao=e}}!function(t){t.NAO_IDENTIFICADO="No identificado",t.PARLAMENTAR="Parlamentar",t.COMISSAO="Comisso",t.CASA_LEGISLATIVA="Casa Legislativa"}(fy||(fy={}));class Iy{constructor(){this.tipo=fy.PARLAMENTAR,this.imprimirPartidoUF=!0,this.quantidadeAssinaturasAdicionaisSenadores=0,this.quantidadeAssinaturasAdicionaisDeputados=0,this.parlamentares=[]}}class Sy{constructor(){this.imprimirBrasao=!0,this.textoCabecalho="",this.reduzirEspacoEntreLinhas=!1,this.tamanhoFonte=14}}class Cy{constructor(){this.ultimoProcessado=void 0,this.adjacentesOmissis=[],this.fecharAspasAposOmissis=!1}getTexto(t){t=t.filter((t=>t.pai.situacao.descricaoSituacao!==ou.DISPOSITIVO_SUPRIMIDO||gu(t.pai))),this.adjacentesOmissis=this.buscaDispositivosAdjacentesAsOmissis(t),t.push(...this.adjacentesOmissis),t.sort(sb.compare);const e=cb.getArvoreDispositivosDeAlteracaoDeNorma(t),o=new Jd;this.montaCitacaoComando(o,e);if(this.fecharAspasAposOmissis||cb.isFechaAspas(this.ultimoProcessado)){const t=[...e.keys()][0],i=rd(t),r=i.notaAlteracao?" ("+i.notaAlteracao+")":"";return o.toString().replace(/(<\/p>)$/,""+r+"$1")}return o.toString()}buscaDispositivosAdjacentesAsOmissis(t){const e=new Array;for(const o of t)if(mu(o)){const i=cb.getDispositivoAnteriorDireto(o);if(t.includes(i)||e.push(i),!cb.isFechaAspas(o)){const i=cb.getDispositivoPosteriorDireto(o);i&&!t.includes(i)&&e.push(i)}}return e}montaCitacaoComando(t,e){const o=[...e.keys()][0];e=e.get(o);const i=gu(o),r=o.tipo.toLowerCase()+(i?" agrupador":""),n=new ab("p").addAtributo("class",r);if(dd(o.pai)&&n.add(""),n.add(new ab("Rotulo").add(o.rotulo)),i)if(o.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO)n.add(cb.getTextoDoDispositivoOuOmissis(o)),t.append(n.toString());else{t.append(n.toString());const e=new ab("p").addAtributo("class",r).add(cb.getTextoDoDispositivoOuOmissis(o));t.append(e.toString())}else n.add(cb.getTextoDoDispositivoOuOmissis(o,!0)),t.append(n.toString());this.ultimoProcessado=o,e.size>0&&o.situacao.descricaoSituacao!==ou.DISPOSITIVO_SUPRIMIDO&&this.writeDispositivoTo(t,e),gu(o)||this.writeOmissisFinal(t,o)}writeDispositivoTo(t,e){const o=[...e.keys()];o.sort(sb.compare);for(const i of o){const o=e.get(i),r=cb.getDispositivoAnteriorDireto(i);if(su(this.ultimoProcessado)&&!lu(i)?lu(r)||mu(i)||t.append(this.tagOmissisSemRotulo().toString()):this.ultimoProcessado===r||mu(i)||r.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO||t.append(this.tagOmissisSemRotulo().toString()),!lu(i)){const e=gu(i),r=i.tipo.toLowerCase()+(e?" agrupador":"");if(i.situacao.descricaoSituacao!==ou.DISPOSITIVO_ORIGINAL){const e=new ab("p").addAtributo("classe",r);mu(i)||e.add(new ab("Rotulo").add(i.rotulo)),e.add(cb.getTextoDoDispositivoOuOmissis(i,!0)),t.append(e.toString())}else if(this.hasFilhosPropostos(o)||this.adjacentesOmissis.includes(i)){const e=new ab("p").addAtributo("classe",r);e.add(new ab("Rotulo").add(i.rotulo)),e.add(new ab("Omissis")),t.append(e.toString())}else t.append(new ab("Omissis").toString())}this.ultimoProcessado=i,o&&o.size>0&&this.writeDispositivoTo(t,o)}}tagOmissisSemRotulo(){return new ab("p").addAtributo("class","omissis").add(new ab("Omissis"))}writeOmissisFinal(t,e){if(e.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO)return;let o=e,i=cb.getFilhosEstiloLexML(o);for(;i.length;)o=i[i.length-1],i=cb.getFilhosEstiloLexML(o);if(lu(o)&&(o=o.pai),o.situacao.descricaoSituacao!==ou.DISPOSITIVO_ORIGINAL||this.adjacentesOmissis.includes(o)&&!mu(o)){if(!cb.isFechaAspas(o)){const e=cb.getDispositivoPosteriorDireto(o);e&&mu(e)&&(t.append(this.tagOmissisSemRotulo().toString()),this.fecharAspasAposOmissis=!0)}}else t.append(this.tagOmissisSemRotulo().toString()),this.fecharAspasAposOmissis=!0}hasFilhosPropostos(t){if(!t||!t.size)return!1;const e=t;let o=!1;for(const[t,i]of e.entries()){if(t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ORIGINAL){o=!0;break}!o&&i&&(o=this.hasFilhosPropostos(i))}return o}}class ky{getTexto(t){const e=new Jd,o=new Array;_d(t,(t=>{t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ORIGINAL&&o.push(t)})),o.sort(sb.compare);const i=o.length,r=o.filter((t=>t.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO||mu(t))).length;return i-r>0&&this.getCitacoesMultiplas(e,o),e.toString()}getCitacoesMultiplas(t,e){let o,i,r=new Array;for(const n of e)o=su(n)||gu(n)?n:Tu(n),o!==i&&(r.length&&this.getCitacaoMultipla(t,r),r=[o],i=o),r.includes(n)||r.push(n);r.length&&this.getCitacaoMultipla(t,r)}getCitacaoMultipla(t,e){const o=new Cy;t.append(o.getTexto(e))}}class Ny{constructor(){this.emAlteracao=!1}getTexto(t,e=!0,o=!0){let i=cb.getArvoreDispositivos(t);const r=new Jd,n=[...i.keys()][0];i=i.get(n);const a=gu(n),s=n.tipo.toLowerCase()+(a?" agrupador":""),l=new ab("p").addAtributo("class",s);if(e&&l.add(""),xu(n)||l.add(new ab("Rotulo").add(n.rotulo)),gu(n)){r.append(l.toString());const t=new ab("p").addAtributo("class",s).add(cb.getTextoDoDispositivoOuOmissis(n));r.append(t.toString())}else{const t=cb.getTextoDoDispositivoOuOmissis(n);l.add(xu(n)?t.trim():t),r.append(l.toString())}return i.size&&(this.ultimoProcessado=n,this.writeDispositivoTo(r,i)),this.writeOmissisFinal(r,n),o?r.toString().replace(/(<\/p>(?:<\/Alteracao>)?)$/,"$1"):r.toString()}writeDispositivoTo(t,e){var o;const i=Array.from(e.keys());i.sort(sb.compare);for(const r of i){const i=e.get(r);if(dd(r)){t.append("<Alteracao>"),this.emAlteracao=!0,this.ultimoProcessado=r,i.size&&this.writeDispositivoTo(t,i),t.append("</Alteracao>");continue}if(lu(r)){this.ultimoProcessado=r,i.size&&this.writeDispositivoTo(t,i);continue}const n=cb.getDispositivoAnteriorDireto(r);if(su(this.ultimoProcessado)&&!lu(r)?lu(n)||t.append(this.tagOmissisSemRotulo().toString()):this.ultimoProcessado===n||this.ultimoProcessado.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO&&Id(n,this.ultimoProcessado)||t.append(this.tagOmissisSemRotulo().toString()),r.situacao.descricaoSituacao!==ou.DISPOSITIVO_ORIGINAL||this.hasFilhosPropostos(i)){const e=su(r)?r.caput:r,i=this.emAlteracao?null===(o=r.rotulo)||void 0===o?void 0:o.replace("",""):r.rotulo,n=gu(r),a=r.tipo.toLowerCase()+(n?" agrupador":"");let s=new ab("p").addAtributo("class",a);if(nd(r)&&s.add(""),s.add(new ab("Rotulo").add(i)),n&&(t.append(s.toString()),s=new ab("p").addAtributo("class",a)),s.add(cb.getTextoDoDispositivoOuOmissis(e)),r.isDispositivoAlteracao&&sd(r)){s.add("");const t=rd(r);t.notaAlteracao&&s.add(" ("+t.notaAlteracao+")")}t.append(s.toString())}else t.append(this.tagOmissisSemRotulo().toString());this.ultimoProcessado=r,i.size&&this.writeDispositivoTo(t,i)}}tagOmissisSemRotulo(){return new ab("p").addAtributo("class","omissis").add(new ab("Omissis"))}writeOmissisFinal(t,e){if(e.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO||gu(e))return;let o=e;for(;o.filhos.length;)o=o.filhos[o.filhos.length-1];o.situacao.descricaoSituacao!==ou.DISPOSITIVO_ORIGINAL||Sd(o)||t.append(this.tagOmissisSemRotulo().toString())}hasFilhosPropostos(t){if(!t.size)return!1;let e=!1;for(const[o,i]of t.entries()){if(o.situacao.descricaoSituacao!==ou.DISPOSITIVO_ORIGINAL){e=!0;break}if(!e&&i.size&&(e=this.hasFilhosPropostos(i),e))break}return e}}class Ty{constructor(t){this.articulacao=t}getTexto(){const t=new Jd,e=this.getDispositivosParaCitacao(),o=e.length,i=e.filter((t=>t.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO)).length;return o-i>0&&this.getCitacoesMultiplas(t,e),t.toString()}getDispositivosParaCitacao(){const t=cb.getDispositivosNaoOriginais(this.articulacao).filter((t=>!(gu(t)&&t.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO)));t.sort(sb.compare);const e=new Array;return t.forEach((t=>{dd(t)?t.pai.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&e.push(t):pd(t)?e.indexOf(t.pai)>=0&&e.push(t):Sd(t)||e.push(t)})),e}getCitacoesMultiplas(t,e){let o,i,r=new Array,n=[];if(e.forEach((e=>{if(o=(su(e)||gu(e)||xu(e))&&!pd(e)?e:qu(e),o!==i){if(r.length){const e=i.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO||n.indexOf(i)<0,a=n.indexOf(o)<0;a&&(n=[]),t.append((new Ny).getTexto(r,e,a))}r=[],r.push(o),i=o}vu(o)&&o.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&n.indexOf(o)<0&&(n=this.getDispositivosMesmoGrupoDeAspas(o)),r.indexOf(e)<0&&r.push(e)})),r.length){const e=n.indexOf(i)<0;t.append((new Ny).getTexto(r,e,!0))}}getDispositivosMesmoGrupoDeAspas(t){const e=new Array;return wd(t,(t=>!(pd(t)||!gu(t)&&!su(t))&&(t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO||(e.push(t),!1)))),e.slice(1)}}const qy=(t,e)=>{t.splice(t.indexOf(e),1)};class Py{constructor(t){this.dispositivos=[],t&&this.add(t)}isSituacao(t){return!!this.dispositivos.length&&this.dispositivos[0].situacao.descricaoSituacao===t}isTipo(t){return!!this.dispositivos.length&&this.dispositivos[0].tipo===t}add(t){return!!this.podeAdicionarAoRange(t)&&(this.dispositivos.push(t),!0)}addInicio(t){this.dispositivos.splice(0,0,t)}isUltimo(t){return this.dispositivos.indexOf(t)===this.dispositivos.length-1}getPrimeiro(){return this.dispositivos[0]}getUltimo(){return this.dispositivos[this.dispositivos.length-1]}getQuantidadeDispositivos(){return this.dispositivos.length}getAnterior(t){if(!(t<1))return this.dispositivos[t-1]}getNumeracaoParaComandoEmenda(){let t=this.dispositivos[0].getNumeracaoParaComandoEmenda(this.dispositivos[0]);return this.dispositivos.length>1&&(t+=" a "+this.getUltimo().getNumeracaoParaComandoEmenda(this.getUltimo())),t}print(t,e){this.isRotuloNecessario(e)?this.printRotuloInicio(t,e):t.append(this.dispositivos[0].getNumeracaoParaComandoEmenda(this.dispositivos[0])),this.printSeparadorProximoDispositivo(t,e),this.printRotuloFimSeExistir(t)}printRotuloFimSeExistir(t){if(this.dispositivos.length>=2){const e=this.dispositivos[this.dispositivos.length-1];t.append(e.getNumeracaoParaComandoEmenda(e))}}printSeparadorProximoDispositivo(t,e){const o=this.getRangeDispositivosPosterior(e);this.dispositivos.length>=3?t.append(" a "):2!==this.dispositivos.length||o?this.dispositivos.length>1&&this.dispositivos.length<3&&o&&t.append(", "):t.append(" e ")}printRotuloInicio(t,e){const o=this.getRangeDispositivosPosterior(e);this.hasApenasUmDispositivo()&&!o||o&&!this.isMesmoTipoSituacao(o)?t.append(this.getRotuloCompletoSingular(this.dispositivos[0])):t.append(this.getRotuloCompletoPlural(this.dispositivos[0]))}isMesmoTipoSituacao(t){return t.isTipo(this.dispositivos[0].tipo)&&t.isSituacao(this.dispositivos[0].situacao.descricaoSituacao)}hasApenasUmDispositivo(){return 1===this.dispositivos.length}isRotuloNecessario(t){const e=this.getRangeDispositivosAnterior(t);return!e||!e.isMesmoTipoSituacao(this)||!(!this.isSituacao(ou.DISPOSITIVO_ADICIONADO)||this.isMesmoPai(e))}isMesmoPai(t){return this.getPrimeiro().pai===t.getPrimeiro().pai}getRotuloCompletoSingular(t){const e=new Jd;t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO?e.append(t.artigoDefinidoSingular):e.append(" ");const o=t.getNumeracaoComRotuloParaComandoEmenda(t);return o.endsWith(".")?e.append(o.substring(0,o.indexOf("."))):e.append(o),e.toString()}getRotuloCompletoPlural(t){const e=new Jd;return t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO?e.append(t.artigoDefinidoPlural):e.append(" "),e.append(this.getTipoDispositivoPlural(t)),e.append(" "),e.append(t.getNumeracaoParaComandoEmenda(t)),e.toString()}getRangeDispositivosAnterior(t){const e=t.indexOf(this);if(e>0)return t[e-1]}getRangeDispositivosPosterior(t){if(1===t.length)return;const e=t.indexOf(this);return e>=0&&e<t.length-1?t[e+1]:void 0}getTipoDispositivoPlural(t){var e;return t.tipo===Cl.artigo.tipo?"arts.":t.tipo===Cl.paragrafo.tipo?"":(null===(e=t.descricaoPlural)||void 0===e?void 0:e.toLocaleLowerCase())+""}podeAdicionarAoRange(t){if(this.isVazio())return!0;const e=this.getUltimo();return e.tipo===t.tipo&&(!!cb.isMesmaSituacaoParaComandoEmenda(e,t)&&(!(!su(t)&&t.pai!==e.pai)&&(Xu(e)===t&&(gu(t)?cb.verificaAgrupadoresAdicionadosEmSequencia(e,t):cb.isAlteracaoIntegral(e)===cb.isAlteracaoIntegral(t)))))}isVazio(){return 0===this.dispositivos.length}toString(){const t=new Jd;return this.dispositivos.forEach((e=>{t.append(" "),t.append(""+e.rotulo)})),t.toString()}getDispositivos(){return this.dispositivos}getDispositivo(t){return this.dispositivos[t]}}class Dy{constructor(){this.ranges=new Array,this.localizarEmAgrupador=!1,this.informarCaputDoDispositivo=!1}isVazio(){return 0===this.ranges.length}add(t){this.ranges.push(t)}addInicio(t){this.ranges.unshift(t)}getQuantidadeRanges(){return this.ranges.length}getPrimeiroRange(){return this.ranges[0]}getPrimeiroDispositivo(){return this.ranges[0].getPrimeiro()}getUltimoDispositivo(){return this.ranges[this.ranges.length-1].getUltimo()}getRanges(){return this.ranges}setRanges(t){this.ranges=t}getRange(t){return this.ranges[t]}getTextoListaDeDispositivos(){const t=new Jd,e=this.ranges.length;let o=1;for(const i of this.ranges)o>1&&(o===e?t.append(" e "):t.append(", ")),t.append(i.getNumeracaoParaComandoEmenda()),o++;return t.toString()}static debug(t){const e=new Jd;for(const o of t)e.append("seq: "+o);console.log(e)}toString(){return this.ranges.toString()}remove(t){qy(this.ranges,t)}}class Ry{getSequencias(t){const e=this.getRanges(t);return this.agrupaRanges(e)}getRanges(t){let e=new Array,o=new Py;for(const i of t)o.add(i)||(e.push(o),o=new Py,o.add(i));return o.isVazio()||e.push(o),e=Ry.separaRangesDeDoisDispositivos(e),e}static separaRangesDeDoisDispositivos(t){const e=new Array;for(const o of t)2===o.getQuantidadeDispositivos()?(e.push(new Py(o.getPrimeiro())),e.push(new Py(o.getUltimo()))):e.push(o);return e}separaRangesDeDoisDispositivosEmSequencias(t){for(const e of t)e.setRanges(Ry.separaRangesDeDoisDispositivos(e.getRanges()))}agrupaRanges(t){const e=new Array;let o=new Dy;for(const i of t)o.isVazio()?(o.add(i),e.push(o)):this.isMesmaSequencia(o,i)?o.add(i):(o=new Dy,o.add(i),e.push(o));return e}isMesmaSequencia(t,e){const o=t.getPrimeiroDispositivo(),i=e.getUltimo();return cb.isMesmoTipoParaComandoEmenda(o,i)&&cb.isMesmaSituacaoParaComandoEmenda(o,i)&&(o.tipo===Cl.artigo.tipo||o.pai===i.pai)&&o.tipo!==Cl.omissis.tipo&&(!vu(o)||cb.verificaAgrupadoresAdicionadosEmSequencia(t.getUltimoDispositivo(),e.getPrimeiro()))}separaDispositivosSeguidosDeOmissis(t){const e=new Array;for(const o of t)e.push(...this.separaDispositivosSeguidosDeOmissis2(o));return e}separaDispositivosSeguidosDeOmissis2(t){const e=new Array;let o=new Dy;e.push(o);let i=new Py;o.add(i);for(const r of t.getRanges()){i.getQuantidadeDispositivos()>0&&(i=new Py,o.add(i));for(const t of r.getDispositivos()){const r=Qu(t);r&&r.tipo===Cl.omissis.tipo?(this.adicionaouDispositivos(o,i)&&(0===i.getQuantidadeDispositivos()&&o.remove(i),o=new Dy,e.push(o),i=new Py,o.add(i)),o.informarCaputDoDispositivo=!0,i.add(t),o=new Dy,e.push(o),i=new Py,o.add(i)):i.add(t)}}return 0===i.getQuantidadeDispositivos()&&o.remove(i),0===o.getQuantidadeRanges()&&qy(e,o),this.separaRangesDeDoisDispositivosEmSequencias(e),e}adicionaouDispositivos(t,e){return t.getQuantidadeRanges()>1||e.getQuantidadeDispositivos()>0}}class Ly{constructor(t){this.dispositivos=t}static compare(t,e){var o,i;return(null===(o=t.dispositivos)||void 0===o?void 0:o.length)?(null===(i=e.dispositivos)||void 0===i?void 0:i.length)?sb.compare(t.dispositivos[0],e.dispositivos[0]):-1:1}}var My,$y;!function(t){t[t.NENHUM=0]="NENHUM",t[t.DEFINIDO=1]="DEFINIDO",t[t.DEFINIDO_COM_PREPOSICAO_A=2]="DEFINIDO_COM_PREPOSICAO_A"}(My||(My={})),function(t){t[t.APENAS_ROTULO=0]="APENAS_ROTULO",t[t.DENOMINACAO_DO_AGRUPADOR=1]="DENOMINACAO_DO_AGRUPADOR",t[t.TODO_AGRUPADOR=2]="TODO_AGRUPADOR",t[t.O_AGRUPADOR=3]="O_AGRUPADOR",t[t.ADICAO=4]="ADICAO"}($y||($y={}));class jy{constructor(){this.artigoAntesDispositivo=My.NENHUM,this.tipoReferenciaAgrupador=$y.APENAS_ROTULO}getTexto(t,e=!0){const o=new Jd,i=t.length;let r=1;for(const n of t){r>1&&(r===i?o.append(" e "):o.append(", "));const t=n.getPrimeiroDispositivo(),a=gu(t),s=this.tipoReferenciaAgrupador===$y.DENOMINACAO_DO_AGRUPADOR&&a,l=this.tipoReferenciaAgrupador===$y.TODO_AGRUPADOR&&a,c=this.tipoReferenciaAgrupador===$y.O_AGRUPADOR&&a&&!!t.filhos.length,u=a&&this.tipoReferenciaAgrupador===$y.ADICAO;n.informarCaputDoDispositivo?o.append(this.getReferenciaCaputDoDispositivo(n)):o.append(this.getTextoArtigoAntesSequencia(n,s,l,c)),s?o.append("denominao "+t.pronomePossessivoSingular+" "):c&&o.append("agrupador "),o.append(this.getRotuloTipoDispositivo(n,a)),o.append(" "),o.append(n.getTextoListaDeDispositivos()),e&&!u&&o.append(this.getRotuloPaisSequencia(n)),u&&o.append(jy.getLocalizacaoAgrupadores(n.getRanges())),r++}return o.toString().replace("ementa ","ementa")}getReferenciaCaputDoDispositivo(t){const e=new Jd,o=t.getPrimeiroDispositivo();if(o.tipo===Cl.caput.tipo)return this.getTextoArtigoAntesSequencia(t);const i=cb.isSequenciaPlural(t);return e.append(this.getTextoArtigoAntesDispositivo(this.artigoAntesDispositivo,gp,i)),e.append(" caput "),1===t.getRange(0).getQuantidadeDispositivos()?e.append(o.pronomePossessivoSingular):e.append(o.pronomePossessivoPlural),e.toString()}getTextoArtigoAntesSequencia(t,e=!1,o=!1,i=!1){const r=t.getPrimeiroDispositivo(),n=e?vp:i?gp:r,a=cb.isSequenciaPlural(t);return(o?"feminino"===r.tipoGenero?"toda ":"todo ":"")+this.getTextoArtigoAntesDispositivo(this.artigoAntesDispositivo,n,a)}getTextoArtigoAntesDispositivo(t,e,o){switch(t){case My.DEFINIDO:return o?e.artigoDefinidoPlural:e.artigoDefinidoSingular;case My.DEFINIDO_COM_PREPOSICAO_A:return o?e.artigoDefinidoPrecedidoPreposicaoAPlural:e.artigoDefinidoPrecedidoPreposicaoASingular;default:return""}}getRotuloTipoDispositivo(t,e){const o=t.getPrimeiroDispositivo(),i=jy.getRotuloTipoDispositivo(o,cb.isSequenciaPlural(t));return e?Xd(i):i}static getRotuloTipoDispositivo(t,e){return t.getNumeracaoParaComandoEmenda(t).indexOf("nico")>=0?"":e?su(t)?"arts.":cu(t)?"":String(t.descricaoPlural).toLocaleLowerCase():su(t)?t.situacao.descricaoSituacao!==ou.DISPOSITIVO_MODIFICADO||cb.isAlteracaoIntegral(t)?"art.":"caput do art.":cu(t)?"":String(t.descricao).toLowerCase()}getRotuloPaisSequencia(t){return this.getRotuloPais(t.getPrimeiroDispositivo(),t.localizarEmAgrupador)}getRotuloPais(t,e){var o;let i;if(vu(t))return jy.getRotuloPaisAgrupador(t);const r=new Jd;for(;!Ad(t);){if(i=t.pai,i&&dd(i)){if(t.tipo===Cl.omissis.tipo){const o=cb.getDispositivoAnteriorDireto(t);if(o.tipo!==Cl.alteracao.tipo)return r.append("aps "),r.append(o.artigoDefinidoSingular),r.append(o.getNumeracaoComRotuloParaComandoEmenda(o)),r.append(this.getRotuloPais(o,e)),r.toString()}break}if(i&&!Ad(i)&&(!vu(i)||su(t)&&e)){const n=pd(t),a=!n&&t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO,s=n&&!cb.isTextoOmitido(t)&&t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&!lb.existeNaNormaAlterada(t);if(a||s)r.append(i.artigoDefinidoPrecedidoPreposicaoASingular);else if(mu(t)){const n=cb.getDispositivoAnteriorDireto(t),a=cb.getDispositivoPosteriorDireto(t);if(n===i&&a&&a.pai===i){const t=a.pronomePossessivoSingular+" "+(null===(o=a.descricao)||void 0===o?void 0:o.toLowerCase())+" "+a.getNumeracaoParaComandoEmenda(a);r.append("antes "+t),r.append(i.pronomePossessivoSingular)}else if(!nu(n)||!n.pai)return r.append("aps "),r.append(n.artigoDefinidoSingular),r.append(n.getNumeracaoComRotuloParaComandoEmenda(n)),r.append(this.getRotuloPais(n,e)),r.toString()}else r.append(i.pronomePossessivoSingular);r.append(i.getNumeracaoComRotuloParaComandoEmenda(i))}else if(su(t)&&Ad(i)&&e){const e=cb.getProximoAgrupador(t);e&&(r.append(" antes "),r.append(e.pronomePossessivoSingular),r.append(e.getNumeracaoComRotuloParaComandoEmenda(e)))}if(!i)break;t=i}return r.toString()}static getRotuloPaisAgrupador(t){const e=new Jd;let o=t.pai;for(;o&&!Ad(o)&&!nu(o);)e.append(" "),e.append(o.pronomePossessivoSingular),e.append(" "),e.append(o.getNumeracaoComRotuloParaComandoEmenda(o)),o=o.pai;return e.toString()}static getLocalizacaoAgrupadores(t){const e=t[t.length-1].getUltimo(),o=Du(e,(t=>t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO&&!lu(t)&&!dd(t))),i=new Jd;if(i.append(" "),o)i.append("antes "),i.append(o.pronomePossessivoSingular),i.append(" "),i.append(o.getNumeracaoComRotuloParaComandoEmenda(o)),gu(o)&&i.append(jy.getRotuloPaisAgrupador(o));else{const e=t[0].getPrimeiro(),o=Pu(e,(t=>su(t)||gu(t)));o?(i.append("aps "),i.append(o.artigoDefinido),i.append(" "),i.append(o.getNumeracaoComRotuloParaComandoEmenda(o)),gu(o)&&i.append(jy.getRotuloPaisAgrupador(o))):i.append("!!! localizao no encontrada !!!")}return i.toString()}}class zy extends Ly{constructor(t,e,o){super(t),this.dispositivos=t,this.generoNormaAlterada=e,this.textoTodos=o}getTexto(t,e,o){const i=new Jd,r=(new Ry).getSequencias(this.dispositivos),n=this.dispositivos.length>1;e?i.append(n?"Acrescentem-se ":"Acrescente-se "):(i.append(o?"; e ":"; "),i.append(n?"acrescentem-se ":"acrescente-se "));const a=new jy;if(i.append(a.getTexto(r)),o){const t=r[r.length-1].getPrimeiroDispositivo();su(t)||gu(t)?i.append(this.generoNormaAlterada.artigoDefinidoPrecedidoPreposicaoASingular):(""!==this.textoTodos&&i.append(this.textoTodos),i.append(" "),i.append(this.generoNormaAlterada.pronomePossessivoSingular)),i.append(" ")}return i.toString()}}class Fy extends Ly{constructor(t,e,o){super(t),this.dispositivos=t,this.generoNormaAlterada=e,this.textoTodos=o}getTexto(t,e,o){const i=new Jd,r=new Ry,n=r.separaDispositivosSeguidosDeOmissis(r.getSequencias(this.dispositivos));e?i.append("D-se nova redao "):(i.append(o?"; e ":"; "),i.append("d-se nova redao "));const a=new jy;return a.artigoAntesDispositivo=My.DEFINIDO_COM_PREPOSICAO_A,a.tipoReferenciaAgrupador=$y.DENOMINACAO_DO_AGRUPADOR,i.append(a.getTexto(n)),o&&(""!==this.textoTodos&&i.append(this.textoTodos),i.append(" "),i.append(this.generoNormaAlterada.pronomePossessivoSingular),i.append(" ")),i.toString()}}class Uy extends Ly{constructor(t,e,o,i,r){super(t),this.dispositivos=t,this.alteracao=e,this.urnNormaAlterada=o,this.generoNormaAlterada=i,this.textoTodos=r}getTexto(t,e,o){const i=new Jd,r=(new Ry).getSequencias(this.dispositivos),n=cb.isSequenciasPlural(r);e?i.append(n?"Suprimam-se ":"Suprima-se "):(e||i.append(o?"; e ":"; "),i.append(n?"suprimam-se ":"suprima-se "));const a=new jy;return a.artigoAntesDispositivo=My.DEFINIDO,a.tipoReferenciaAgrupador=$y.O_AGRUPADOR,i.append(a.getTexto(r)),o&&(""!==this.textoTodos&&i.append(this.textoTodos),i.append(" "),i.append(this.generoNormaAlterada.pronomePossessivoSingular),i.append(" ")),i.toString()}escreveDispositivoAlterado(t,e){t.append(e.pronomePossessivoSingular),t.append(jy.getRotuloTipoDispositivo(e,!1)),t.append(" "),t.append(e.getNumeracaoParaComandoEmenda(e)),t.append(cb.getRotuloPais(e))}}class By{constructor(t){this.alteracao=t}getTexto(t){const e=new Jd,o=cb.getDispositivosNaAlteracaoParaComando(this.alteracao),i=this.alteracao.base;if(!i)return"No foi possvel gerar o comando de emenda porque a norma alterada no foi informada.";const r=(t=>{const e=Ap(t);return yp(e.genero)})(i),n=new Array,a=o.filter((t=>t.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO)),s=o.filter((t=>cb.getDescricaoSituacaoParaComandoEmenda(t)===ou.DISPOSITIVO_MODIFICADO)),l=o.filter((t=>cb.getDescricaoSituacaoParaComandoEmenda(t)===ou.DISPOSITIVO_ADICIONADO)),c=a.concat(s).concat(l),u=c.length,d=c.reduce(((t,e)=>t||"masculino"===e.tipoGenero),!1);let p="";2===u?p=d?", ambos":", ambas":u>2&&(p=d?", todos":", todas"),a.length&&n.push(new Uy(a,this.alteracao,i,r,p)),s.length&&n.push(new Fy(s,r,p)),l.length&&n.push(new zy(l,r,p)),n.sort(Ly.compare);let h=0;const f=n.length-1;n.forEach((o=>{e.append(o.getTexto(t,0===h,h===f)),h++})),this.escreveLei(e,i);const m=o.reduce(((t,e)=>t||e.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO),!1);return m?(""===p||e.toString().includes(p)?e.append(","):e.append(p),e.append(" na forma proposta ")):(e.append(", como "),this.escreveProposto(e,o.filter((t=>!cb.isTextoOmitido(t)||Bu(t))))),e.append(" "),this.escreveDispositivoAlterado(e,this.alteracao.pai),e.append(" "),e.append(t.genero.pronomePossessivoSingular),e.append(" "),e.append(t.nome),this.temCitacao(s,l)?e.append(", nos termos a seguir:"):e.append("."),cb.normalizaCabecalhoComandoEmenda(e.toString())}temCitacao(t,e){return!!t.length||!!e.find((t=>!mu(t)))}escreveDispositivoAlterado(t,e){t.append("pel"+e.artigoDefinidoSingular.trim()),t.append(" "),t.append(jy.getRotuloTipoDispositivo(e,!1)),t.append(" "),t.append(e.getNumeracaoParaComandoEmenda(e)),t.append(cb.getRotuloPais(e))}escreveLei(t,e){t.append(Tp(e))}escreveProposto(t,e){const o=e.length>1,i=e.filter((t=>t.tipoGenero===vp.tipoGenero)).length===e.length;t.append("propost"+(i?"a":"o")+(o?"s":""))}}class Vy extends Ly{constructor(t){super(t=cb.retiraPrimeirosFilhosAdicionadosAgrupador(t)),this.dispositivos=t}getTexto(t,e,o){const i=new Jd;let r=(new Ry).getSequencias(this.dispositivos);if(r=this.trataLocalizacaoEmAgrupador(r),e&&o&&this.trataComandoUnicoDeAcrescimoDeAgrupadoresConsecutivos(i,t,r))return i.toString();const n=cb.isSequenciasPlural(r);e?i.append(n?"Acrescentem-se ":"Acrescente-se "):(i.append(o?"; e ":"; "),i.append(n?"acrescentem-se ":"acrescente-se "));const a=new jy;if(a.tipoReferenciaAgrupador=$y.ADICAO,i.append(a.getTexto(r)),o){const o=r[r.length-1],n=o.getPrimeiroDispositivo();!su(n)||o.localizarEmAgrupador?i.append(t.genero.pronomePossessivoSingular):i.append(t.genero.artigoDefinidoPrecedidoPreposicaoASingular),i.append(t.nome),i.append(e?", com a seguinte redao:":", nos termos a seguir:")}return i.toString()}trataLocalizacaoEmAgrupador(t){const e=new Array;for(const o of t){const t=o.getPrimeiroDispositivo();su(t)?e.push(...this.trataLocalizacaoEmAgrupadorSequencia(o)):e.push(o)}return e}trataLocalizacaoEmAgrupadorSequencia(t){const e=new Array,o=new Array;for(const e of t.getRanges())o.push(...e.getDispositivos());let i=!1;for(const t of o)if(this.isInclusaoDeArtigoProximoAAgrupador(t)){i=!0;break}if(!i)return e.push(t),e;let r=new Dy;r.localizarEmAgrupador=!0,e.push(r);let n,a=new Py;r.add(a);for(const t of o)a.isVazio()||(t.pai!==n.pai?(r=new Dy,r.localizarEmAgrupador=!0,e.push(r),a=new Py,r.add(a)):cb.getDispositivoIrmaoPosterior(n)!==t&&(a=new Py,r.add(a))),a.add(t),n=t;for(const t of e)t.setRanges(Ry.separaRangesDeDoisDispositivos(t.getRanges()));return e}isInclusaoDeArtigoProximoAAgrupador(t){return this.isInclusaoNoInicioDeAgrupador(t)||this.isInclusaoImediatamenteAntesDeAgrupador(t)}isInclusaoNoInicioDeAgrupador(t){const e=t.pai;return!(Ad(e)||!vu(e))&&0===e.filhos.indexOf(t)}isInclusaoImediatamenteAntesDeAgrupador(t){const e=t.pai,o=cb.getDispositivoIrmaoPosterior(t);return!!o&&e!==o.pai}trataComandoUnicoDeAcrescimoDeAgrupadoresConsecutivos(t,e,o){const i=o[0],r=i.getPrimeiroDispositivo();if(1===o.length&&gu(r)){const n=i.getRanges();if(1===n.length||2===n.length&&1===n[0].getDispositivos().length&&1===n[1].getDispositivos().length&&cb.verificaAgrupadoresAdicionadosEmSequencia(n[0].getPrimeiro(),n[1].getPrimeiro())){const i=cb.isSequenciasPlural(o);t.append(i?"Acrescentem-se,":"Acrescente-se,"),t.append(jy.getLocalizacaoAgrupadores(n)),t.append(e.genero.pronomePossessivoSingular),t.append(" "),t.append(e.nome),t.append(", "),t.append(r.artigoDefinido),t.append(i?"s seguintes ":" seguinte ");const a=new jy;return t.append(a.getTexto(o,!1)),t.append(":"),!0}}return!1}}class Hy{constructor(t){this.dispositivos=t}getTexto(t){var e,o,i,r;if(!this.dispositivos.length)return"";const n=t.genero.contracaoEmArtigoDefinidoSingular+" "+t.nome,a=this.dispositivos.filter((t=>su(t)&&!gu(t.pai))).length,s=this.dispositivos.filter((t=>gu(t))).length,l=new Jd,c=a+s>1;c?l.append("Acrescentem-se, onde couber, "+n+" "):l.append("Acrescente-se, onde couber, "+n+" ");const u=a>0;if(u&&(l.append(c?"os seguintes ":"o seguinte "),l.append(a>1?"artigos":"artigo")),s>0){const t=this.dispositivos.find((t=>gu(t)));u?(l.append(" e "),l.append(s>1?null===(e=t.descricaoPlural)||void 0===e?void 0:e.toLocaleLowerCase():null===(o=t.descricao)||void 0===o?void 0:o.toLocaleLowerCase())):s>1?l.append(t.artigoDefinidoPlural+" seguintes "+(null===(i=t.descricaoPlural)||void 0===i?void 0:i.toLocaleLowerCase())):l.append(t.artigoDefinido+" seguinte "+(null===(r=t.descricao)||void 0===r?void 0:r.toLocaleLowerCase()))}return l.append(":"),Zd(l.toString())}}class Gy extends Ly{constructor(t){super(t),this.dispositivos=t}getTexto(t,e,o){const i=new Jd,r=(new Ry).getSequencias(this.dispositivos);e?(i.append("D-se "),o||i.append("nova redao ")):(i.append(o?"; e ":"; "),i.append("d-se nova redao "));const n=new jy;return n.artigoAntesDispositivo=My.DEFINIDO_COM_PREPOSICAO_A,n.tipoReferenciaAgrupador=$y.DENOMINACAO_DO_AGRUPADOR,i.append(n.getTexto(r).trim()),o&&(i.append(" "+t.genero.pronomePossessivoSingular+" "+t.nome),i.append(e?" a seguinte redao:":", nos termos a seguir:")),i.toString()}}class Ky extends Ly{constructor(t){super(t),this.dispositivos=t}getTexto(t,e,o){const i=new Jd,r=(new Ry).getSequencias(this.dispositivos),n=cb.isSequenciasPlural(r);e?i.append(n?"Suprimam-se ":"Suprima-se "):(i.append(o?"; e ":"; "),i.append(n?"suprimam-se ":"suprima-se "));const a=new jy;return a.artigoAntesDispositivo=My.DEFINIDO,a.tipoReferenciaAgrupador=$y.TODO_AGRUPADOR,i.append(a.getTexto(r)),o&&(i.append(" "+t.genero.pronomePossessivoSingular+" "+t.nome),i.append(e?".":", nos termos a seguir:")),i.toString()}}class Wy{constructor(t){this.dispositivosEmenda=t}getTexto(t){let e="";const o=cb.getDispositivosComando(this.dispositivosEmenda),i=o.filter((t=>t.situacao instanceof Zh&&t.situacao.tipoEmenda===Au.EMENDA_ARTIGO_ONDE_COUBER));if(i.length){if(i.length<o.length)throw new Error("Adio de artigos onde couber e outras alteraes na mesma emenda.");return new Hy(i).getTexto(t)}const r=[],n=o.filter((t=>t.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO));n.length&&r.push(new Ky(n));const a=o.filter((t=>t.situacao.descricaoSituacao===ou.DISPOSITIVO_MODIFICADO));a.length&&r.push(new Gy(a));const s=o.filter((t=>t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO));s.length&&r.push(new Vy(s)),r.sort(Ly.compare);let l=0;const c=r.length-1;return r.forEach((o=>{e+=o.getTexto(t,0===l,l===c),l++})),cb.normalizaCabecalhoComandoEmenda(e)}}class Qy{constructor(t,e){this.urn=t,this.articulacao=e}getComandoEmenda(){const t=new Ey,e=cb.getDispositivosNaoOriginais(this.articulacao),o=this.getDispositivosRepresentativosDeCadaComando(e);if(o.sort(sb.compare),!o.length)return t;const i=(t=>{const e=Ap(t);let o=yp(e.genero),i="Projeto";return o===vp&&(i=e.urn.startsWith("medida.provisoria")?"Medida Provisria":"Proposta"),new xp(i,o)})(this.urn);return o.forEach((o=>{let r,n,a;if(nu(o)){r=new By(o).getTexto(i);n=(new ky).getTexto(o),a=this.getTextoComplementoDispAlteracao(o)}else{r=new Wy(e).getTexto(i);n=new Ty(this.articulacao).getTexto(),a=this.getTextoComplementoDispProposicao(e)}const s=new Oy(r,n);a&&(s.complemento=a),t.comandos.push(s)})),t.comandos.length>1&&(t.cabecalhoComum=this.montaCabecalhoComum(i,t.comandos.length),t.comandos.forEach(((t,e)=>{t.rotulo=`Item ${e+1} `}))),t}getDispositivosRepresentativosDeCadaComando(t){const e=[];let o=!1;return t.forEach((t=>{const i=Eu(t);i&&dd(i)?e.includes(i)||i.pai.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO||i.pai.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO||e.push(i):o||(o=!0,e.push(t))})),e}montaCabecalhoComum(t,e){return`D-se nova redao ${t.genero.artigoDefinidoPrecedidoPreposicaoASingular} ${t.nome} nos termos dos itens ${this.listarItens(e)} a seguir.`}listarItens(t){return Array(t).fill(0).map(((t,e)=>e+1)).join(", ").replace(/, (\d+?)$/," e $1")}getTextoComplementoDispProposicao(t){const e=t.filter((t=>!pd(t)&&t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&t.situacao.tipoEmenda!==Au.EMENDA_ARTIGO_ONDE_COUBER&&t.pai.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO));if(e.length&&cb.verificaNecessidadeRenumeracaoRedacaoFinal(e))return"Os dispositivos acima propostos e adjacentes devero ser devidamente renumerados no momento da consolidao das emendas ao texto da proposio pela Redao Final."}getTextoComplementoDispAlteracao(t){const e=wd(t,(t=>gu(t)&&t.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO));if(e)return"O comando de supresso do agrupador no se refere aos dispositivos a ele subordinados."}}class Xy{constructor(t,e,o){this.tipoEmenda=t,this.urn=e,this.articulacao=o}getDispositivosEmenda(){const t=new yy;return this.preencheDispositivos(t),t}preencheDispositivos(t){const e=cb.getDispositivosNaoOriginais(this.articulacao),o=e.filter((t=>t.situacao.descricaoSituacao===ou.DISPOSITIVO_SUPRIMIDO&&t.pai.situacao.descricaoSituacao!==ou.DISPOSITIVO_SUPRIMIDO));if(o.length)for(const e of o){const o=new _y;o.tipo=this.getTipoDispositivoParaEmenda(e),o.id=e.id,o.rotulo=e.rotulo,this.addUrnNormaAlteradaSeNecessario(e,o),t.dispositivosSuprimidos.push(o)}const i=e.filter((t=>t.situacao.descricaoSituacao===ou.DISPOSITIVO_MODIFICADO));if(i.length)for(const e of i){const o=new wy;if(su(e)){const t=e.caput;o.tipo=this.getTipoDispositivoParaEmenda(t),o.id=t.id,o.texto=this.trataTexto(t.texto)}else o.tipo=this.getTipoDispositivoParaEmenda(e),o.id=e.id,o.texto=this.trataTexto(e.texto);o.rotulo=e.rotulo,e.isDispositivoAlteracao&&this.preencheAtributosAlteracao(e,o),this.addUrnNormaAlteradaSeNecessario(e,o),t.dispositivosModificados.push(o)}const r=this.separaAgrupadores(e.filter((t=>t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO&&!this.isDispositivoFilhoDeAdicionado(t))));if(r.length)for(const e of r){const o=this.criaDispositivoEmendaAdicionado(e);this.addUrnNormaAlteradaSeNecessario(e,o),t.dispositivosAdicionados.push(o)}}separaAgrupadores(t){const e=t=>t.situacao.descricaoSituacao!==ou.DISPOSITIVO_ADICIONADO?[]:gu(t)?[t,...t.filhos.flatMap((t=>e(t)))]:[t];return t.flatMap((t=>e(t)))}isDispositivoFilhoDeAdicionado(t){return!!(t.pai.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO||lu(t.pai)&&t.pai.pai.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO||t.isDispositivoAlteracao&&su(t)&&t.pai.pai.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO)}criaDispositivoEmendaAdicionado(t,e=!0){var o,i,r;const n=new Ay;if(n.tipo=this.getTipoDispositivoParaEmenda(t),t.id||(t.id=nh(t)),n.id=t.id,lu(t)||dd(t)||mu(t)||(n.rotulo=t.rotulo),su(t)||dd(t)||(n.texto=this.trataTexto(t.texto)),e)if(lu(t)||dd(t))n.idPai=null===(o=t.pai)||void 0===o?void 0:o.id;else if(gu(t))n.idPosicaoAgrupador=this.calculaPosicaoAgrupador(t);else{const e=cb.getFilhosEstiloLexML(t.pai);t!==e[0]?n.idIrmaoAnterior=e[e.indexOf(t)-1].id:Ad(t.pai)||(n.idPai=null===(i=t.pai)||void 0===i?void 0:i.id)}if(dd(t)){const e=t.base;e&&(n.urnNormaAlterada=e)}else t.isDispositivoAlteracao&&(n.existeNaNormaAlterada=null===(r=t.situacao)||void 0===r?void 0:r.existeNaNormaAlterada,this.preencheAtributosAlteracao(t,n));if(!gu(t)){const e=cb.getFilhosEstiloLexML(t);lu(t)&&t.pai.alteracoes&&e.push(t.pai.alteracoes),e.length&&(n.filhos=[],e.forEach((t=>{(lu(t)||dd(t)||t.situacao.descricaoSituacao===ou.DISPOSITIVO_ADICIONADO)&&n.filhos.push(this.criaDispositivoEmendaAdicionado(t,!1))})))}return n}calculaPosicaoAgrupador(t){const e=Wu(t);if(e&&!Ad(e))return gu(e)||su(e)?e.id:Tu(e).id}getTipoDispositivoParaEmenda(t){return nu(t)?"Alteracao":t.tipo}preencheAtributosAlteracao(t,e){if(!mu(t)&&e.texto&&e.texto.indexOf(ru)>=0&&(e.textoOmitido=!0),nd(t)&&(e.abreAspas=!0),sd(t)){e.fechaAspas=!0;const o=rd(t);e.notaAlteracao=o.notaAlteracao}}trataTexto(t){return t.indexOf(ru)>=0?ru:t.trim()}addUrnNormaAlteradaSeNecessario(t,e){var o,i,r;if(pd(t)){const n=null===(r=null===(i=null===(o=Eu(t))||void 0===o?void 0:o.pai)||void 0===i?void 0:i.alteracoes)||void 0===r?void 0:r.base;n&&(e.urnNormaAlterada=n)}}}const Zy=(t,e)=>{var o;let i;if(i=vu(t)?e.lXhier=[]:e.lXcontainersOmissis=[],su(t)){const e=tx(t.caput);Yy(t,e.value),i.push(e),Jy(null===(o=t.filhos)||void 0===o?void 0:o.filter((t=>!lu(t.pai))),i),Zy(t.caput,e.value)}else Jy(t.filhos,i);return i},Yy=(t,e)=>{var o,i,r;t.hasAlteracao()&&(e.alteracao={TYPE_NAME:"br_gov_lexml__1.Alteracao",base:"",id:"",content:[]},e.alteracao.base=null!==(i=null===(o=t.alteracoes)||void 0===o?void 0:o.base)&&void 0!==i?i:"",e.alteracao.id=(t=>{const e=[];return rh(t,e),e.join("_")+"_alt1"})(t.caput),null===(r=t.alteracoes.filhos)||void 0===r||r.forEach((t=>{const o=tx(t);e.alteracao.content.push(o),Zy(t,o.value)})))},Jy=(t,e)=>{null==t||t.forEach((t=>{const o=tx(t);e.push(o),Zy(t,o.value)}))},tx=t=>{const e={name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:t.tipo,prefix:"",key:`{http://www.lexml.gov.br/1.0}${t.tipo}`,string:`{http://www.lexml.gov.br/1.0}${t.tipo}`},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType"}};return ex(t,e.value),e},ex=(t,e)=>{e.href=lu(t)?ih(t.pai)+"_"+ih(t):ih(t),e.id=nh(t),nd(t)?(e.abreAspas="s",e.rotulo=t.rotulo):lu(t)||mu(t)||(e.rotulo=t.rotulo);const o=lu(t)?t.pai:t;if(pd(o)&&sd(o)){e.fechaAspas="s";const t=rd(o);e.notaAlteracao=t.notaAlteracao||"NR"}vu(t)?e.nomeAgrupador={TYPE_NAME:"br_gov_lexml__1.GenInline",content:ox(t)}:su(t)||(t.texto===ru?e.textoOmitido="s":e.p=[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:ox(t)}])},ox=t=>{const e=/<a[^>]+href="(.*?)"[^>]*>(.*?)<\/a>/gi,o=[],i=t.texto.match(e);if(i)t.texto.startsWith(i[0])||o.push(t.texto.substring(0,t.texto.indexOf(i[0])));else{const e=t.texto.indexOf(" (NR)");o.push(t.texto.substring(0,-1===e?void 0:e))}return null==i||i.forEach(((r,n)=>{var a,s;const l=r.match(e)?r:"";o.push(ix(null!=l?l:""));const c=(null===(a=t.texto)||void 0===a?void 0:a.indexOf(r))+r.length;if(c<t.texto.length-1){const e=i[n+1]?t.texto.indexOf(i[n+1]):t.texto.length;o.push(null===(s=t.texto.substring(c,e))||void 0===s?void 0:s.replace(/strong>/gi,"b>").replace(/em>/gi,"i>"))}})),o},ix=t=>{var e;const o=t.match(/href="(.*?)"*>/i),i=o&&o[1]?o[1]:"",r=t.match(/<a[^>]+href=".*?"[^>]*>(.*?)<\/a>/);return{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"span",prefix:"",key:"{http://www.lexml.gov.br/1.0}span",string:"{http://www.lexml.gov.br/1.0}span"},value:{TYPE_NAME:"br_gov_lexml__1.GenInline",href:i,content:r&&r[1]?[null===(e=r[1])||void 0===e?void 0:e.trim()]:[""]}}},rx={name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"LexML",prefix:"",key:"{http://www.lexml.gov.br/1.0}LexML",string:"{http://www.lexml.gov.br/1.0}LexML"},value:{TYPE_NAME:"br_gov_lexml__1.LexML",metadado:{TYPE_NAME:"br_gov_lexml__1.Metadado",identificacao:{TYPE_NAME:"br_gov_lexml__1.Identificacao",urn:""}},projetoNorma:{TYPE_NAME:"br_gov_lexml__1.ProjetoNorma",norma:{TYPE_NAME:"br_gov_lexml__1.HierarchicalStructure",parteInicial:{TYPE_NAME:"br_gov_lexml__1.ParteInicial",epigrafe:{TYPE_NAME:"br_gov_lexml__1.GenInline",id:"epigrafe",content:[""]},ementa:{TYPE_NAME:"br_gov_lexml__1.GenInline",id:"ementa",content:[""]},preambulo:{TYPE_NAME:"br_gov_lexml__1.TextoType",id:"preambulo",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:[""]}]}},articulacao:{TYPE_NAME:"br_gov_lexml__1.Articulacao",lXhier:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Artigo",prefix:"",key:"{http://www.lexml.gov.br/1.0}Artigo",string:"{http://www.lexml.gov.br/1.0}Artigo"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",id:"art1",rotulo:"Art. 1",lXcontainersOmissis:[{name:{namespaceURI:"http://www.lexml.gov.br/1.0",localPart:"Caput",prefix:"",key:"{http://www.lexml.gov.br/1.0}Caput",string:"{http://www.lexml.gov.br/1.0}Caput"},value:{TYPE_NAME:"br_gov_lexml__1.DispositivoType",id:"art1_cpt",p:[{TYPE_NAME:"br_gov_lexml__1.GenInline",content:[""]}]}}]}}]}}}}};let nx=class extends(pl(yg)(ol)){constructor(){super(...arguments),this.modo="",this.projetoNorma={},this._timerLoadEmenda=0}createRenderRoot(){return this}setProjetoNorma(t,e,o=!1){this.modo=t,this.projetoNorma=e,this.loadProjetoNorma(o),document.querySelector("lexml-eta-articulacao").style.display="block"}getDispositivosEmenda(){if(this.modo!==Au.EMENDA&&this.modo!==Au.EMENDA_ARTIGO_ONDE_COUBER)return;const t=this.projetoNorma.value.metadado.identificacao.urn,e=yg.getState().elementoReducer.articulacao;return new Xy(this.modo,t,e).getDispositivosEmenda()}setDispositivosEmenda(t){t&&(this.dispositivosEmenda=t,this.loadEmenda())}getComandoEmenda(){const t=this.projetoNorma.value.metadado.identificacao.urn,e=yg.getState().elementoReducer.articulacao;return new Qy(t,e).getComandoEmenda()}getProjetoAtualizado(){const t={...this.projetoNorma},e=(o=yg.getState().elementoReducer.articulacao,{TYPE_NAME:"br_gov_lexml__1.Articulacao",lXhier:Zy(o,{articulacao:{}})});var o;return t.value.projetoNorma[t.value.projetoNorma.norma?"norma":"projeto"].articulacao.lXhier=e.lXhier,t}loadProjetoNorma(t){var e,o,i;let r;if(this.projetoNorma&&this.projetoNorma.value||(this.projetoNorma=rx),this.modo===hy.EMENDA_ARTIGO_ONDE_COUBER){const o=null!==(e=ev(this.projetoNorma))&&void 0!==e?e:"";r=Jm(rx,!0),r.urn=o;const i=r.articulacao.artigos[0];i.rotulo="Art.",i.numero="1",i.id="art1";const n=new Zh;n.tipoEmenda=Au.EMENDA_ARTIGO_ONDE_COUBER,i.situacao=n,t&&r.articulacao.removeFilho(r.articulacao.filhos[0])}else r=Jm(this.projetoNorma,this.modo===Au.EMENDA);var n;null===(i=null===(o=document.querySelector("lexml-emenda"))||void 0===o?void 0:o.querySelector("sl-tab"))||void 0===i||i.click(),yg.dispatch((n=r.articulacao,{type:"ABRIR_ARTICULACAO",classificacao:this.modo,articulacao:n}))}loadEmenda(){this.dispositivosEmenda&&(clearInterval(this._timerLoadEmenda),this._timerLoadEmenda=window.setTimeout((()=>{yg.dispatch(ec.execute(this.dispositivosEmenda))}),1e3))}render(){return Ms`
      ${dy}
      <style>
        #gtx-trans {
          display: block;
        }

        lexml-eta-articulacao {
          display: none;
          height: 100%;
        }

        lexml-eta-articulacao:focus {
          outline: 0;
          border: 0px solid #f1f1f1;
          -webkit-box-shadow: 0px;
          box-shadow: none;
        }
      </style>

      <lexml-eta-articulacao></lexml-eta-articulacao>
    `}};nx=ns([rl("lexml-eta")],nx);const ax=us`
  sl-radio-group::part(base) {
    background-color: var(--sl-color-gray-100);
    box-shadow: var(--sl-shadow-x-large);
    padding: 20px 20px;
  }
  sl-radio-group::part(label) {
    background-color: var(--sl-color-gray-200);
    font-weight: bold;
    border-radius: 5px;
    border: 1px solid var(--sl-color-gray-300);
    padding: 2px 5px;
    box-shadow: var(--sl-shadow-small);
  }

  legend {
    font-weight: normal;
  }

  .lexml-autoria {
    display: block;
    font-size: var(--sl-font-size-small);
    font-family: var(--sl-font-sans);
    max-width: 700px;
  }

  .lexml-autocomplete {
    width: 100%;
  }

  .grid-autoria {
    display: grid;
    grid-template-columns: 3fr 2fr 250px;
  }

  .autoria-grid {
    display: flex;
    flex-direction: row;
    align-items: flex-start;
    width: 100%;
    padding: 0 0 4px 0;
    flex-wrap: wrap;
  }

  .autoria-grid--col1 {
    flex: none;
    order: 0;
    flex-grow: 1;
  }

  .autoria-grid--col2 {
    flex: none;
    order: 1;
    flex-grow: 1;
  }

  .autoria-grid--col3 {
    flex: none;
    order: 2;
    flex-grow: 1;
  }

  [class^='autoria-grid--'] {
    margin: 0px 2px;
  }

  .autoria-grid:first-child {
    padding: 0 0 2px 0;
  }

  .autoria-header {
    width: 180px;
    padding: 0px 2px;
  }

  .autoria-buttons {
    width: 124px;
    text-align: right;
  }

  .autoria-input {
    width: 100%;
    margin: 0px;
  }

  .autoria-button {
    background-color: white;
    border: 1px solid #555;
    border-radius: 2px;
    padding: 2px 4px;
    cursor: pointer;
  }

  .autoria-label {
    display: none;
  }

  .autoria-icon {
    background-color: #555;
  }

  .icon-up {
    display: block;
    width: 24px;
    height: 24px;
    -webkit-mask-position-y: 1px;
    -webkit-mask-image: url("data:image/svg+xml;utf8, <svg xmlns='http://www.w3.org/2000/svg' class='autoria-iccm' viewBox='0 0 16 16'><path d='m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z'/></svg>");
    mask-image: url("data:image/svg+xml;utf8, <svg xmlns='http://www.w3.org/2000/svg' class='autoria-iccm' viewBox='0 0 16 16'><path d='m7.247 4.86-4.796 5.481c-.566.647-.106 1.659.753 1.659h9.592a1 1 0 0 0 .753-1.659l-4.796-5.48a1 1 0 0 0-1.506 0z'/></svg>");
  }

  .icon-down {
    display: block;
    width: 24px;
    height: 24px;
    -webkit-mask-position-y: 1px;
    -webkit-mask-image: url("data:image/svg+xml;utf8, <svg xmlns='http://www.w3.org/2000/svg' class='autoria-iccm' viewBox='0 0 16 16'><path d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/></svg>");
    mask-image: url("data:image/svg+xml;utf8, <svg xmlns='http://www.w3.org/2000/svg' class='autoria-iccm' viewBox='0 0 16 16'><path d='M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z'/></svg>");
  }

  .icon-delete {
    display: block;
    width: 24px;
    height: 24px;
    -webkit-mask-position-y: 1px;
    -webkit-mask-image: url("data:image/svg+xml;utf8, <svg xmlns='http://www.w3.org/2000/svg' class='autoria-iccm' viewBox='0 0 16 16'><path d='M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z'/><path fill-rule='evenodd' d='M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z'/></svg>");
    mask-image: url("data:image/svg+xml;utf8, <svg xmlns='http://www.w3.org/2000/svg' class='autoria-iccm' viewBox='0 0 16 16'><path d='M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z'/><path fill-rule='evenodd' d='M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z'/></svg>");
  }

  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  .assinaturas-adicionais {
    padding-top: 10px;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    vertical-align: center;
    gap: 10px;
  }

  .assinaturas-adicionais div {
    padding-top: 5px;
  }

  .assinaturas-adicionais .autoria-input {
    display: block;
    max-width: 400px;
  }

  @media (max-width: 576px) {
    .autoria-grid {
      flex-direction: column;
    }

    .autoria-labels {
      display: none;
    }
    .autoria-label {
      display: block;
    }

    .autoria-buttons {
      width: calc(100% - 3px);
    }

    .autoria-input {
      width: calc(100% - 2px);
    }

    [class^='autoria-grid--'] {
      width: 100%;
      padding: 2px 0;
    }
  }
`,sx=new class{constructor(){this.identificacao="",this.nome="",this.sexo="M",this.siglaPartido="",this.siglaUF="",this.siglaCasaLegislativa="CD",this.cargo=""}};function lx(t=200){return function(e,o,i){return{get(){const e=(...e)=>{let o=0;const r=()=>{clearInterval(o),this._isProcessandoValidacao?o=window.setTimeout((()=>r()),t):i.value.apply(this,e)};r()};return Object.defineProperty(this,o,{value:e,configurable:!0,writable:!0}),e}}}}let cx=class extends ol{constructor(){super(...arguments),this._nomesAutocomplete=[],this._podeIncluirParlamentar=!0,this._parlamentaresAutocomplete=[],this._exibirTemplateTipoAutoria=!1,this._timerValidacao=0,this._isProcessandoValidacao=!1,this.timerEmitirEventoOnChange=0,this._isProcessandoMovimentacao=!1,this._lastIndexAutoCompleted=-1}set parlamentares(t){const e=this._parlamentaresAutocomplete;this._parlamentaresAutocomplete=t,this._nomesAutocomplete=t.map((t=>t.nome)),this.requestUpdate("parlamentares",e)}get parlamentares(){return this._parlamentaresAutocomplete}set autoria(t){const e=this._autoriaOriginal;this._autoriaOriginal=t,this._autoria=t?{...t,parlamentares:[...t.parlamentares]}:new Iy,this._autoria.parlamentares.length||(this._autoria.parlamentares=[{...sx}]),this._podeIncluirParlamentar=this._isAllAutoresOk(),this.requestUpdate("autoria",e)}get autoria(){return this._autoriaOriginal}getAutoriaAtualizada(){return{...this._autoria,parlamentares:this._autoria.parlamentares.filter((t=>t.identificacao))}}render(){var t,e;return Ms`
      <sl-radio-group label="Autoria" fieldset class="lexml-autoria">
        ${this._getTipoAutoriaTemplate()}
        <div class="autoria-list">${this._getParlamentaresTemplate()}</div>
        <sl-button id="btnNovoParlamentar" variant="primary" @click=${this._incluirNovoParlamentar} ?disabled=${!this._podeIncluirParlamentar}>
          Incluir ${(null===(t=this._autoria)||void 0===t?void 0:t.parlamentares.length)?"outro":""} parlamentar
        </sl-button>

        ${this._getAssinaturasAdicionaisTemplate()}

        <div class="assinaturas-adicionais">
          <label>
            <input type="checkbox" id="chk-exibir-partido-uf" ?checked=${null===(e=this._autoria)||void 0===e?void 0:e.imprimirPartidoUF} @input=${t=>this._atualizarExibirPartidoUF(t)} />
            Imprimir partido e UF para os signatrios
          </label>
        </div>
      </sl-radio-group>
    `}_getTipoAutoriaTemplate(){var t,e;return this._exibirTemplateTipoAutoria?Ms`
          <fieldset class="autoria-label--tipo-autoria">
            <legend>Tipo de autoria</legend>
            <div class="control">
              <label class="radio">
                <input type="radio" id="opt-parlamentar" name="tipoAutoria" value="Parlamentar" ?checked=${"Parlamentar"===(null===(t=this._autoria)||void 0===t?void 0:t.tipo)} />
                Parlamentar
              </label>
              <label class="radio">
                <input type="radio" id="opt-comissao" name="tipoAutoria" value="Comisso" ?checked=${"Comisso"===(null===(e=this._autoria)||void 0===e?void 0:e.tipo)} />
                Comisso
              </label>
            </div>
          </fieldset>
        `:Ms`<div></div>`}_getParlamentaresTemplate(){var t;return Ms`
      <div class="autoria-grid autoria-labels">
        <div class="autoria-grid--col1"><div class="autoria-header">Parlamentar</div></div>
        <div class="autoria-grid--col2"><div class="autoria-header">Cargo</div></div>
        <div class="autoria-grid--col3"><div class="autoria-buttons"></div></div>
      </div>
      ${null===(t=this._autoria)||void 0===t?void 0:t.parlamentares.map(((t,e)=>this._getParlamentarAutocompleteTemplate(e)))}
    `}_getParlamentarAutocompleteTemplate(t){var e;return Ms`
      <div class="autoria-grid">
        <div class="autoria-grid--col1">
          <label for="defaultInput" class="autoria-label">Parlamentar</label>
          <lexml-autocomplete
            class="lexml-autocomplete"
            .items=${this._nomesAutocomplete}
            value=${this._autoria.parlamentares[t].nome}
            @input=${e=>this._validarNomeParlamentar(e,t)}
            @blur=${e=>this._validarNomeParlamentar(e,t)}
            @autocomplete=${e=>this._atualizarParlamentar(e,t)}
            @keyup=${e=>this._handleKeyUp(e,t)}
            @click=${this._handleClickAutoComplete}
          ></lexml-autocomplete>
        </div>

        <div class="autoria-grid--col2">
          <label for="tex-cargo" class="autoria-label">Cargo</label>
          <sl-input
            type="text"
            id="tex-cargo"
            placeholder="ex: Presidente da Comisso ..., Lder do ..."
            class="autoria-input"
            aria-label="Cargo"
            size="small"
            .value=${null!==(e=this._autoria.parlamentares[t].cargo)&&void 0!==e?e:""}
            @input=${e=>this._atualizarCargo(e,t)}
            @keyup=${e=>this._handleKeyUp(e,t)}
          ></sl-input>
        </div>

        <div class="autoria-grid--col3">
          <div class="autoria-buttons">
            <sl-button
              id="paraBaixo"
              size="small"
              aria-label="Para baixo"
              title="Para baixo"
              @click=${()=>this._moverParlamentar(t,1)}
              .disabled=${t===this._autoria.parlamentares.length-1}
            >
              <sl-icon name="arrow-down"></sl-icon>
            </sl-button>
            <sl-button
              id="paraCima"
              size="small"
              aria-label="Para cima"
              title="Para cima"
              @click=${()=>this._moverParlamentar(t,-1)}
              .disabled=${0===t}
            >
              <sl-icon name="arrow-up"></sl-icon>
            </sl-button>
            <sl-button
              id="excluir"
              size="small"
              aria-label="Excluir"
              title="Excluir"
              @click=${()=>this._excluirParlamentar(t)}
              .disabled=${1===this._autoria.parlamentares.length}
            >
              <sl-icon name="trash"></sl-icon>
            </sl-button>
          </div>
        </div>
      </div>
    `}_getAssinaturasAdicionaisTemplate(){var t,e,o,i;return Ms`
      <div class="assinaturas-adicionais">
        <sl-input
          label="Quantidade de assinaturas adicionais de Senadores"
          type="number"
          id="num-assinaturas-adicionais-senadores"
          class="autoria-input"
          aria-label="Assinaturas Adicionais Senadores"
          size="small"
          .value=${null!==(e=null===(t=this._autoria)||void 0===t?void 0:t.quantidadeAssinaturasAdicionaisSenadores.toString())&&void 0!==e?e:"0"}
          @input=${t=>this._atualizarQtdAssinaturasAdicionaisSenadores(t)}
        ></sl-input>
        <sl-input
          label="Quantidade de assinaturas adicionais de Deputados Federais"
          type="number"
          id="num-assinaturas-adicionais-deputados"
          class="autoria-input"
          aria-label="Assinaturas Adicionais deputados"
          size="small"
          .value=${null!==(i=null===(o=this._autoria)||void 0===o?void 0:o.quantidadeAssinaturasAdicionaisDeputados.toString())&&void 0!==i?i:"0"}
          @input=${t=>this._atualizarQtdAssinaturasAdicionaisDeputados(t)}
        ></sl-input>
      </div>
    `}updated(){this._isProcessandoMovimentacao=!1}_isAllAutoresOk(){return this._autoria.parlamentares.every((t=>t.identificacao))}_incluirNovoParlamentar(){this._autoria.parlamentares=((t,e)=>{const o=[...t];return o.push(e),o})(this._autoria.parlamentares,{...sx}),this._podeIncluirParlamentar=!1,setTimeout((()=>this._autocompletes[this._autoria.parlamentares.length-1].focus()),200)}_moverParlamentar(t,e){this._autoria.parlamentares=((t,e,o)=>{const i=e+o;if(i<0||i>=t.length)return t;const r=[...t];return r.splice(i,0,r.splice(e,1)[0]),r})(this._autoria.parlamentares,t,e),this.agendarEmissaoEventoOnChange("moverAutor"),this.requestUpdate()}_excluirParlamentar(t){this._autoria.parlamentares=((t,e)=>{const o=[...t];return o.splice(e,1),o})(this._autoria.parlamentares,t),this._autoria.parlamentares.length||(this._autoria.parlamentares=[{...sx}]),this._podeIncluirParlamentar=this._isAllAutoresOk(),this.agendarEmissaoEventoOnChange("excluirAutor"),this.requestUpdate()}_validarNomeParlamentar(t,e){this._isProcessandoValidacao=!0;const o="blur"===t.type;o||clearInterval(this._timerValidacao),this._timerValidacao=window.setTimeout((()=>{var t;const i=this._podeIncluirParlamentar,r=this._autocompletes[e],n=this._autoria.parlamentares[e].cargo,a=null!==(t=r.value)&&void 0!==t?t:"",s=new RegExp("^"+a.normalize("NFD").replace(tp,"")+"$","i"),l=this.parlamentares.find((t=>t.nome.normalize("NFD").replace(/[\u0300-\u036f]/g,"").match(s)))||{...sx,nome:o?"":a},c=!!l.identificacao;l.cargo=o&&!c?"":n,this._autoria.parlamentares[e]={...l},this._podeIncluirParlamentar=c&&this._isAllAutoresOk(),o&&!c&&(r.value=""),this._isProcessandoValidacao=!1,i!==this._podeIncluirParlamentar&&this.agendarEmissaoEventoOnChange("atualizarAutor")}),"blur"===t.type?200:0)}_atualizarParlamentar(t,e){const o=this.parlamentares.find((e=>e.nome===t.detail.value));if(o){const{cargo:t}=this._autoria.parlamentares[e];this._autoria.parlamentares[e]={...o,cargo:t}}this._podeIncluirParlamentar=!!o&&this._isAllAutoresOk(),t.target.focus(),this._lastIndexAutoCompleted=e,this.agendarEmissaoEventoOnChange("atualizarAutor"),this.requestUpdate()}_atualizarCargo(t,e){const o=this._autoria.parlamentares[e].cargo,i=t.target.value;this._autoria.parlamentares[e].cargo=i,o!==i&&this.agendarEmissaoEventoOnChange("atualizarAutor")}_atualizarQtdAssinaturasAdicionaisSenadores(t){this._autoria.quantidadeAssinaturasAdicionaisSenadores=Number(t.target.value)}_atualizarQtdAssinaturasAdicionaisDeputados(t){this._autoria.quantidadeAssinaturasAdicionaisDeputados=Number(t.target.value)}_atualizarExibirPartidoUF(t){this._autoria.imprimirPartidoUF=t.target.checked}_handleKeyUp(t,e){t.ctrlKey||t.altKey||t.shiftKey?!t.ctrlKey||t.altKey||t.shiftKey||("ArrowUp"===t.key?this._isProcessandoMovimentacao||(this._isProcessandoMovimentacao=!0,this._moverParlamentar(e,-1),this._focarAutocompleteOuCargo(t.target,e,-1)):"ArrowDown"===t.key&&(this._isProcessandoMovimentacao||(this._isProcessandoMovimentacao=!0,this._moverParlamentar(e,1),this._focarAutocompleteOuCargo(t.target,e,1)))):"Enter"===t.key&&this._podeIncluirParlamentar&&e!==this._lastIndexAutoCompleted?(this._btnNovoParlamentar.click(),this._lastIndexAutoCompleted=-1):["ArrowUp","ArrowDown"].includes(t.key)&&this._autoria.parlamentares[e].identificacao&&this._focarAutocompleteOuCargo(t.target,e,"ArrowUp"===t.key?-1:1)}_focarAutocompleteOuCargo(t,e,o){const i="LEXML-AUTOCOMPLETE"===t.tagName?this._autocompletes:this._inputCargos,r=e+o;r<0||r>=i.length||setTimeout((()=>i[r].focus()),0)}_handleClickAutoComplete(){window.setTimeout((()=>this._lastIndexAutoCompleted=-1),0)}agendarEmissaoEventoOnChange(t){clearInterval(this.timerEmitirEventoOnChange),this.timerEmitirEventoOnChange=window.setTimeout((()=>this.emitirEventoOnChange(t)),500)}emitirEventoOnChange(t){this.dispatchEvent(new CustomEvent("onchange",{bubbles:!0,composed:!0,detail:{origemEvento:t}}))}};cx.styles=[ax],ns([cl("#btnNovoParlamentar")],cx.prototype,"_btnNovoParlamentar",void 0),ns([ul("input#tex-cargo")],cx.prototype,"_inputCargos",void 0),ns([ul("lexml-autocomplete")],cx.prototype,"_autocompletes",void 0),ns([sl()],cx.prototype,"_nomesAutocomplete",void 0),ns([sl()],cx.prototype,"_podeIncluirParlamentar",void 0),ns([al({type:Array})],cx.prototype,"parlamentares",null),ns([al({type:Object})],cx.prototype,"autoria",null),ns([lx()],cx.prototype,"_moverParlamentar",null),ns([lx()],cx.prototype,"_excluirParlamentar",null),cx=ns([rl("lexml-autoria")],cx);let ux=class extends ol{constructor(){super(...arguments),this.items=[],this.opened=!1,this.maxSuggestions=10,this._suggestions=[],this._bound={},this._blur=!1,this._mouseEnter=!1}render(){return Ms`
      <style>
        .suggest-container {
          position: relative;
        }

        ul {
          position: absolute;
          display: block;
          list-style-type: none;
          margin: 0;
          padding: 0;
          z-index: 10000;
          border: 1px solid grey;
          background: white;
        }
        li {
          padding: 4px;
          cursor: pointer;
        }
        li.active {
          background: whitesmoke;
        }
        [hidden] {
          display: none;
        }

        .lexml-autocomplete-input {
          width: 100%;
        }

        @media (max-width: 576px) {
          .lexml-autocomplete-label {
            width: calc(100% - 2px);
            display: block;
          }
          .lexml-autocomplete-input {
            width: calc(100% - 2px);
          }
        }
      </style>
      <slot id="dropdown-input">
        <!-- <input id="defaultInput" class="lexml-autocomplete-input" type="text" placeholder="Parlamentar" .value=${this.value||""} /> -->
        <sl-input id="defaultInput" class="lexml-autocomplete-input" type="text" placeholder="Parlamentar" size="small" .value=${this.value||""}></sl-input>
      </slot>
      <div class="suggest-container">
        <ul id="suggestions" ?hidden=${!this.opened} @mouseenter=${this._handleItemMouseEnter} @mouseleave=${this._handleItemMouseLeave}>
          ${this._suggestions.map((t=>Ms`<li @click=${()=>this.autocomplete(t)}>${t}</li>`))}
        </ul>
      </div>
    `}get contentElement(){if(this._inputEl)return this._inputEl;if(!this.hasUpdated)return;const t=this.shadowRoot.getElementById("dropdown-input").assignedElements();return this._inputEl=t.length?t[0]:this.shadowRoot.getElementById("defaultInput"),this._inputEl}get value(){return this.contentElement&&this.contentElement.value}set value(t){this.contentElement?this.contentElement.value=t:this._tempValue=t}firstUpdated(){this._suggestionEl=this.shadowRoot.getElementById("suggestions"),this._suggestionEl.style.width=`${this.contentElement.getBoundingClientRect().width}px`,this._bound.onKeyDown=this._handleKeyDown.bind(this),this._bound.onKeyUp=this._handleKeyUp.bind(this),this._bound.onFocus=this._handleFocus.bind(this),this._bound.onBlur=this._handleBlur.bind(this),this.contentElement.addEventListener("keydown",this._bound.onKeyDown),this.contentElement.addEventListener("keyup",this._bound.onKeyUp),this.contentElement.addEventListener("focus",this._bound.onFocus),this.contentElement.addEventListener("blur",this._bound.onBlur),void 0!==this._tempValue&&(this.contentElement.value=this._tempValue)}disconnectedCallback(){this.contentElement&&(this.contentElement.removeEventListener("keydown",this._bound.onKeyDown),this.contentElement.removeEventListener("keyup",this._bound.onKeyUp),this.contentElement.removeEventListener("focus",this._bound.onFocus),this.contentElement.removeEventListener("blur",this._bound.onBlur))}focus(t){this.contentElement&&this.contentElement.focus(t)}updated(t){t.has("opened")&&this.opened&&this._suggestionEl.childElementCount&&(this._highlightedEl=this._suggestionEl.children[0],this._highlightedEl.classList.add("active"))}open(){"0px"===this._suggestionEl.style.width&&(this._suggestionEl.style.width=`${this.contentElement.getBoundingClientRect().width}px`),this._suggestions.length&&(this.opened=!0)}close(){this.opened=!1,this._highlightedEl=null}suggest(t){this._suggestions=t||[],this._suggestions.length>1||1===this._suggestions.length&&this._suggestions[0]!==this.contentElement.value?this.open():this.close(),this.requestUpdate()}autocomplete(t){this.contentElement.value=t,this.close(),this.dispatchEvent(new CustomEvent("autocomplete",{detail:{value:t},composed:!0,bubbles:!0}))}_highlightPrev(){this._highlightedEl&&this._highlightedEl.previousElementSibling&&(this._highlightedEl.classList.remove("active"),this._highlightedEl=this._highlightedEl.previousElementSibling,this._highlightedEl.classList.add("active"))}_highlightNext(){this._highlightedEl&&this._highlightedEl.nextElementSibling&&(this._highlightedEl.classList.remove("active"),this._highlightedEl=this._highlightedEl.nextElementSibling,this._highlightedEl.classList.add("active"))}_handleKeyDown(t){"ArrowUp"!==t.key&&"ArrowDown"!==t.key||(t.preventDefault(),t.stopPropagation())}_handleKeyUp(t){var e,o;switch(t.key){case"ArrowUp":(null===(e=this._highlightedEl)||void 0===e?void 0:e.previousElementSibling)&&(t.preventDefault(),t.stopPropagation(),this._highlightPrev());break;case"ArrowDown":(null===(o=this._highlightedEl)||void 0===o?void 0:o.nextElementSibling)&&(t.preventDefault(),t.stopPropagation(),this._highlightNext());break;case"Enter":this._highlightedEl&&this._highlightedEl.click();break;default:if(this.items.length){const{value:t}=this.contentElement,e=t.normalize("NFD").replace(tp,"");this.suggest(this._findSuggetions(e))}}}_findSuggetions(t,e=this.maxSuggestions){if(!t)return[];let o=this._filterStartWith(t,e);return o.length<this.maxSuggestions&&(o=[...o,...this._filterContains(t,this.maxSuggestions-o.length).filter((t=>!o.includes(t)))]),o}_filterStartWith(t,e=this.maxSuggestions){const o=new RegExp("^"+t,"gi");return t&&this.items.filter((t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").match(o))).slice(0,e)||[]}_filterContains(t,e=this.maxSuggestions){const o=new RegExp(t,"gi");return t&&this.items.filter((t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").match(o))).slice(0,e)||[]}_handleFocus(){this._blur=!1,this._suggestions.length>1&&this.open()}_handleBlur(){this._blur=!0,setTimeout((()=>this.close()),200),this._suggestions=[]}_handleItemMouseEnter(){this._mouseEnter=!0}_handleItemMouseLeave(){this._mouseEnter=!1,this._blur&&setTimeout((()=>this.close()),500)}};ns([al({type:Array})],ux.prototype,"items",void 0),ns([al({type:Boolean,reflect:!0})],ux.prototype,"opened",void 0),ns([al({type:Number})],ux.prototype,"maxSuggestions",void 0),ns([al({type:String})],ux.prototype,"value",null),ux=ns([rl("lexml-autocomplete")],ux);let dx=class extends ol{constructor(){super(...arguments),this.data="",this.timerOnChange=0}updated(){this.inputData.value=this.data||this.inputData.value||(new Date).toISOString().replace(/T.+$/,""),this.data||this.optionNaoInformarData.checked||(this.optionNaoInformarData.checked=!0)}render(){return Ms`
      <style>
        sl-radio-group::part(base) {
          display: flex;
          flex-direction: row;
          align-items: center;
          gap: 10px;
          background-color: var(--sl-color-gray-100);
          box-shadow: var(--sl-shadow-x-large);
          flex-wrap: wrap;
          padding: 20px 20px;
        }
        sl-radio-group::part(label) {
          background-color: var(--sl-color-gray-200);
          font-weight: bold;
          border-radius: 5px;
          border: 1px solid var(--sl-color-gray-300);
          padding: 2px 5px;
          box-shadow: var(--sl-shadow-small);
        }
        sl-radio-group > sl-radio:first-child {
          display: inline-flex;
          padding: 0 20px 0 0;
        }
        sl-input::part(form-control) {
          display: flex;
          flex-direction: row;
          gap: 10px;
          align-items: center;
          flex-wrap: wrap;
        }
        sl-input::part(base) {
          max-width: 190px;
        }
        @media (max-width: 480px) {
          sl-input::part(base) {
            max-width: 150px;
          }
        }
      </style>
      <div class="lexml-data">
        <sl-radio-group label="Data" fieldset>
          <sl-radio name="data" value="2" ?checked=${!!this.data} @click=${this.setDate}>
            <sl-input id="input-data" label="Data" type="date" ?disabled=${!this.data} @input=${this.setDate}></sl-input>
          </sl-radio>
          <sl-radio name="data" id="no-date" value="1" ?checked=${!this.data} @click=${this.resetDate}>No informar</sl-radio>
        </sl-radio-group>
      </div>
    `}getCurrentDate(){return(new Date).toLocaleDateString().split("/").reverse().join("-")}resetDate(){const t=this.data;this.data="",t!==this.data&&this.agendarEmissaoEventoOnChange()}setDate(){if(this.inputData){const t=this.data;this.data=this.inputData.value,t!==this.data&&this.agendarEmissaoEventoOnChange()}}agendarEmissaoEventoOnChange(){clearTimeout(this.timerOnChange),this.timerOnChange=window.setTimeout((()=>this.emitirEventoOnChange()),1e3)}emitirEventoOnChange(){this.dispatchEvent(new CustomEvent("onchange",{bubbles:!0,composed:!0,detail:{origemEvento:"data"}}))}};dx.styles=us`
    .lexml-data {
      display: block;
      font-size: 1em;
      max-width: 700px;
    }
  `,ns([cl("#input-data")],dx.prototype,"inputData",void 0),ns([cl("#no-date")],dx.prototype,"optionNaoInformarData",void 0),ns([al({type:String})],dx.prototype,"data",void 0),dx=ns([rl("lexml-data")],dx);var px=ci`
  ${Ji}

  :host {
    display: inline-flex;
  }

  .badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: var(--sl-font-size-x-small);
    font-weight: var(--sl-font-weight-semibold);
    letter-spacing: var(--sl-letter-spacing-normal);
    line-height: 1;
    border-radius: var(--sl-border-radius-small);
    border: solid 1px var(--sl-color-neutral-0);
    white-space: nowrap;
    padding: 3px 6px;
    user-select: none;
    cursor: inherit;
  }

  /* Variant modifiers */
  .badge--primary {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--success {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--neutral {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--warning {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--danger {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /* Pill modifier */
  .badge--pill {
    border-radius: var(--sl-border-radius-pill);
  }

  /* Pulse modifier */
  .badge--pulse {
    animation: pulse 1.5s infinite;
  }

  .badge--pulse.badge--primary {
    --pulse-color: var(--sl-color-primary-600);
  }

  .badge--pulse.badge--success {
    --pulse-color: var(--sl-color-success-600);
  }

  .badge--pulse.badge--neutral {
    --pulse-color: var(--sl-color-neutral-600);
  }

  .badge--pulse.badge--warning {
    --pulse-color: var(--sl-color-warning-600);
  }

  .badge--pulse.badge--danger {
    --pulse-color: var(--sl-color-danger-600);
  }

  @keyframes pulse {
    0% {
      box-shadow: 0 0 0 0 var(--pulse-color);
    }
    70% {
      box-shadow: 0 0 0 0.5rem transparent;
    }
    100% {
      box-shadow: 0 0 0 0 transparent;
    }
  }
`,hx=class extends Zi{constructor(){super(...arguments),this.variant="primary",this.pill=!1,this.pulse=!1}render(){return Di`
      <span
        part="base"
        class=${sr({badge:!0,"badge--primary":"primary"===this.variant,"badge--success":"success"===this.variant,"badge--neutral":"neutral"===this.variant,"badge--warning":"warning"===this.variant,"badge--danger":"danger"===this.variant,"badge--pill":this.pill,"badge--pulse":this.pulse})}
        role="status"
      >
        <slot></slot>
      </span>
    `}};hx.styles=px,yr([wr({reflect:!0})],hx.prototype,"variant",2),yr([wr({type:Boolean,reflect:!0})],hx.prototype,"pill",2),yr([wr({type:Boolean,reflect:!0})],hx.prototype,"pulse",2),hx=yr([xr("sl-badge")],hx);var fx=ci`
  ${Ji}

  :host {
    --track-color: var(--sl-color-neutral-200);
    --indicator-color: var(--sl-color-primary-600);

    display: block;
  }

  .tab-group {
    display: flex;
    border: solid 1px transparent;
    border-radius: 0;
  }

  .tab-group .tab-group__tabs {
    display: flex;
    position: relative;
  }

  .tab-group .tab-group__indicator {
    position: absolute;
    left: 0;
    transition: var(--sl-transition-fast) transform ease, var(--sl-transition-fast) width ease;
  }

  .tab-group--has-scroll-controls .tab-group__nav-container {
    position: relative;
    padding: 0 var(--sl-spacing-x-large);
  }

  .tab-group__scroll-button {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    bottom: 0;
    width: var(--sl-spacing-x-large);
  }

  .tab-group__scroll-button--start {
    left: 0;
  }

  .tab-group__scroll-button--end {
    right: 0;
  }

  /*
   * Top
   */

  .tab-group--top {
    flex-direction: column;
  }

  .tab-group--top .tab-group__nav-container {
    order: 1;
  }

  .tab-group--top .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--top .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--top .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-bottom: solid 2px var(--track-color);
  }

  .tab-group--top .tab-group__indicator {
    bottom: -2px;
    border-bottom: solid 2px var(--indicator-color);
  }

  .tab-group--top .tab-group__body {
    order: 2;
  }

  .tab-group--top ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Bottom
   */

  .tab-group--bottom {
    flex-direction: column;
  }

  .tab-group--bottom .tab-group__nav-container {
    order: 2;
  }

  .tab-group--bottom .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--bottom .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--bottom .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-top: solid 2px var(--track-color);
  }

  .tab-group--bottom .tab-group__indicator {
    top: calc(-1 * 2px);
    border-top: solid 2px var(--indicator-color);
  }

  .tab-group--bottom .tab-group__body {
    order: 1;
  }

  .tab-group--bottom ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Start
   */

  .tab-group--start {
    flex-direction: row;
  }

  .tab-group--start .tab-group__nav-container {
    order: 1;
  }

  .tab-group--start .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-right: solid 2px var(--track-color);
  }

  .tab-group--start .tab-group__indicator {
    right: calc(-1 * 2px);
    border-right: solid 2px var(--indicator-color);
  }

  .tab-group--start .tab-group__body {
    flex: 1 1 auto;
    order: 2;
  }

  .tab-group--start ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }

  /*
   * End
   */

  .tab-group--end {
    flex-direction: row;
  }

  .tab-group--end .tab-group__nav-container {
    order: 2;
  }

  .tab-group--end .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-left: solid 2px var(--track-color);
  }

  .tab-group--end .tab-group__indicator {
    left: calc(-1 * 2px);
    border-left: solid 2px var(--indicator-color);
  }

  .tab-group--end .tab-group__body {
    flex: 1 1 auto;
    order: 1;
  }

  .tab-group--end ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }
`,mx=class extends Zi{constructor(){super(...arguments),this.localize=new nn(this),this.tabs=[],this.panels=[],this.hasScrollControls=!1,this.placement="top",this.activation="auto",this.noScrollControls=!1}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver((()=>{this.preventIndicatorTransition(),this.repositionIndicator(),this.updateScrollControls()})),this.mutationObserver=new MutationObserver((t=>{t.some((t=>!["aria-labelledby","aria-controls"].includes(t.attributeName)))&&setTimeout((()=>this.setAriaLabels())),t.some((t=>"disabled"===t.attributeName))&&this.syncTabsAndPanels()})),this.updateComplete.then((()=>{this.syncTabsAndPanels(),this.mutationObserver.observe(this,{attributes:!0,childList:!0,subtree:!0}),this.resizeObserver.observe(this.nav);new IntersectionObserver(((t,e)=>{var o;t[0].intersectionRatio>0&&(this.setAriaLabels(),this.setActiveTab(null!=(o=this.getActiveTab())?o:this.tabs[0],{emitEvents:!1}),e.unobserve(t[0].target))})).observe(this.tabGroup)}))}disconnectedCallback(){this.mutationObserver.disconnect(),this.resizeObserver.unobserve(this.nav)}show(t){const e=this.tabs.find((e=>e.panel===t));e&&this.setActiveTab(e,{scrollBehavior:"smooth"})}getAllTabs(t=!1){return[...this.shadowRoot.querySelector('slot[name="nav"]').assignedElements()].filter((e=>t?"sl-tab"===e.tagName.toLowerCase():"sl-tab"===e.tagName.toLowerCase()&&!e.disabled))}getAllPanels(){return[...this.body.querySelector("slot").assignedElements()].filter((t=>"sl-tab-panel"===t.tagName.toLowerCase()))}getActiveTab(){return this.tabs.find((t=>t.active))}handleClick(t){const e=t.target.closest("sl-tab");(null==e?void 0:e.closest("sl-tab-group"))===this&&null!==e&&this.setActiveTab(e,{scrollBehavior:"smooth"})}handleKeyDown(t){const e=t.target.closest("sl-tab");if((null==e?void 0:e.closest("sl-tab-group"))===this&&(["Enter"," "].includes(t.key)&&null!==e&&(this.setActiveTab(e,{scrollBehavior:"smooth"}),t.preventDefault()),["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(t.key))){const e=document.activeElement;if("sl-tab"===(null==e?void 0:e.tagName.toLowerCase())){let o=this.tabs.indexOf(e);"Home"===t.key?o=0:"End"===t.key?o=this.tabs.length-1:["top","bottom"].includes(this.placement)&&"ArrowLeft"===t.key||["start","end"].includes(this.placement)&&"ArrowUp"===t.key?o--:(["top","bottom"].includes(this.placement)&&"ArrowRight"===t.key||["start","end"].includes(this.placement)&&"ArrowDown"===t.key)&&o++,o<0&&(o=this.tabs.length-1),o>this.tabs.length-1&&(o=0),this.tabs[o].focus({preventScroll:!0}),"auto"===this.activation&&this.setActiveTab(this.tabs[o],{scrollBehavior:"smooth"}),["top","bottom"].includes(this.placement)&&qn(this.tabs[o],this.nav,"horizontal"),t.preventDefault()}}}handleScrollToStart(){this.nav.scroll({left:this.nav.scrollLeft-this.nav.clientWidth,behavior:"smooth"})}handleScrollToEnd(){this.nav.scroll({left:this.nav.scrollLeft+this.nav.clientWidth,behavior:"smooth"})}updateScrollControls(){this.noScrollControls?this.hasScrollControls=!1:this.hasScrollControls=["top","bottom"].includes(this.placement)&&this.nav.scrollWidth>this.nav.clientWidth}setActiveTab(t,e){if(e=vr({emitEvents:!0,scrollBehavior:"auto"},e),t!==this.activeTab&&!t.disabled){const o=this.activeTab;this.activeTab=t,this.tabs.map((t=>t.active=t===this.activeTab)),this.panels.map((t=>{var e;return t.active=t.name===(null==(e=this.activeTab)?void 0:e.panel)})),this.syncIndicator(),["top","bottom"].includes(this.placement)&&qn(this.activeTab,this.nav,"horizontal",e.scrollBehavior),e.emitEvents&&(o&&Kr(this,"sl-tab-hide",{detail:{name:o.panel}}),Kr(this,"sl-tab-show",{detail:{name:this.activeTab.panel}}))}}setAriaLabels(){this.tabs.forEach((t=>{const e=this.panels.find((e=>e.name===t.panel));e&&(t.setAttribute("aria-controls",e.getAttribute("id")),e.setAttribute("aria-labelledby",t.getAttribute("id")))}))}syncIndicator(){this.getActiveTab()?(this.indicator.style.display="block",this.repositionIndicator()):this.indicator.style.display="none"}repositionIndicator(){const t=this.getActiveTab();if(!t)return;const e=t.clientWidth,o=t.clientHeight,i=this.getAllTabs(!0),r=i.slice(0,i.indexOf(t)).reduce(((t,e)=>({left:t.left+e.clientWidth,top:t.top+e.clientHeight})),{left:0,top:0});switch(this.placement){case"top":case"bottom":this.indicator.style.width=`${e}px`,this.indicator.style.height="auto",this.indicator.style.transform=`translateX(${r.left}px)`;break;case"start":case"end":this.indicator.style.width="auto",this.indicator.style.height=`${o}px`,this.indicator.style.transform=`translateY(${r.top}px)`}}preventIndicatorTransition(){const t=this.indicator.style.transition;this.indicator.style.transition="none",requestAnimationFrame((()=>{this.indicator.style.transition=t}))}syncTabsAndPanels(){this.tabs=this.getAllTabs(),this.panels=this.getAllPanels(),this.syncIndicator()}render(){return Di`
      <div
        part="base"
        class=${sr({"tab-group":!0,"tab-group--top":"top"===this.placement,"tab-group--bottom":"bottom"===this.placement,"tab-group--start":"start"===this.placement,"tab-group--end":"end"===this.placement,"tab-group--has-scroll-controls":this.hasScrollControls})}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
      >
        <div class="tab-group__nav-container" part="nav">
          ${this.hasScrollControls?Di`
                <sl-icon-button
                  part="scroll-button scroll-button--start"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--start"
                  name="chevron-left"
                  library="system"
                  label=${this.localize.term("scrollToStart")}
                  @click=${this.handleScrollToStart}
                ></sl-icon-button>
              `:""}

          <div class="tab-group__nav">
            <div part="tabs" class="tab-group__tabs" role="tablist">
              <div part="active-tab-indicator" class="tab-group__indicator"></div>
              <slot name="nav" @slotchange=${this.syncTabsAndPanels}></slot>
            </div>
          </div>

          ${this.hasScrollControls?Di`
                <sl-icon-button
                  part="scroll-button scroll-button--end"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--end"
                  name="chevron-right"
                  library="system"
                  label=${this.localize.term("scrollToEnd")}
                  @click=${this.handleScrollToEnd}
                ></sl-icon-button>
              `:""}
        </div>

        <div part="body" class="tab-group__body">
          <slot @slotchange=${this.syncTabsAndPanels}></slot>
        </div>
      </div>
    `}};mx.styles=fx,yr([Or(".tab-group")],mx.prototype,"tabGroup",2),yr([Or(".tab-group__body")],mx.prototype,"body",2),yr([Or(".tab-group__nav")],mx.prototype,"nav",2),yr([Or(".tab-group__indicator")],mx.prototype,"indicator",2),yr([Ar()],mx.prototype,"hasScrollControls",2),yr([wr()],mx.prototype,"placement",2),yr([wr()],mx.prototype,"activation",2),yr([wr({attribute:"no-scroll-controls",type:Boolean})],mx.prototype,"noScrollControls",2),yr([wr()],mx.prototype,"lang",2),yr([Gr("noScrollControls",{waitUntilFirstUpdate:!0})],mx.prototype,"updateScrollControls",1),yr([Gr("placement",{waitUntilFirstUpdate:!0})],mx.prototype,"syncIndicator",1),mx=yr([xr("sl-tab-group")],mx);var vx=ci`
  ${Ji}

  :host {
    --padding: 0;

    display: block;
  }

  .tab-panel {
    border: solid 1px transparent;
    padding: var(--padding);
  }
`,gx=0;function bx(){return++gx}var yx=class extends Zi{constructor(){super(...arguments),this.attrId=bx(),this.componentId=`sl-tab-panel-${this.attrId}`,this.name="",this.active=!1}connectedCallback(){super.connectedCallback(),this.id=this.id.length>0?this.id:this.componentId}render(){return this.style.display=this.active?"block":"none",Di`
      <div part="base" class="tab-panel" role="tabpanel" aria-hidden=${this.active?"false":"true"}>
        <slot></slot>
      </div>
    `}};yx.styles=vx,yr([wr({reflect:!0})],yx.prototype,"name",2),yr([wr({type:Boolean,reflect:!0})],yx.prototype,"active",2),yx=yr([xr("sl-tab-panel")],yx);var xx=ci`
  ${Ji}

  :host {
    display: inline-block;
  }

  .tab {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    border-radius: var(--sl-border-radius-medium);
    color: var(--sl-color-neutral-600);
    padding: var(--sl-spacing-medium) var(--sl-spacing-large);
    white-space: nowrap;
    user-select: none;
    cursor: pointer;
    transition: var(--transition-speed) box-shadow, var(--transition-speed) color;
  }

  .tab:hover:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus {
    outline: none;
  }

  .tab${Pr}:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
    box-shadow: inset var(--sl-focus-ring);
  }

  .tab.tab--active:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab.tab--closable {
    padding-right: var(--sl-spacing-small);
  }

  .tab.tab--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .tab__close-button {
    font-size: var(--sl-font-size-large);
    margin-left: var(--sl-spacing-2x-small);
  }

  .tab__close-button::part(base) {
    padding: var(--sl-spacing-3x-small);
  }
`,_x=class extends Zi{constructor(){super(...arguments),this.localize=new nn(this),this.attrId=bx(),this.componentId=`sl-tab-${this.attrId}`,this.panel="",this.active=!1,this.closable=!1,this.disabled=!1}focus(t){this.tab.focus(t)}blur(){this.tab.blur()}handleCloseClick(){Kr(this,"sl-close")}render(){return this.id=this.id.length>0?this.id:this.componentId,Di`
      <div
        part="base"
        class=${sr({tab:!0,"tab--active":this.active,"tab--closable":this.closable,"tab--disabled":this.disabled})}
        role="tab"
        aria-disabled=${this.disabled?"true":"false"}
        aria-selected=${this.active?"true":"false"}
        tabindex=${this.disabled||!this.active?"-1":"0"}
      >
        <slot></slot>
        ${this.closable?Di`
              <sl-icon-button
                part="close-button"
                exportparts="base:close-button__base"
                name="x"
                library="system"
                label=${this.localize.term("close")}
                class="tab__close-button"
                @click=${this.handleCloseClick}
                tabindex="-1"
              ></sl-icon-button>
            `:""}
      </div>
    `}};_x.styles=xx,yr([Or(".tab")],_x.prototype,"tab",2),yr([wr({reflect:!0})],_x.prototype,"panel",2),yr([wr({type:Boolean,reflect:!0})],_x.prototype,"active",2),yr([wr({type:Boolean})],_x.prototype,"closable",2),yr([wr({type:Boolean,reflect:!0})],_x.prototype,"disabled",2),yr([wr()],_x.prototype,"lang",2),_x=yr([xr("sl-tab")],_x);let wx=class extends(pl(yg)(ol)){constructor(){super(),this.existeObserverEmenda=!1,this.totalAlertas=0,this.exibirAjuda=!0,this.parlamentares=[],this.modo=Au.EMENDA,this.projetoNorma={},this.autoria=new Iy,this.MOBILE_WIDTH=768,this.splitPanelPosition=68,this.sizeMode="",this.handleResize=()=>{this.updateLayoutSplitPanel(),this.ajustarAltura()}}async getParlamentares(){try{const t=await fetch("api/parlamentares");return(await t.json()).map((t=>({identificacao:t.id+"",nome:t.nome,sexo:t.sexo,siglaPartido:t.siglaPartido,siglaUF:t.siglaUF,siglaCasaLegislativa:t.siglaCasa})))}catch(t){console.log("Erro inesperado ao carregar lista de parlamentares"),console.log(t)}return Promise.resolve([])}atualizaListaParlamentares(){this.getParlamentares().then((t=>this.parlamentares=t))}montarColegiadoApreciador(t,e){return{siglaCasaLegislativa:"CN",tipoColegiado:"Comisso",siglaComissao:`CMMPV ${t}/${e}`}}montarLocalFromColegiadoApreciador(t){return"Comisso"===t.tipoColegiado?"Sala da comisso":"Sala das sesses"}montarEmendaBasicaFromProjetoNorma(t,e){var o,i,r,n;const a=new py;a.modoEdicao=e;const s=ev(this.projetoNorma);return a.componentes[0].urn=s,s&&(a.proposicao={urn:s,sigla:wp(s),numero:Ep(s),ano:Cp(s),ementa:hv(null===(n=null===(r=null===(i=null===(o=null==t?void 0:t.value)||void 0===o?void 0:o.projetoNorma)||void 0===i?void 0:i.norma)||void 0===r?void 0:r.parteInicial)||void 0===n?void 0:n.ementa.content),identificacaoTexto:"Texto da MPV"}),a}getEmenda(){const t=this.montarEmendaBasicaFromProjetoNorma(this.projetoNorma,this.modo),e=t.proposicao.numero.replace(/^0+/,"");return t.componentes[0].dispositivos=this._lexmlEta.getDispositivosEmenda(),t.comandoEmenda=this._lexmlEta.getComandoEmenda(),t.justificativa=this._lexmlJustificativa.texto,t.autoria=this._lexmlAutoria.getAutoriaAtualizada(),t.data=this._lexmlData.data||void 0,t.opcoesImpressao=this._lexmlOpcoesImpressao.opcoesImpressao,t.colegiadoApreciador=this.montarColegiadoApreciador(e,t.proposicao.ano),t.epigrafe=new gy,t.epigrafe.texto=`EMENDA N         - CMMPV ${e}/${t.proposicao.ano}`,t.epigrafe.complemento=`( ${t.proposicao.sigla} ${e}/${t.proposicao.ano})`,t.local=this.montarLocalFromColegiadoApreciador(t.colegiadoApreciador),t}inicializarEdicao(t,e,o){this._lexmlEmendaComando.emenda=[],this.modo=t,this.projetoNorma=e,this._lexmlEta.setProjetoNorma(t,e,!!o),o?this.setEmenda(o):this.resetaEmenda(t),setTimeout(this.handleResize,0)}setEmenda(t){this._lexmlEta.setDispositivosEmenda(t.componentes[0].dispositivos),this._lexmlAutoria.autoria=t.autoria,this._lexmlOpcoesImpressao.opcoesImpressao=t.opcoesImpressao,this._lexmlJustificativa.setContent(t.justificativa),this._lexmlData.data=t.data}resetaEmenda(t=hy.EMENDA){const e=new py;e.modoEdicao=t,this._lexmlEmendaComando.emenda={},this.setEmenda(e)}createRenderRoot(){return this}updateLayoutSplitPanel(t=!1){this.modo.startsWith("emenda")?("desktop"===this.sizeMode&&(this.splitPanelPosition=this.slSplitPanel.position),window.innerWidth<=this.MOBILE_WIDTH&&("mobile"!==this.sizeMode||t)?(this.sizeMode="mobile",this.slSplitPanel.position=100,this.slSplitPanel.setAttribute("disabled","true")):window.innerWidth>this.MOBILE_WIDTH&&("desktop"!==this.sizeMode||t)&&(this.sizeMode="desktop",this.slSplitPanel.position=this.splitPanelPosition,this.slSplitPanel.removeAttribute("disabled"))):"edicao"===this.modo&&(this.slSplitPanel.position=100)}connectedCallback(){super.connectedCallback(),window.addEventListener("resize",this.handleResize)}disconnectedCallback(){window.removeEventListener("resize",this.handleResize),super.disconnectedCallback()}firstUpdated(){var t;setTimeout((()=>this.atualizaListaParlamentares()),5e3),null===(t=this._tabsEsquerda)||void 0===t||t.addEventListener("sl-tab-show",(t=>{const e=t.detail.name;if("avisos"===e){const e=t.target.querySelector("sl-badge");e&&(e.pulse=!1)}else"autoria"===e&&0===this.parlamentares.length&&this.atualizaListaParlamentares()}))}updated(){this.modo.startsWith("emenda")?(this.slSplitPanel.removeAttribute("disabled"),this.slSplitPanel.position=this.splitPanelPosition):(this.slSplitPanel.setAttribute("disabled","true"),this.slSplitPanel.position=100)}pesquisarAlturaParentElement(t){if(null===t.parentElement)return 0;{const e=getComputedStyle(this).getPropertyValue("--min-height").replace("px","");return t.clientHeight>=e?t.clientHeight:this.pesquisarAlturaParentElement(t.parentElement)}}ajustarAltura(t){var e,o;let i=void 0!==t?t:this.pesquisarAlturaParentElement(this);const r=null===(o=null===(e=document.querySelector("sl-tab-group"))||void 0===e?void 0:e.shadowRoot)||void 0===o?void 0:o.querySelector(".tab-group__nav-container"),n=null==r?void 0:r.clientHeight;return!!(n&&(i=i-n-12,i>0))&&(null==this||this.style.setProperty("--height",i+"px"),null==this||this.style.setProperty("--overflow","hidden"),!0)}onChange(){var t;if(this.modo.startsWith("emenda")){const e=this._lexmlEta.getComandoEmenda();if(this._lexmlEmendaComando.emenda=e,this._lexmlEmendaComandoModal.atualizarComandoEmenda(e),(null===(t=e.comandos)||void 0===t?void 0:t.length)>0&&!this._lexmlJustificativa.texto){const t={id:"alerta-global-justificativa",tipo:"error",mensagem:"A emenda no possui uma justificativa",podeFechar:!1};yg.dispatch(Ol(t))}else yg.dispatch(Il("alerta-global-justificativa"))}}render(){return Ms`
      <style>
        :root {
          --height: 100%;
          --overflow: visible;
          --min-height: 300px;
        }
        sl-tab-panel {
          --padding: 0px;
        }
        sl-tab-panel::part(base) {
          height: var(--height);
          /* overflow: var(--overflow); */
          /* overflow-y: auto; */
        }
        sl-tab-panel.overflow-hidden::part(base) {
          overflow-y: auto;
        }
        lexml-emenda-comando {
          font-family: var(--eta-font-serif);
          display: ${this.modo.startsWith("emenda")?"block":"none"};
          height: 100%;
        }
        lexml-eta {
          font-family: var(--eta-font-serif);
          text-align: left;
        }
        lexml-emenda-justificativa #editor-justificativa {
          height: calc(var(--height) - 44px);
          overflow: var(--overflow);
        }
        .badge-pulse {
          margin-left: 7px;
          height: 16px;
          margin-top: -4px;
        }
        sl-split-panel {
          --divider-width: ${this.modo.startsWith("emenda")?"15px":"0px"};
        }
        sl-tab sl-icon {
          margin-right: 5px;
          font-size: 18px;
        }
        .tab-autoria__container {
          padding: 10px;
        }
        @media (max-width: 768px) {
          sl-split-panel {
            --divider-width: 0px;
          }
        }
      </style>

      <sl-split-panel>
        <sl-icon slot="handle" name="grip-vertical"></sl-icon>
        <div slot="start">
          <sl-tab-group id="tabs-esquerda">
            <sl-tab slot="nav" panel="lexml-eta">Texto</sl-tab>
            <sl-tab slot="nav" panel="justificativa">Justificativa</sl-tab>
            <sl-tab slot="nav" panel="autoria">Data, Autoria e Impresso</sl-tab>
            <sl-tab slot="nav" panel="avisos">
              Avisos
              <div class="badge-pulse" id="contadorAvisos">${this.totalAlertas>0?Ms` <sl-badge variant="danger" pill pulse>${this.totalAlertas}</sl-badge> `:""}</div>
            </sl-tab>
            <sl-tab-panel name="lexml-eta" class="overflow-hidden">
              <lexml-eta id="lexmlEta" @onchange=${this.onChange}></lexml-eta>
            </sl-tab-panel>
            <sl-tab-panel name="justificativa" class="overflow-hidden">
              <lexml-emenda-justificativa @onchange=${this.onChange}></lexml-emenda-justificativa>
            </sl-tab-panel>
            <sl-tab-panel name="autoria" class="overflow-hidden">
              <div class="tab-autoria__container">
                <lexml-data></lexml-data>
                <br />
                <lexml-autoria .parlamentares=${this.parlamentares}></lexml-autoria>
                <lexml-opcoes-impressao></lexml-opcoes-impressao>
              </div>
            </sl-tab-panel>
            <sl-tab-panel name="avisos" class="overflow-hidden">
              <lexml-eta-alertas></lexml-eta-alertas>
            </sl-tab-panel>
          </sl-tab-group>
        </div>
        <div slot="end">
          <sl-tab-group>
            <sl-tab slot="nav" panel="comando">
              <sl-icon name="code"></sl-icon>
              Comando
            </sl-tab>
            <sl-tab slot="nav" panel="dicas">
              <sl-icon name="lightbulb"></sl-icon>
              Dicas
            </sl-tab>
            <sl-tab slot="nav" panel="atalhos">
              <sl-icon name="keyboard"></sl-icon>
              Atalhos
            </sl-tab>
            <sl-tab-panel name="comando" class="overflow-hidden">
              <lexml-emenda-comando></lexml-emenda-comando>
            </sl-tab-panel>
            <sl-tab-panel name="dicas" class="overflow-hidden">
              <lexml-ajuda></lexml-ajuda>
            </sl-tab-panel>
            <sl-tab-panel name="atalhos" class="overflow-hidden">
              <lexml-eta-atalhos></lexml-eta-atalhos>
            </sl-tab-panel>
          </sl-tab-group>
        </div>
      </sl-split-panel>
    `}};ns([al({type:Boolean})],wx.prototype,"existeObserverEmenda",void 0),ns([al({type:Number})],wx.prototype,"totalAlertas",void 0),ns([al({type:Boolean})],wx.prototype,"exibirAjuda",void 0),ns([al({type:Array})],wx.prototype,"parlamentares",void 0),ns([sl()],wx.prototype,"autoria",void 0),ns([cl("lexml-eta")],wx.prototype,"_lexmlEta",void 0),ns([cl("lexml-emenda-justificativa")],wx.prototype,"_lexmlJustificativa",void 0),ns([cl("lexml-autoria")],wx.prototype,"_lexmlAutoria",void 0),ns([cl("lexml-data")],wx.prototype,"_lexmlData",void 0),ns([cl("lexml-opcoes-impressao")],wx.prototype,"_lexmlOpcoesImpressao",void 0),ns([cl("#tabs-esquerda")],wx.prototype,"_tabsEsquerda",void 0),ns([cl("lexml-emenda-comando")],wx.prototype,"_lexmlEmendaComando",void 0),ns([cl("lexml-emenda-comando-modal")],wx.prototype,"_lexmlEmendaComandoModal",void 0),ns([cl("sl-split-panel")],wx.prototype,"slSplitPanel",void 0),wx=ns([rl("lexml-emenda")],wx);var Ax=ci`
  ${Ji}

  :host {
    display: contents;

    /* For better DX, we'll reset the margin here so the base part can inherit it */
    margin: 0;
  }

  .alert {
    position: relative;
    display: flex;
    align-items: stretch;
    background-color: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-top-width: calc(var(--sl-panel-border-width) * 3);
    border-radius: var(--sl-border-radius-medium);
    box-shadow: var(--box-shadow);
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-normal);
    line-height: 1.6;
    color: var(--sl-color-neutral-700);
    margin: inherit;
  }

  .alert:not(.alert--has-icon) .alert__icon,
  .alert:not(.alert--closable) .alert__close-button {
    display: none;
  }

  .alert__icon {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-large);
    padding-left: var(--sl-spacing-large);
  }

  .alert--primary {
    border-top-color: var(--sl-color-primary-600);
  }

  .alert--primary .alert__icon {
    color: var(--sl-color-primary-600);
  }

  .alert--success {
    border-top-color: var(--sl-color-success-600);
  }

  .alert--success .alert__icon {
    color: var(--sl-color-success-600);
  }

  .alert--neutral {
    border-top-color: var(--sl-color-neutral-600);
  }

  .alert--neutral .alert__icon {
    color: var(--sl-color-neutral-600);
  }

  .alert--warning {
    border-top-color: var(--sl-color-warning-600);
  }

  .alert--warning .alert__icon {
    color: var(--sl-color-warning-600);
  }

  .alert--danger {
    border-top-color: var(--sl-color-danger-600);
  }

  .alert--danger .alert__icon {
    color: var(--sl-color-danger-600);
  }

  .alert__message {
    flex: 1 1 auto;
    padding: var(--sl-spacing-large);
    overflow: hidden;
  }

  .alert__close-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-large);
    padding-right: var(--sl-spacing-medium);
  }
`,Ex=Object.assign(document.createElement("div"),{className:"sl-toast-stack"}),Ox=class extends Zi{constructor(){super(...arguments),this.hasSlotController=new Br(this,"icon","suffix"),this.open=!1,this.closable=!1,this.variant="primary",this.duration=1/0}firstUpdated(){this.base.hidden=!this.open}async show(){if(!this.open)return this.open=!0,Wr(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,Wr(this,"sl-after-hide")}async toast(){return new Promise((t=>{null===Ex.parentElement&&document.body.append(Ex),Ex.appendChild(this),requestAnimationFrame((()=>{this.clientWidth,this.show()})),this.addEventListener("sl-after-hide",(()=>{Ex.removeChild(this),t(),null===Ex.querySelector("sl-alert")&&Ex.remove()}),{once:!0})}))}restartAutoHide(){clearTimeout(this.autoHideTimeout),this.open&&this.duration<1/0&&(this.autoHideTimeout=window.setTimeout((()=>this.hide()),this.duration))}handleCloseClick(){this.hide()}handleMouseMove(){this.restartAutoHide()}async handleOpenChange(){if(this.open){Kr(this,"sl-show"),this.duration<1/0&&this.restartAutoHide(),await Ln(this.base),this.base.hidden=!1;const{keyframes:t,options:e}=Fn(this,"alert.show");await Dn(this.base,t,e),Kr(this,"sl-after-show")}else{Kr(this,"sl-hide"),clearTimeout(this.autoHideTimeout),await Ln(this.base);const{keyframes:t,options:e}=Fn(this,"alert.hide");await Dn(this.base,t,e),this.base.hidden=!0,Kr(this,"sl-after-hide")}}handleDurationChange(){this.restartAutoHide()}render(){return Di`
      <div
        part="base"
        class=${sr({alert:!0,"alert--open":this.open,"alert--closable":this.closable,"alert--has-icon":this.hasSlotController.test("icon"),"alert--primary":"primary"===this.variant,"alert--success":"success"===this.variant,"alert--neutral":"neutral"===this.variant,"alert--warning":"warning"===this.variant,"alert--danger":"danger"===this.variant})}
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
        aria-hidden=${this.open?"false":"true"}
        @mousemove=${this.handleMouseMove}
      >
        <span part="icon" class="alert__icon">
          <slot name="icon"></slot>
        </span>

        <span part="message" class="alert__message">
          <slot></slot>
        </span>

        ${this.closable?Di`
              <sl-icon-button
                part="close-button"
                exportparts="base:close-button__base"
                class="alert__close-button"
                name="x"
                library="system"
                @click=${this.handleCloseClick}
              ></sl-icon-button>
            `:""}
      </div>
    `}};Ox.styles=Ax,yr([Or('[part="base"]')],Ox.prototype,"base",2),yr([wr({type:Boolean,reflect:!0})],Ox.prototype,"open",2),yr([wr({type:Boolean,reflect:!0})],Ox.prototype,"closable",2),yr([wr({reflect:!0})],Ox.prototype,"variant",2),yr([wr({type:Number})],Ox.prototype,"duration",2),yr([Gr("open",{waitUntilFirstUpdate:!0})],Ox.prototype,"handleOpenChange",1),yr([Gr("duration")],Ox.prototype,"handleDurationChange",1),Ox=yr([xr("sl-alert")],Ox),zn("alert.show",{keyframes:[{opacity:0,transform:"scale(0.8)"},{opacity:1,transform:"scale(1)"}],options:{duration:250,easing:"ease"}}),zn("alert.hide",{keyframes:[{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0.8)"}],options:{duration:250,easing:"ease"}});let Ix=class extends(pl(yg)(ol)){constructor(){super(...arguments),this.alertas=[]}stateChanged(t){var e;this.alertas=(null===(e=t.elementoReducer.ui)||void 0===e?void 0:e.alertas)||[]}getAlertIcon(t){return"success"===t?Ms`<sl-icon slot="icon" name="check2-circle"></sl-icon>`:"warning"===t?Ms`<sl-icon slot="icon" name="exclamation-triangle"></sl-icon>`:"danger"===t?Ms`<sl-icon slot="icon" name="exclamation-octagon"></sl-icon>`:Ms`<sl-icon slot="icon" name="info-circle"></sl-icon>`}limparAlertas(){yg.dispatch({type:"LIMPAR_ALERTAS"})}removeAlertaById(t){yg.dispatch(Il(t))}updated(t){var e,o,i;if(t.has("alertas")){null===(e=this.alertas)||void 0===e||e.forEach((t=>{var e,o;null===(o=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(t.id))||void 0===o||o.addEventListener("click",(t=>{t.stopImmediatePropagation(),this.removeAlertaById(t.target.id)}))}));const r=document.querySelector("lexml-emenda");r.totalAlertas=this.alertas.length;const n=(null===(o=t.get("alertas"))||void 0===o?void 0:o.length)||0;if(r.totalAlertas>n){const t=null===(i=document.querySelector("#contadorAvisos"))||void 0===i?void 0:i.querySelector("sl-badge");t&&(t.pulse=!0)}}}render(){return Ms`
      ${this.alertas.map((t=>Ms` ${t.podeFechar?Ms`
                <sl-alert variant="${t.tipo}" open>
                  <sl-icon-button name="x" class="alert__close-button" id="${t.id}" label="fechar"></sl-icon-button>
                  ${this.getAlertIcon(t.tipo)} ${t.mensagem}
                </sl-alert>
              `:Ms` <sl-alert variant="${t.tipo}" open> ${this.getAlertIcon(t.tipo)} ${t.mensagem} </sl-alert> `}`))}
    `}};Ix.styles=us`
    sl-alert {
      --box-shadow: var(--sl-shadow-x-large);
      margin: 20px;
    }
    .alert__close-button {
      font-size: 1.25rem;
      float: right;
    }
  `,ns([al({type:Array})],Ix.prototype,"alertas",void 0),Ix=ns([rl("lexml-eta-alertas")],Ix);let Sx=class extends(pl(yg)(ol)){constructor(){super(...arguments),this.acoesMenu=[]}stateChanged(t){var e,o;(null===(e=t.elementoReducer.ui)||void 0===e?void 0:e.events)&&"AtualizacaoAlertas"!==(null===(o=t.elementoReducer.ui.events[0])||void 0===o?void 0:o.stateType)&&this.processarStateEvents(t.elementoReducer.ui.events)}processarStateEvents(t){null==t||t.forEach((e=>{switch(e.stateType){case yh.ElementoSelecionado:case yh.ElementoMarcado:t[t.length-1]===e&&e.elementos&&this.atualizarAjuda(e.elementos[0])}}))}atualizarAjuda(t){var e;this.elementoSelecionado=t,this.acoesMenu=(null!==(e=t.acoesPossiveis)&&void 0!==e?e:[]).filter((t=>Mh(t)))}render(){return this.elementoSelecionado&&this.acoesMenu.length?Ms`
          <p>O que voc pode fazer com o dispositivo selecionado:</p>
          <ul>
            <li>Sugerir uma nova redao para o dispositivo. Para isso basta alterar o texto do dispositivo selecionado.</li>
            <li>
              Adicionar um novo dispositivo aps o dispositivo atual. Para isso v para o final do texto e pressione a tecla
              <span class="badge">enter</span>.
            </li>
          </ul>

          <p>
            Alm disso, clicando no menu de aes
            <span class="badge"><strong></strong></span> que fica  esquerda do dispositivo selecionado voc tambm pode:
          </p>
          <ul>
            ${this.acoesMenu.map((t=>Ms` <li>${t.descricao}</li> `))}
          </ul>
        `:Ms``}};Sx.styles=us`
    :host {
      padding: 0 10px;
      display: block;
      font-family: var(--sl-font-sans);
      font-size: var(--sl-font-size-small);
      font-weight: var(--sl-font-weight-normal);
    }
  `,ns([sl()],Sx.prototype,"elementoSelecionado",void 0),ns([sl()],Sx.prototype,"acoesMenu",void 0),Sx=ns([rl("lexml-ajuda")],Sx);let Cx=class extends ol{show(){this.slDialog.show()}render(){return Ms`
      <style>
        :host {
          font-family: var(--sl-font-sans);
        }
      </style>
      <sl-dialog label="Dicas">
        <lexml-ajuda></lexml-ajuda>
        <sl-button slot="footer" variant="primary" @click=${()=>this.slDialog.hide()}>Fechar</sl-button>
      </sl-dialog>
    `}};ns([cl("sl-dialog")],Cx.prototype,"slDialog",void 0),Cx=ns([rl("lexml-ajuda-modal")],Cx);let kx=class extends ol{atualizarComandoEmenda(t){this.lexmlComandoEmenda.emenda=t}show(){this.slDialog.show()}render(){return Ms`
      <style>
        :host {
          font-family: var(--sl-font-sans);
        }
      </style>
      <sl-dialog label="Comando">
        <lexml-emenda-comando id="comando-emenda-modal" .emenda=${this.comandoEmenda}></lexml-emenda-comando>
        <sl-button slot="footer" variant="primary" @click=${()=>this.slDialog.hide()}>Fechar</sl-button>
      </sl-dialog>
    `}};ns([cl("sl-dialog")],kx.prototype,"slDialog",void 0),ns([cl("#comando-emenda-modal")],kx.prototype,"lexmlComandoEmenda",void 0),ns([al({type:Object})],kx.prototype,"comandoEmenda",void 0),kx=ns([rl("lexml-emenda-comando-modal")],kx);let Nx=class extends ol{show(){this.slDialog.show()}render(){return Ms`
      <style>
        :host {
          font-family: var(--sl-font-sans);
        }
      </style>
      <sl-dialog label="Atalhos">
        <lexml-eta-atalhos></lexml-eta-atalhos>
        <sl-button slot="footer" variant="primary" @click=${()=>this.slDialog.hide()}>Fechar</sl-button>
      </sl-dialog>
    `}};ns([cl("sl-dialog")],Nx.prototype,"slDialog",void 0),Nx=ns([rl("lexml-atalhos-modal")],Nx);let Tx=class extends ol{constructor(){super(...arguments),this.timerEmitirEventoOnChange=0}set opcoesImpressao(t){this._opcoesImpressao=t||new Sy,this.requestUpdate()}get opcoesImpressao(){return this._opcoesImpressao}firstUpdated(){this.tamanhoFonte.addEventListener("sl-change",(t=>this._atualizarTamanhoFonte(t)))}render(){var t,e,o,i;return Ms`
      <style>
        sl-radio-group::part(base) {
          display: flex;
          flex-direction: column;
          gap: 20px;
          background-color: var(--sl-color-gray-100);
          box-shadow: var(--sl-shadow-x-large);
          flex-wrap: wrap;
          padding: 20px 20px;
        }
        sl-radio-group::part(label) {
          background-color: var(--sl-color-gray-200);
          font-weight: bold;
          border-radius: 5px;
          border: 1px solid var(--sl-color-gray-300);
          padding: 2px 5px;
          box-shadow: var(--sl-shadow-small);
        }

        sl-input::part(form-control) {
        }
        sl-input::part(base) {
        }
        @media (max-width: 480px) {
          sl-input::part(base) {
          }
        }
        sl-select {
          max-width: 400px;
        }
      </style>

      <sl-radio-group label="Opes de impresso" fieldset class="lexml-opcoes-impressao">
        <div>
          <input type="checkbox" id="chk-imprimir-brasao" ?checked=${null===(t=this._opcoesImpressao)||void 0===t?void 0:t.imprimirBrasao} @input=${t=>this._atualizarImprimirBrasao(t)} />
          <label for="chk-imprimir-brasao">Imprimir braso</label>
        </div>
        <sl-input
          type="text"
          id="input-cabecalho"
          name="textoCabecalho"
          label="Texto do cabealho"
          value=${null===(e=this._opcoesImpressao)||void 0===e?void 0:e.textoCabecalho}
          @input=${t=>this._atualizarTextoCabecalho(t)}
        ></sl-input>
        <div>
          <sl-select id="select-tamanho-fonte" label="Tamanho da letra" size="small" value=${null===(o=this._opcoesImpressao)||void 0===o?void 0:o.tamanhoFonte}>
            <sl-menu-item value="14">14</sl-menu-item>
            <sl-menu-item value="16">16</sl-menu-item>
            <sl-menu-item value="18">18</sl-menu-item>
          </sl-select>
        </div>
        <div>
          <input
            type="checkbox"
            id="chk-reduzir-espaco"
            ?checked=${null===(i=this._opcoesImpressao)||void 0===i?void 0:i.reduzirEspacoEntreLinhas}
            @input=${t=>this._atualizarReduzirEspacoEntreLinhas(t)}
          />
          <label for="chk-reduzir-espaco">Reduzir espao entre linhas</label>
        </div>
      </sl-radio-group>
    `}_atualizarTextoCabecalho(t){this._opcoesImpressao.textoCabecalho=t.target.value}_atualizarImprimirBrasao(t){this._opcoesImpressao.imprimirBrasao=t.target.checked}_atualizarTamanhoFonte(t){const e=parseInt(t.target.value);this._opcoesImpressao.tamanhoFonte=e}_atualizarReduzirEspacoEntreLinhas(t){this._opcoesImpressao.reduzirEspacoEntreLinhas=t.target.checked}agendarEmissaoEventoOnChange(t){clearInterval(this.timerEmitirEventoOnChange),this.timerEmitirEventoOnChange=window.setTimeout((()=>this.emitirEventoOnChange(t)),500)}emitirEventoOnChange(t){this.dispatchEvent(new CustomEvent("onchange",{bubbles:!0,composed:!0,detail:{origemEvento:t}}))}};Tx.styles=us`
    .lexml-opcoes-impressao {
      display: block;
      margin: 20px 0 80px 0;
      font-size: 1em;
      max-width: 700px;
    }
  `,ns([cl("#chk-imprimir-brasao")],Tx.prototype,"imprimirBrasao",void 0),ns([cl("#input-cabecalho")],Tx.prototype,"textoCabecalho",void 0),ns([cl("#chk-reduzir-espaco")],Tx.prototype,"reduzirEspacoEntreLinhas",void 0),ns([cl("#select-tamanho-fonte")],Tx.prototype,"tamanhoFonte",void 0),ns([al({type:Object})],Tx.prototype,"opcoesImpressao",null),Tx=ns([rl("lexml-opcoes-impressao")],Tx);export{Sx as AjudaComponent,Cx as AjudaModalComponent,Ix as AlertasComponent,xg as ArticulacaoComponent,Nx as AtalhosModalComponent,cx as AutoriaComponent,Eg as ComandoEmendaComponent,kx as ComandoEmendaModalComponent,dx as DataComponent,sy as EditorComponent,ly as ElementoComponent,cy as HelpComponent,uy as JustificativaEmendaComponent,ux as LexmlAutocomplete,wx as LexmlEmendaComponent,nx as LexmlEtaComponent,Tx as OpcoesImpressaoComponent};
//# sourceMappingURL=index.min.js.map
